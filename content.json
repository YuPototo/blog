{"meta":{"title":"å†™ä½œå³æ€è€ƒ","subtitle":"Yu çš„åšå®¢","description":"","author":"Yu Qin","url":"https://yupototo.github.io/blog","root":"/blog/"},"pages":[{"title":"å†™ä½œå³æ€è€ƒ","date":"2019-01-17T10:00:00.000Z","updated":"2020-02-03T17:14:34.351Z","comments":true,"path":"about/index.html","permalink":"https://yupototo.github.io/blog/about/index.html","excerpt":"","text":"ç¼˜èµ·å¤§å­¦æ—¶æ›¾ç»ä¸Šè¿‡ä¸€é—¨â€œé€šè¯†è¯¾â€ï¼Œè¯¾ç¨‹çš„å†…å®¹å¤§æ¦‚æ˜¯çŽ°ä»£å¤§å­¦å­¦æœ¯ä½“ç³»çš„å½¢æˆï¼Œè¿™é—¨è¯¾çš„å†…å®¹æˆ‘çŽ°åœ¨ä¸€ç‚¹ä¹Ÿè®°ä¸å¾—äº†ï¼Œå”¯ä¸€è®°å¾—çš„æ˜¯è¯¾ç¨‹æ•™æŽˆè¯´çš„ä¸€å¥è¯ï¼š å¦‚æžœä½ æƒ³äº†è§£ä¸€ä¸ªé—®é¢˜ï¼Œå°±é’ˆå¯¹è¿™ä¸ªé—®é¢˜å†™ä¸€éƒ¨ä¹¦ã€‚ è¿™å¥è¯ç•™åœ¨äº†æˆ‘è„‘å­é‡Œã€‚ å·¥ä½œä¹‹åŽï¼Œæˆ‘å‘çŽ°è‡ªå·±è¦å­¦ä¹ çš„ä¸œè¥¿è¶Šæ¥è¶Šå¤šï¼Œè·Ÿåœ¨å­¦æ ¡ä¸ä¸€æ ·çš„æ˜¯ï¼Œæˆ‘æ²¡æœ‰é‚£ä¹ˆå¤šæ—¶é—´åŽ»å­¦ä¹ äº†ã€‚è¿™é€¼ç€æˆ‘å¯»æ‰¾æœ€é«˜æ•ˆçš„å­¦ä¹ æ–¹å¼ã€‚ ç„¶åŽæˆ‘æƒ³åˆ°äº†å½“å¹´è€å¸ˆçš„è¿™å¥è¯ã€‚ å¦‚æžœæˆ‘æƒ³äº†è§£ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘åº”è¯¥é’ˆå¯¹è¿™ä¸ªé—®é¢˜å†™ä¸€ç‚¹ä¸œè¥¿ã€‚æˆ‘æ²¡æœ‰æ—¶é—´åŽ»å†™ä¹¦ï¼Œä½†æˆ‘å¯ä»¥å†™ä¸€ç¯‡æ–‡ç« ã€‚æ—¢ç„¶å†™äº†ï¼Œå°±å¯ä»¥å‘åœ¨åšå®¢é‡Œï¼Œè®©å…¶ä»–çœ‹åˆ°ï¼Œä¹Ÿè®¸èƒ½å¾—åˆ°ä¸€äº›åé¦ˆã€‚ é˜¶æ®µæ€§æˆæžœè¿™ä¸ªæ–¹å¼æŒç»­äº†ä¸€å¹´ï¼ŒçŽ°åœ¨æˆ‘éžå¸¸è®¤åŒè€å¸ˆçš„é‚£å¥è¯ã€‚ åœ¨é’ˆå¯¹æŸä¸ªä¸»é¢˜å†™ä½œçš„è¿‡ç¨‹é‡Œï¼Œæˆ‘ä¼šå‘çŽ°è‡ªå·±å¯¹æŸä¸ªç»†èŠ‚ä»ç„¶ä¸äº†è§£ï¼ŒäºŽæ˜¯æŸ¥æ‰¾èµ„æ–™ï¼Œå°è¯•ç”¨è‡ªå·±çš„è¯­è¨€è¡¨è¾¾ã€‚ è¿™æ˜¯ä¸€ä¸ªé€¼è¿«è‡ªå·±å­¦ä¹ å’Œæ€è€ƒçš„è¿‡ç¨‹ï¼Œæ¯”èµ·å•çº¯çš„ä¿¡æ¯è¾“å…¥ï¼ˆé˜…è¯»ã€çœ‹è§†é¢‘ï¼‰ï¼Œä»¥è¾“å‡ºä¸ºç›®çš„çš„å­¦ä¹ ä¼šæ›´æœ‰æ•ˆæžœã€‚æ¯”èµ·å¤§è„‘å†…ç‰‡æ–­æ€§çš„æ€è€ƒï¼Œä»¥è¾“å‡ºä¸ºç›®çš„çš„æ€è€ƒä¹Ÿä¼šæ›´æ·±åˆ»ï¼Œä¸”ç»å¾—èµ·æŽ¨æ•²ã€‚ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });"},{"title":"æ‰€æœ‰åˆ†ç±»","date":"2020-02-03T17:14:34.355Z","updated":"2020-02-03T17:14:34.355Z","comments":true,"path":"categories/index.html","permalink":"https://yupototo.github.io/blog/categories/index.html","excerpt":"","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });"},{"title":"æ‰€æœ‰æ ‡ç­¾","date":"2020-02-03T17:14:34.355Z","updated":"2020-02-03T17:14:34.355Z","comments":true,"path":"tags/index.html","permalink":"https://yupototo.github.io/blog/tags/index.html","excerpt":"","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });"}],"posts":[{"title":"å°å¿ƒå‡å€¼","slug":"ds-5-beware-of-mean","date":"2020-01-20T12:56:00.000Z","updated":"2020-02-03T17:14:34.339Z","comments":true,"path":"2020/01/20/ds-5-beware-of-mean/","link":"","permalink":"https://yupototo.github.io/blog/2020/01/20/ds-5-beware-of-mean/","excerpt":"åœ¨ Hacker News çœ‹åˆ°ä¸€ç¯‡æ–‡ç«  Beware the meanã€‚è¿™ç¯‡æ–‡ç« çš„ä¸»é¢˜æ˜¯ï¼šå‡å€¼ä¸æ˜¯å®Œç¾Žçš„æŒ‡æ ‡ï¼Œç”šè‡³æžç«¯ä¸€ç‚¹åœ°è¯´ï¼Œåœ¨åˆ†å¸ƒç¬¦åˆ power-law çš„æƒ…å†µä¸‹ï¼Œå‡å€¼æ˜¯ç³Ÿç³•çš„æŒ‡æ ‡ã€‚ æˆ‘åœ¨æ¸¸æˆå…¬å¸åšæ•°æ®åˆ†æžæ—¶å°±å¯¹è¿™ä¸ªé—®é¢˜æœ‰å¼ºçƒˆçš„æ„Ÿè§¦ï¼Œä½†å½“æ—¶æ²¡èƒ½æƒ³åˆ°æ›´å¥½çš„æŒ‡æ ‡ã€‚Beware the mean æå‡ºäº†ä¸€äº›å€¼å¾—æŽ¢è®¨çš„æ€è·¯ã€‚","text":"åœ¨ Hacker News çœ‹åˆ°ä¸€ç¯‡æ–‡ç«  Beware the meanã€‚è¿™ç¯‡æ–‡ç« çš„ä¸»é¢˜æ˜¯ï¼šå‡å€¼ä¸æ˜¯å®Œç¾Žçš„æŒ‡æ ‡ï¼Œç”šè‡³æžç«¯ä¸€ç‚¹åœ°è¯´ï¼Œåœ¨åˆ†å¸ƒç¬¦åˆ power-law çš„æƒ…å†µä¸‹ï¼Œå‡å€¼æ˜¯ç³Ÿç³•çš„æŒ‡æ ‡ã€‚ æˆ‘åœ¨æ¸¸æˆå…¬å¸åšæ•°æ®åˆ†æžæ—¶å°±å¯¹è¿™ä¸ªé—®é¢˜æœ‰å¼ºçƒˆçš„æ„Ÿè§¦ï¼Œä½†å½“æ—¶æ²¡èƒ½æƒ³åˆ°æ›´å¥½çš„æŒ‡æ ‡ã€‚Beware the mean æå‡ºäº†ä¸€äº›å€¼å¾—æŽ¢è®¨çš„æ€è·¯ã€‚ ä¸ºä»€ä¹ˆå‡å€¼ä¸å¤Ÿå¥½åˆ¤æ–­ä¸€ä¸ªæ¸¸æˆçš„å¥½åæ—¶ï¼Œç»å¸¸ä½¿ç”¨ LTV ä½œä¸ºæŒ‡æ ‡ã€‚ LTV çš„è‹±æ–‡æ˜¯ life time valueï¼Œå«ä¹‰æ˜¯â€œç”¨æˆ·ç”Ÿå‘½å‘¨æœŸâ€æ”¶å…¥ã€‚ä¸¥æ ¼åœ°è¯´ï¼Œå®ƒåº”è¯¥æ˜¯ä¸€ä¸ªåˆ†å¸ƒã€‚ å¦‚æžœæœ‰1000ä¸ªç”¨æˆ·ï¼Œç»è¿‡30å¤©åŽï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—è¿™1000ä¸ªç”¨æˆ·çš„ä»˜è´¹ï¼Œå¾—åˆ°1000ä¸ª30å¤©LTVã€‚ç„¶åŽæˆ‘ä»¬å¯ä»¥ç”»ä¸€ä¸ªç›´æ–¹å›¾ï¼ŒæŸ¥çœ‹LTVçš„åˆ†å¸ƒæƒ…å†µã€‚ä½†æˆ‘å½“å¹´æ‰€åœ¨çš„3ä¸ªæ¸¸æˆå…¬å¸éƒ½ä¸ä¼šè¿™æ ·åšã€‚ æœ€ç²—æš´çš„ç®—æ³•æ˜¯ï¼š1000ä¸ªç”¨æˆ·åœ¨30å¤©çš„æ€»æ”¶å…¥/1000ã€‚å¯¹æ•°å­¦è¶³å¤Ÿæ•æ„Ÿçš„äººä¼šå¾ˆå¿«æ„è¯†åˆ°ï¼Œè¿™ä¸ªæ•°å­—æ˜¯ä¸Šé¢æè¿°çš„åˆ†å¸ƒçš„å‡å€¼ï¼Œè¿™ä¸ªå‡å€¼ï¼Œä¸€èˆ¬è¢«ç§°ä¸º30æ—¥LTVã€‚ æ¸¸æˆå…¬å¸ç”¨è¿™ä¸ªæŒ‡æ ‡åˆ¤æ–­æ¸¸æˆçš„è¥æ”¶èƒ½åŠ›ã€‚è¿™æ˜¯å®Œå…¨ä¸å¤Ÿçš„ã€‚ è¿™1000ä¸ªäººå¯ä»¥å½“ä½œä¸€ä¸ªéšæœºæŠ½æ ·ï¼Œå°‘æ•°ç¦»ç¾¤å€¼ä¼šä¸¥é‡å½±å“è®¡ç®—å‡ºçš„å‡å€¼å¤§å°ã€‚ æ¯”å¦‚ï¼Œ1000ä¸ªäººå¦‚æžœåˆšå¥½æœ‰ä¸ªåœŸè±ªï¼Œå‡å€¼æ˜¾ç„¶ä¼šå¾ˆé«˜ï¼Œè€Œå¦‚æžœæ²¡æœ‰åœŸè±ªè¿›å…¥ï¼ˆè€ƒè™‘åˆ°åœŸè±ªçš„æ•°é‡è‡³å°‘ï¼Œè¿™æ˜¯å¤§æ¦‚çŽ‡äº‹ä»¶ï¼‰ï¼Œæ¸¸æˆçš„è¥æ”¶èƒ½åŠ›ä¼šè¢«ä½Žä¼°ã€‚ æ¢å¥è¯è¯´ï¼Œå¦‚æžœåªä½¿ç”¨å‡å€¼ï¼Œ\bå¤§æ¦‚çŽ‡ä¼šé”™åˆ¤æ¸¸æˆçš„è¥æ”¶èƒ½åŠ›ï¼Œè¿›è€Œè®©äººåšå‡ºé”™è¯¯çš„å•†ä¸šå†³ç­–ã€‚ æˆ‘å¯¹è¿™ä¸ªé—®é¢˜æœ‰äº²èº«ä½“ä¼šã€‚æˆ‘æ›¾ç»åœ¨ä¸€å®¶ä¸­åž‹æ¸¸æˆå…¬å¸å·¥ä½œï¼Œè¿™å®¶å…¬å¸åŒæ—¶è¿è¥å¾ˆå¤šæ¬¾æ¸¸æˆï¼Œæ¯ä¸ªæ¸¸æˆéƒ½æœ‰1åˆ°2ä¸ªè¿è¥åœ¨è°ƒèŠ‚è¿è¥æ´»åŠ¨ã€‚ä»–ä»¬è°ƒæ•´è¿è¥æ´»åŠ¨çš„å†³ç­–ä¾æ®å¤§éƒ¨åˆ†æ˜¯ ARPPUï¼ˆæ¯ä»˜è´¹ç”¨æˆ·çš„æ”¶å…¥ï¼‰ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªå‡å€¼ã€‚ ç†è®ºä¸Šè¯´ï¼Œå› ä¸ºåœŸè±ªçš„æ¦‚çŽ‡å¾ˆä½Žï¼Œæ‰€ä»¥åº”è¯¥èƒ½çœ‹åˆ°æ¯ä¸ªæ¸¸æˆæœä¹‹é—´å­˜åœ¨å·¨å¤§çš„ ARPPU æ³¢åŠ¨ã€‚è¿è¥äººå‘˜ç»å¸¸ä¿®æ”¹æ¸¸æˆæ´»åŠ¨ï¼Œä¸€æ—¦ä¿®æ”¹æ¸¸æˆæ´»åŠ¨åŽ ARPPU å¢žåŠ ï¼Œä»–ä»¬å°±ä¼šè®¤ä¸ºæ´»åŠ¨æ˜¯æœ‰ç”¨çš„ï¼Œå¦åˆ™ï¼Œä»–ä»¬å°±ä¼šè®¤ä¸ºæ´»åŠ¨æ²¡ç”¨ã€‚å½“ç„¶ï¼Œæ´»åŠ¨æ²¡ç”¨çš„æƒ…å†µæ˜¯æœ€å¤šçš„ï¼Œæ¯•ç«Ÿ power-law åˆ†å¸ƒä¸‹åœŸè±ªçš„æ¦‚çŽ‡ä½Žå˜›ã€‚ å› ä¸ºä¸Šé¢è¿™ä¸ªåŸºäºŽå‡å€¼çš„æ€è·¯ï¼Œè¿è¥äººå‘˜è§‚å¯Ÿåˆ°äº†å¤§é‡çš„æ•°æ®æ³¢åŠ¨ï¼Œå¹¶æŠŠè¿™äº›æ³¢åŠ¨ç†è§£ä¸ºæ˜¯è‡ªå·±è¡Œä¸ºçš„åŽæžœï¼ŒäºŽæ˜¯æ€»ç»“è§„å¾‹ï¼Œå¸Œæœ›èƒ½å¤åˆ¶æˆåŠŸæ–¹æ¡ˆã€‚ç»“æžœå› ä¸ºæ•°æ®å—åˆ°éšæœºå› ç´ å½±å“ï¼Œä¸‹æ¬¡å‡ºçŽ°ä¸äº†åŒæ ·çš„æˆåŠŸï¼Œè¿è¥äººå‘˜åˆå¾—åŽ»æ€è€ƒæ–°çš„æ–¹æ¡ˆï¼ŒäºŽæ˜¯å¾ªçŽ¯å¾€å¤ï¼Œæµªè´¹å¤§é‡æ—¶é—´ç²¾åŠ›ã€‚ æ›¿ä»£æ–¹æ¡ˆBeware the mean æåˆ°çš„æ›¿ä»£æ–¹æ¡ˆæ˜¯ï¼šé€‰æ‹©åˆ†ä½æ•°ä¸Šçš„æŒ‡æ ‡ä½œä¸ºè¡¡é‡æ ‡å‡†ã€‚ æ¯”å¦‚ï¼Œå¯ä»¥æ ¹æ®ä¸šåŠ¡æƒ…å†µå®šæŒ‡æ ‡å¦‚ä¸‹ï¼š 80% åˆ†ä½æ•°ä¸Šçš„ç”¨æˆ·çš„ä»˜è´¹éœ€è¦è¶…è¿‡ç”¨æˆ·èŽ·å–æˆæœ¬ 90% åˆ†ä½æ•°ä¸Šçš„ç”¨æˆ·ä»˜è´¹éœ€è¦è¶…è¿‡ x å…ƒ 99% åˆ†ä½æ•°ä¸Šçš„ç”¨æˆ·ä»˜è´¹è¦è¶…è¿‡ y å…ƒ æœ€å¤§å€¼è¦è¶…è¿‡ z å…ƒ æŒ‰ç…§è¿™ä¸ªæ ‡å‡†åŽ»è®¾å®š KPIï¼Œæœ‰ä¸¤ä¸ªå¥½å¤„ï¼š å¯ä»¥å¸®åŠ©æˆ‘ä»¬ä»Žåˆ†å¸ƒè§’åº¦åŽ»ç†è§£å¹¶â€œè®¾è®¡â€ç”¨æˆ·æ”¶å…¥çš„æž„æˆ é¿å…æžç«¯å¼‚å¸¸å€¼çš„å½±å“ å®ƒä¸ä¸€å®šèƒ½å®Œå…¨æ›¿ä»£ä¼ ç»Ÿçš„â€œå‡å€¼â€æŒ‡æ ‡ï¼Œæ¯•ç«Ÿï¼Œå‡å€¼æ˜¯æœ€ç®€å•æ˜“æ‡‚çš„ï¼Œåœ¨ç»„ç»‡å±‚é¢ä½¿ç”¨å‡å€¼ä½œä¸ºæŒ‡æ ‡èƒ½æœ€å°åŒ–æ²Ÿé€šæˆæœ¬ã€‚ ä½†å¯¹äºŽå‘˜å·¥çŸ¥è¯†æ°´å¹³æ¯”è¾ƒé«˜çš„å›¢é˜Ÿï¼Œè¿™æ˜¯ä¸€ä¸ªå€¼å¾—å°è¯•çš„æ€è·¯ã€‚è¿™ä¸ªæ–¹æ³•ä¸€æ—¦éªŒè¯æœ‰æ•ˆï¼Œä¼šæ˜¯ä¸€ä¸ªå¾ˆéš¾è¢«æ¨¡ä»¿çš„ç«žäº‰ä¼˜åŠ¿ã€‚ä¸ºä»€ä¹ˆå¾ˆéš¾è¢«æ¨¡ä»¿å‘¢ï¼Ÿå› ä¸ºæƒ³è®©æ¸¸æˆå…¬å¸çš„åŒäº‹ç†è§£åˆ†ä½æ•°å¹¶ä¸å®¹æ˜“ï¼Œæ›´åˆ«è¯´åº”ç”¨åœ¨æ—¥å¸¸å·¥ä½œä¸­äº†ã€‚ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"æ•°æ®ç§‘å­¦","slug":"æ•°æ®ç§‘å­¦","permalink":"https://yupototo.github.io/blog/categories/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6/"}],"tags":[]},{"title":"Shallow Copy å’Œ Deep Copy","slug":"coding-13-deepcopy","date":"2019-11-30T20:57:40.000Z","updated":"2020-02-03T17:14:34.335Z","comments":true,"path":"2019/11/30/coding-13-deepcopy/","link":"","permalink":"https://yupototo.github.io/blog/2019/11/30/coding-13-deepcopy/","excerpt":"åœ¨çŽ© JavaScript æ—¶ç¢°åˆ°äº† deep copy çš„é—®é¢˜ï¼Œæƒ³èµ·å­¦ python æ—¶ä¹Ÿç¢°åˆ°è¿‡ï¼Œé‚æœ‰æ­¤æ–‡ï¼Œäº’ç›¸å°è¯ã€‚ æœ¬æ–‡ä¾æ¬¡è®¨è®ºï¼š variable assignment shallow copy deep copy","text":"åœ¨çŽ© JavaScript æ—¶ç¢°åˆ°äº† deep copy çš„é—®é¢˜ï¼Œæƒ³èµ·å­¦ python æ—¶ä¹Ÿç¢°åˆ°è¿‡ï¼Œé‚æœ‰æ­¤æ–‡ï¼Œäº’ç›¸å°è¯ã€‚ æœ¬æ–‡ä¾æ¬¡è®¨è®ºï¼š variable assignment shallow copy deep copy Variable Assignmentåœ¨ç†è§£ shallow copy å’Œ deep copy ä¹‹å‰ï¼Œéœ€è¦å…ˆç†è§£ï¼šassignment ä¸æ˜¯å¤åˆ¶ï¼Œåªæ˜¯æ˜ å°„ã€‚ ä½†å¯¹ primitive data typeï¼Œassignment ä¼šå®žé™…ä¸Šé€ æˆâ€œå¤åˆ¶â€çš„æ•ˆæžœã€‚ Primitive Data TypePython æœ‰å¦‚ä¸‹åŸºç¡€æ•°æ®ç»“æž„ï¼š \bintegers floats strings booleans ä¸‹é¢è¿™æ®µä»£ç çš„æ‰“å°ç»“æžœæ˜¯æ–°æ‰‹éƒ½èƒ½çŒœåˆ°çš„ï¼š Python1234a = 1b = aa = 3 print(b) # 1 æŠŠ a çš„å€¼èµ‹ç»™ b ä¹‹åŽï¼Œå†æ”¹å˜ a çš„å€¼ï¼Œå¹¶ä¸ä¼šæ”¹å˜ b çš„å€¼ã€‚ JavaScript ä¹Ÿæœ‰ primitive data typeï¼š Number String Boolean æ‰€ä»¥ä¸‹é¢çš„ä»£ç ä¹Ÿä¼šæ‰“å°å‡º 1ã€‚ JavaScript1234var a = 1var b = aa = 3console.log(b) // 1 R è¯­è¨€ä¹Ÿæ˜¯è¿™æ ·ï¼ˆä¸‹é¢è¿™æ®µä»£ç è·Ÿ python çš„ä¾‹å­ä¸€æ‘¸ä¸€æ · ðŸ˜)ï¼š R1234a = 1b = aa = 3 print(b) # 1 åˆå­¦è€…ç»å¸¸ä¼šæœ‰ç§é”™è¯¯ï¼šä¸Šé¢çš„â€œæ¨¡å¼â€åœ¨ä»»ä½•æƒ…å¢ƒä¸‹éƒ½ä¼šæˆç«‹ã€‚å¯¹ R æ˜¯è¿™æ ·ï¼Œä½†å¯¹ python å’Œ JS ä¸æ˜¯ã€‚ Python: non-primitive data typePython çš„ non-primitive data type åŒ…æ‹¬ä½†ä¸é™äºŽ list, dictionary, class ç­‰ç­‰ã€‚å¯ä»¥è®¤ä¸ºä¸æ˜¯ primitive çš„å°±æ˜¯ non-primitiveã€‚ ä»¥ list ä¸ºä¾‹ï¼Œpython ä¼šæ€Žä¹ˆå¤„ç† b = a çš„å˜é‡èµ‹å€¼é—®é¢˜ï¼Ÿ Python12345a = [1, 2, 3]b = aa[0] = 100print(b)# [100, 2, 3] ä¾æ¬¡è§£è¯»ä»£ç å¦‚ä¸‹ï¼š ç¬¬1è¡Œï¼šåˆ›å»ºäº†ä¸€ä¸ª list å¯¹è±¡[1, 2, 3]ï¼Œå¹¶åˆ›å»ºäº†ä¸€ä¸ª variable aï¼Œç„¶åŽæŠŠ a æ˜ å°„åˆ° list å¯¹è±¡ ç¬¬2è¡Œï¼šåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ varialbe bï¼ŒæŠŠ b æ˜ å°„åˆ° a æ‰€æ˜ å°„çš„å¯¹è±¡[1, 2, 3] ç¬¬3è¡Œï¼šä¿®æ”¹äº†[1, 2, 3]å¯¹è±¡çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸º100 ç¬¬4è¡Œï¼šæ‰“å°å˜é‡bï¼Œç»“æžœï¼š [100, 2, 3] b = a è¿™è¡Œä»£ç å¹¶æ²¡æœ‰çœŸçš„å¤åˆ¶ä¸€ä¸ªå¯¹è±¡ï¼Œåªæ˜¯å¤åˆ¶äº†æ˜ å°„ã€‚ ä¸‹é¢æˆ‘ä»¬è¯æ˜Ž a å’Œ b æ˜ å°„åˆ°äº†ä¸€ä¸ªåœ°å€ï¼š Python123a = [1,2,3]b = a print(a is b) # True is operator å¯ä»¥æ£€æŸ¥ä¸¤ä¸ª variable æ˜¯å¦æ˜ å°„åˆ°åŒä¸€ä¸ªä½ç½®ã€‚å¦ä¸€ä¸ªè¯æ˜Žæ–¹æ³•æ˜¯ç”¨id()è¿”å›žå˜é‡æ‰€åœ¨çš„ä½ç½®ã€‚ JavaScript: non-primitive data typeJavaScript çš„ non-primitve data å˜›ï¼Œç†è§£ä¸º Object å°±å·®ä¸å¤šäº†ã€‚æ¯•ç«Ÿï¼Œfunctionã€array ç­‰ç­‰éƒ½æ˜¯ Objectã€‚ JavaScript12345var a = [1, 2, 3]var b = aa[0] = 100console.log(b)// [100, 2, 3] é€»è¾‘å‡ ä¹Žè·Ÿ python ä¸€æ ·ã€‚ ä½†æˆ‘æ²¡èƒ½åœ¨ JavaScript é‡Œæ‰¾åˆ°ç±»ä¼¼ Python é‡Œçš„ is å’Œ id()ã€‚ RR ä¸ä¸€æ ·ã€‚ ä¸ç®¡æ˜¯ primitive data è¿˜æ˜¯ non-primitive dataï¼ŒR éƒ½ä¼šå½“ä½œ primitive data ä¸€æ ·å¤åˆ¶ï¼š R12345a &lt;- c(1, 2, 3)b &lt;- a a[1] = 100print(b)# 1 2 3 Python å’Œ Javascript çš„ b ä¼šéšç€ a ä¸€èµ·å˜åŒ–ï¼ŒR å´ä¸ä¼šã€‚æ˜¯ä¸æ˜¯å¯ä»¥æŽ¨æµ‹è¯´ b &lt;- a è¿™è¡Œä»£ç ä¼šåˆ›å»ºæ–°çš„ object å‘¢ï¼Ÿ å¹¶ä¸æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹ä¸¤ä¸ªå˜é‡æŒ‡å‘çš„ä½ç½®ï¼š R12345678a &lt;- c(1, 2, 3)b &lt;- a print(lobstr::obj_addr(a)) #\"0x7fbd42342078\"print(lobstr::obj_addr(b)) #\"0x7fbd42342078\"a[1] &lt;- 100print(lobstr::obj_addr(a)) #\"0x7fbd42342058\"print(lobstr::obj_addr(b)) #\"0x7fbd42342078\" ç¬¬3è¡Œå’Œç¬¬4è¡Œè¯´æ˜Žä¸¤ä¸ªaå’Œbæ˜ å°„åˆ°äº†åŒä¸€ä¸ªåœ°å€ã€‚ä½†ç¬¬8è¡Œé‡Œï¼Œa æ˜ å°„çš„åœ°å€å˜äº†ã€‚a[1] = 100 åˆ›é€ å‡ºäº†ä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚ è™½ç„¶b &lt;- a æ˜¯æŠŠ b æ˜ å°„åˆ°äº† c(1,2,3)ï¼Œä½†å¦‚æžœä¿®æ”¹aæˆ–bçš„å…¶ä¸­ä»»ä½•ä¸€ä¸ªï¼Œéƒ½ä¼šå†åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚ æ‰€ä»¥åœ¨ R é‡Œæˆ‘ä»¬å¯ä»¥å†™ df2 &lt;- df1 è¿™æ ·çš„è¯­å¥ï¼Œç„¶åŽä¸æ‹…å¿ƒä¿®æ”¹ df2 ä¼šå½±å“ df\b1ã€‚ è¿™ä¸ªä¾‹å­å¯ä»¥ç”¨æ¥è¯´æ˜Žä¸ºä»€ä¹ˆ R è¯­è¨€æ›´é€‚åˆå½“ä½œç»Ÿè®¡å­¦åˆå­¦è€…çš„å­¦ä¹ å·¥å…·ï¼Œå› ä¸ºå®ƒä¸å­˜åœ¨å…¶ä»–è¯­è¨€ä¸ºäº†ä¼˜åŒ–æ€§èƒ½è€Œè®¾è®¡çš„ç§ç§â€œåç›´è§‰è®¾å®šâ€ã€‚ Shallow CopyPythonåˆšæ‰å·²ç»è¯æ˜Žäº†a = bä¸èƒ½å®žçŽ° copyï¼Œåªæ˜¯å¤åˆ¶äº†ä¸€ä¸ªæ˜ å°„ã€‚ ä¸‹é¢ç ”ç©¶å¦‚ä½•å¤åˆ¶ã€‚ å¦‚æžœæƒ³å¤åˆ¶ listï¼Œdictionaryæˆ–setï¼Œå¯ä»¥ç›´æŽ¥ç”¨list(),dict()æˆ–set()ã€‚ Python1234567a = [1,2,3]b = list(a)print(b is a) # Falsea[0] = 100print(b) # [1, 2, 3] å¦å¤–ä¸€ä¸ªæ–¹æ³•ï¼Œæ˜¯ç”¨ copy library é‡Œçš„ copy() å‡½æ•°ã€‚ Python12345import copya = [1, 2, 3]b = copy.copy(a)print(a is b) # False å¦‚æžœæ˜¯å…¶ä»– objectï¼Œæ¯”å¦‚ classï¼Œæ²¡æœ‰ç±»ä¼¼list()è¿™æ ·çš„å‡½æ•°ï¼Œå°±å¯ä»¥ç›´æŽ¥ç”¨copy()å®žçŽ°å¤åˆ¶ã€‚ Python123456789101112131415import copyclass Person(): def __init__(self, name, gender): self.name = name self.gender = gender tom = Person('Tom', 'Female')tom_2 = tomprint(tom is tom_2) # Truetom_3 = copy.copy(tom)print(tom is tom_3) # False ç¬¬12è¡Œï¼šclass çš„ instance åœ¨ä½¿ç”¨a = bæ—¶ä¹Ÿåªä¼šå¤åˆ¶æ˜ å°„ï¼Œä¸ä¼šå¤åˆ¶ä¸€ä¸ªæ–°çš„ instanceã€‚ç¬¬15è¡Œï¼šç”¨ copy() å¯ä»¥å¤åˆ¶ä¸€ä¸ªæ–°çš„ instanceã€‚ ä½†è¿™è¿˜æ²¡å®Œï¼ŒçœŸæ­£çš„å‘ç‚¹åœ¨è¿™é‡Œï¼šä¸Šé¢çš„ copy æ–¹æ³•éƒ½æ˜¯ shallow copyï¼Œshallow copy åªä¼šå¤åˆ¶å¯¹è±¡çš„ä¸€å±‚ï¼Œå¯¹è±¡å†…åµŒå¥—çš„å¯¹è±¡éƒ½åªä¼šå¤åˆ¶æ˜ å°„ã€‚ çœ‹ä¸‹é¢çš„ä»£ç ï¼š Python123456789import copya = [[1, 2, 3], [4, 5, 6],[7, 8, 9]]b = copy.copy(a) # ç­‰ä»·äºŽ b = list(a) print(a is b) # Falseprint(a[0] is b[0]) # Truea[0][0] = 100print(b) # [[100, 2, 3], [4, 5, 6], [7, 8, 9]] è¿™æ®µä»£ç é‡Œæœ‰è¶£çš„åœ°æ–¹ï¼š å…ˆåˆ›å»ºäº†ä¸€ä¸ªå…ƒç´ ä¸º list çš„ listï¼Œæ˜ å°„åˆ°a ç„¶åŽå¤åˆ¶å‡º b ç¬¬5è¡Œï¼šè¯æ˜Ž a å’Œ b æ²¡æœ‰æ˜ å°„åˆ°åŒä¸€ä¸ªä½ç½® ç¬¬6è¡Œï¼šè¯æ˜Ž a å’Œ b çš„å…ƒç´ æ˜ å°„åˆ°äº†åŒä¸€ä¸ªä½ç½® ç¬¬8å’Œç¬¬9è¡Œï¼šæ›´ç›´è§‚åœ°è¯æ˜Žä¸Šé¢çš„è§‚ç‚¹ é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå¦‚ä½•è®© b ä»Žå¤–åˆ°å†…åœ°å¤åˆ¶ aï¼Œè€Œä¸åªæ˜¯å¤åˆ¶â€œè¡¨é¢ä¸€å±‚â€å‘¢ï¼Ÿè¿™å°±æ˜¯ deep copy çš„å·¥ä½œã€‚ åœ¨ä»‹ç»æ€Žä¹ˆç”¨ python åš deep copy å‰ï¼Œå…ˆçœ‹çœ‹ JavaScript çš„ shallow copyã€‚ JavaScriptJavaScript æä¾›äº†ä¸¤ç§ shallow copy çš„æ–¹å¼ï¼š Object.assign() \bSpread Operator: ... å…ˆçœ‹ Object.assign() JavaScript1234var a = [1, 2, 3]var b = Object.assign([], a)a[0] = 100console.log(b) // [1, 2, 3] å†çœ‹ Spread Operatorï¼š JavaScript1234var a = [1, 2, 3]var b = [...a]a[0] = 100console.log(b) // [1, 2, 3] å¯¹äºŽ shallow copyï¼ŒJS ä¹Ÿæœ‰è·Ÿ Python ä¸€æ ·çš„è®¾å®šï¼šåªä¼šå¤åˆ¶ç¬¬1å±‚ï¼Œå¦‚æžœ Object å†…åŒ…å« Objectï¼Œå°±åªä¼šå¤åˆ¶æ˜ å°„ã€‚ JavaScript1234var a = [[1, 2, 3], [4, 5, 6]]var b = Object.assign([], a)a[0][0] = 100console.log(b) // [ [ 100, 2, 3 ], [ 4, 5, 6 ] ] ä¸‹é¢è¿›å…¥ Deep Copy éƒ¨åˆ†ã€‚ Deep CopyDeep copy èƒ½å¤Ÿâ€œå®Œæ•´å¤åˆ¶â€ä¸€ä¸ªå¯¹è±¡ã€‚ PythonPython å¯ä»¥ä½¿ç”¨ copy åŒ…é‡Œçš„ deepcopy() å‡½æ•°ï¼š Python123456789import copya = [[1, 2, 3], [4, 5, 6],[7, 8, 9]]b = copy.deepcopy(a) print(a is b) # Falseprint(a[0] is b[0]) # Falsea[0][0] = 100print(b) # [[1, 2, 3], [4, 5, 6], [7, 8, 9]] ä¸Šé¢çš„ä»£ç å®žçŽ°äº† deep copyã€‚ JavaScriptJavaScript æ²¡æœ‰ built-in module é‡Œæœ‰ç±»ä¼¼ python çš„ deepcopy è¿™æ ·çš„å‡½æ•°ï¼Œä½†ä¸»æµç¬¬ä¸‰æ–¹ module é‡Œéƒ½æä¾›äº†è¿™ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬ä¸éœ€è¦é‡å¤é€ è½®å­ã€‚ å¦‚æžœ Object çš„ value åªæœ‰ primitive dataï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªç®€å•çš„æ–¹æ³•ï¼šJSON.parse(JSON.stringify(object)): JavaScript1234var a = [[1, 2, 3], [4, 5, 6]]var b = JSON.parse(JSON.stringify(a))a[0][0] = 100console.log(b) // [ [ 1, 2, 3 ], [ 4, 5, 6 ] ] æ³¨æ„ï¼šå¦‚æžœ value å€¼æ˜¯æ—¥æœŸã€regex ç­‰ç­‰éž primitive data çš„å¯¹è±¡ï¼Œè¿™ä¸ªæ–¹æ³•ä¸èƒ½ä½¿ç”¨ã€‚ å‚è€ƒä¸‹é¢çš„ä¾‹å­ï¼š JavaScript123456789var person = { name: 'YuYu', func: new Function()}var personCopy = JSON.parse(JSON.stringify(person))console.log(person) // { name: 'YuYu', func: [Function: anonymous] }console.log(personCopy) // { name: 'YuYu' } å¤åˆ¶ä¹‹åŽï¼Œ\bfunc è¿™ä¸ª key-value ä¸¢å¤±äº†ã€‚ æœ€ä¿é™©çš„æ–¹æ³•è¿˜æ˜¯ä½¿ç”¨ç¬¬ä¸‰æ–¹å·¥å…·ï¼Œæ¯”å¦‚ lodashï¼š JavaScript1234567891011121314var cloneDeep = require('lodash/cloneDeep')var person = { name: 'YuYu', book: { title: 'JS is cool', pages: 300, }, func: new Function()}var personCopy = cloneDeep(person)console.log(person) console.log(personCopy) ä¸Šé¢è¿™ä¸ªä¾‹å­é‡Œï¼ŒåµŒå¥—çš„ object ä»¥åŠ non-primitive å€¼ä¹Ÿèƒ½ä¿ç•™ã€‚ å‚è€ƒ Shallow vs Deep Copying of Python Objects How to deep clone a JavaScript object document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"Coding","slug":"Coding","permalink":"https://yupototo.github.io/blog/categories/Coding/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://yupototo.github.io/blog/tags/JavaScript/"},{"name":"Python","slug":"Python","permalink":"https://yupototo.github.io/blog/tags/Python/"},{"name":"R","slug":"R","permalink":"https://yupototo.github.io/blog/tags/R/"}]},{"title":"KNN ç®—æ³•","slug":"ds-7-knn","date":"2019-09-02T20:24:16.000Z","updated":"2020-02-03T17:14:34.339Z","comments":true,"path":"2019/09/02/ds-7-knn/","link":"","permalink":"https://yupototo.github.io/blog/2019/09/02/ds-7-knn/","excerpt":"K Nearest Neighbor, KNN ç®—æ³•ï¼Œåº”è¯¥æ˜¯æœ€ç®€å•çš„æœºå™¨å­¦ä¹ ç®—æ³•ä¹‹ä¸€ã€‚ è¿™é‡Œç”¨ä¸€ä¸ªæ‰‹ç®—çš„ä¾‹å­è¯´æ˜Ž KNN ç®—æ³•çš„æ­¥éª¤ã€‚ \b","text":"K Nearest Neighbor, KNN ç®—æ³•ï¼Œåº”è¯¥æ˜¯æœ€ç®€å•çš„æœºå™¨å­¦ä¹ ç®—æ³•ä¹‹ä¸€ã€‚ è¿™é‡Œç”¨ä¸€ä¸ªæ‰‹ç®—çš„ä¾‹å­è¯´æ˜Ž KNN ç®—æ³•çš„æ­¥éª¤ã€‚ \b ç®—æ³•æ­¥éª¤è¯¥ç®—æ³•çš„æ­¥éª¤å¦‚ä¸‹ï¼š å†³å®šå‚æ•° Kï¼Œå³åˆ¤æ–­åˆ†ç±»æ—¶è€ƒè™‘å‡ ä¸ªâ€œé‚»å±…â€ è®¡ç®—æ–°çš„æ ·æœ¬ä¸Žè®­ç»ƒæ•°æ®é›†é‡Œå„ä¸ªè§‚æµ‹å€¼çš„è·ç¦» å°†è·ç¦»ç”±å°åˆ°å¤§æŽ’åºï¼Œä¿ç•™å‰ K ä¸ªè§‚æµ‹å€¼ èŽ·å–è¿™ K ä¸ªè§‚æµ‹å€¼çš„ category ä»¥è¿™ K ä¸ªè§‚æµ‹å€¼é‡Œå å¤šæ•°çš„ category ä½œä¸ºæ–°æ ·æœ¬çš„ category æ‰‹ç®—ä¾‹å­training data set å¦‚ä¸‹ï¼š è‡ªå˜é‡1 è‡ªå˜é‡2 åˆ†ç±» 7 7 1 7 4 1 3 4 0 1 4 0 åªæœ‰2ä¸ªå˜é‡ï¼Œ4ä¸ªè§‚æµ‹å€¼ã€‚ å‡è®¾æ–°çš„æ ·æœ¬æ˜¯ (3, 7)ã€‚ ç¬¬1æ­¥ï¼šé€‰å®š Kç¬¬1æ­¥ï¼Œè¦å†³å®šä¸€ä¸ªå‚æ•° Kã€‚ æˆ‘ä»¬é€‰å®šå‚æ•° k = 3ã€‚ ç¬¬2æ­¥ï¼šè®¡ç®—è·ç¦»è®¡ç®—æ–°çš„æ ·æœ¬ä¸Žè®­ç»ƒæ•°æ®é›†é‡Œå„ä¸ªè§‚æµ‹å€¼çš„è·ç¦»ã€‚è·ç¦»å…¬å¼é‡‡ç”¨ euclidean distanceã€‚ æŒ‰ç…§è¿™ä¸ªå…¬å¼è®¡ç®—(3, 7)è·Ÿå„ä¸ªç‚¹çš„è·ç¦»ï¼š è‡ªå˜é‡1 è‡ªå˜é‡2 è·ç¦» 7 7 16 7 4 25 3 4 9 1 4 13 ç¬¬3æ­¥ï¼šæŽ’åºæŒ‰ç…§è·ç¦»ï¼Œç”±å°åˆ°å¤§æŽ’åºï¼Œä¿ç•™å‰ k ä¸ªï¼š è‡ªå˜é‡1 è‡ªå˜é‡2 è·ç¦» 3 4 9 1 4 13 7 7 16 ç¬¬4æ­¥ï¼šèŽ·å– categoryèŽ·å–è¿™å‡ ä¸ªå€¼çš„ category è‡ªå˜é‡1 è‡ªå˜é‡2 è·ç¦» åˆ†ç±» 3 4 9 0 1 4 13 0 7 7 16 1 ç¬¬5æ­¥ï¼šç¡®å®š categoryä»¥è¿™ K ä¸ªè§‚æµ‹å€¼é‡Œå å¤šæ•°çš„ category ä½œä¸ºæ–°æ ·æœ¬çš„ categoryã€‚ å å¤šæ•°çš„åˆ†ç±»æ˜¯ 0ï¼Œæ‰€ä»¥ (3,7) è¢«åˆ¤æ–­ä¸ºæ˜¯ 0ã€‚ å°ç»“KNN ç®—æ³•çš„ç®€å•ä¹‹å¤„åœ¨äºŽï¼š æ²¡æœ‰æ–°çš„æ¦‚å¿µï¼Œæ‡‚é«˜ä¸­æ•°å­¦çš„äººéƒ½èƒ½ç†è§£è¿™ä¸ªç®—æ³• æ˜¯æ— å‚æ•°æ–¹æ³•ï¼Œä¸ç”¨è€ƒè™‘ç»Ÿè®¡å­¦å…¬å¼ \bç®—æ³•æ­¥éª¤æ¯”è¾ƒç®€å• è¿™ä¸ªç®—æ³•çš„å®žçŽ°å¯ä»¥å½“ä½œä¸€ä¸ª python ç»ƒä¹ æ¥åšã€‚ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"æ•°æ®ç§‘å­¦","slug":"æ•°æ®ç§‘å­¦","permalink":"https://yupototo.github.io/blog/categories/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6/"}],"tags":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://yupototo.github.io/blog/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"}]},{"title":"Association Rulesï¼šå®šä¹‰å’ŒæŒ‡æ ‡","slug":"ds-6-association","date":"2019-08-31T05:34:37.000Z","updated":"2020-02-03T17:14:34.339Z","comments":true,"path":"2019/08/31/ds-6-association/","link":"","permalink":"https://yupototo.github.io/blog/2019/08/31/ds-6-association/","excerpt":"Association Rules è§£å†³çš„é—®é¢˜æ˜¯ï¼šå“ªäº›å•†å“ç»å¸¸è¢«ä¸€èµ·è´­ä¹°ã€‚ å…¸åž‹ä¾‹å­å¦‚ä¸‹å›¾ï¼Œè¿™æ˜¯ Udemy æŸè¯¾ç¨‹é¡µé¢é‡Œçš„æ­å”®ä¿¡æ¯ï¼š Udemy çš„æŽ¨èç³»ç»ŸåŸºäºŽ association rule åˆ¤æ–­å‡ºè¿™ä¸¤ä¸ªå•†å“ç»å¸¸è¢«ä¸€èµ·è´­ä¹°ï¼Œæ‰€ä»¥æ‰“åŒ…æŽ¨èäº†è¿™ä¸¤ä¸ªå•†å“ã€‚ è¿™ç¯‡æ–‡ç« ä¸»è¦è¯´æ˜Ž association rule é‡Œçš„å‡ ä¸ªå®šä¹‰å’ŒæŒ‡æ ‡ \b","text":"Association Rules è§£å†³çš„é—®é¢˜æ˜¯ï¼šå“ªäº›å•†å“ç»å¸¸è¢«ä¸€èµ·è´­ä¹°ã€‚ å…¸åž‹ä¾‹å­å¦‚ä¸‹å›¾ï¼Œè¿™æ˜¯ Udemy æŸè¯¾ç¨‹é¡µé¢é‡Œçš„æ­å”®ä¿¡æ¯ï¼š Udemy çš„æŽ¨èç³»ç»ŸåŸºäºŽ association rule åˆ¤æ–­å‡ºè¿™ä¸¤ä¸ªå•†å“ç»å¸¸è¢«ä¸€èµ·è´­ä¹°ï¼Œæ‰€ä»¥æ‰“åŒ…æŽ¨èäº†è¿™ä¸¤ä¸ªå•†å“ã€‚ è¿™ç¯‡æ–‡ç« ä¸»è¦è¯´æ˜Ž association rule é‡Œçš„å‡ ä¸ªå®šä¹‰å’ŒæŒ‡æ ‡ \b ItemsetAntecedent å’Œ Consequentå…³è”è§„åˆ™çš„è¡¨è¾¾å½¢å¼æ˜¯ï¼šå¦‚æžœ Aï¼Œé‚£ä¹ˆ Bã€‚è¡¨ç¤º A å’Œ B ä¸¤ç»„å•†å“ä¼šå¤§æ¦‚çŽ‡ä¸€èµ·å‡ºçŽ°ã€‚ åœ¨ä¸Šé¢çš„è§„åˆ™é‡Œï¼ŒA è¢«ç§°ä¸º antecedentï¼Œæ˜¯ä¸€ç»„å•†å“ï¼›B è¢«ç§°ä¸º consequentï¼Œæ˜¯å¦ä¸€ç»„å•†å“ã€‚ æ¯ä¸€ä¸ª antecedent å’Œ consequent çš„ç»„åˆï¼Œè¢«ç§°ä¸ºä¸€ä¸ª itemsetã€‚ ä¾‹å­ï¼šè´­ä¹°äº†é¢åŒ…å’Œé¸¡è›‹çš„ç”¨æˆ·ï¼Œä¹Ÿä¼šè´­ä¹°ç‰›å¥¶ã€‚ç”¨ antecedentã€consequent å’Œ itemset è¡¨ç¤ºè§„åˆ™å¦‚ä¸‹ï¼š antecedentï¼š{é¢åŒ…, é¸¡è›‹} consequent: {ç‰›å¥¶} itemset: {é¢åŒ…, é¸¡è›‹, ç‰›å¥¶} åœ¨æ–‡çŒ®é‡Œç”¨ {} è¡¨ç¤º itemsetï¼Œåœ¨ python é‡Œï¼Œ{} åˆšå¥½ä¹Ÿæ˜¯ setã€‚ æ ¹æ®è®¢å•è®¡ç®— itemsetsä¸€ä¸ªåŒ…å«â€œé¢åŒ…ï¼Œé¸¡è›‹ï¼Œç‰›å¥¶â€çš„è®¢å•ï¼Œæœ‰å‡ ä¸ª itemset å‘¢ï¼Ÿ æ‰€æœ‰ itemset å¦‚ä¸‹ï¼š é¢åŒ… é¸¡è›‹ ç‰›å¥¶ é¢åŒ…ï¼Œé¸¡è›‹ é¢åŒ…ï¼Œç‰›å¥¶ é¸¡è›‹ï¼Œç‰›å¥¶ é¢åŒ…ï¼Œé¸¡è›‹ï¼Œç‰›å¥¶ å…±7ä¸ªitemsetã€‚ 1ä¸ªå•†å“ï¼Œä¹Ÿç®—ä¸€ä¸ª itemsetã€‚ æ ¹æ®äº¤æ˜“åŽ†å²ï¼Œå¯ä»¥å¾—åˆ°ä¸€ä¸ªå•†åº—çš„ itemsetsã€‚ä»¥ä¸‹é¢çš„äº¤æ˜“è®°å½•ä¸ºä¾‹ï¼ˆ1è¡¨ç¤ºè´­ä¹°ï¼Œ0è¡¨ç¤ºæœªè´­ä¹°ï¼‰ï¼š è®¢å•ç¼–å· é¸¡è›‹ ç‰›å¥¶ \bå’–å•¡ 1 1 1 0 2 1 1 1 3 0 1 1 {é¸¡è›‹} x 2 {ç‰›å¥¶} x 3 {å’–å•¡} x 2 {é¸¡è›‹ï¼Œç‰›å¥¶} x 2 {é¸¡è›‹ï¼Œå’–å•¡} x 1 {ç‰›å¥¶ï¼Œå’–å•¡} x 2 {é¸¡è›‹ï¼Œå’–å•¡ï¼Œç‰›å¥¶} x 1 ä¸Šé¢çš„äº¤æ˜“è®°å½•é‡ŒåŒ»ç”¨æœ‰ 13 ä¸ªitemsetsã€‚ æŒ‡æ ‡Associaition rule çš„æ ¸å¿ƒé—®é¢˜æ˜¯ï¼šå¦‚ä½•åˆ¤æ–­å“ªäº› rule æ˜¯æœ‰ä»·å€¼çš„ã€‚ å‡ ä¸ªæ¯”è¾ƒé‡è¦çš„æŒ‡æ ‡æ˜¯ï¼š support confidence lift Supportsupport çš„å®šä¹‰æ˜¯ï¼šitemset çš„å æ¯”ã€‚ ä»¥ä¸Šé¢çš„3ä¸ªè®¢å•ä¸ºä¾‹å­ï¼Œå„ä¸ª itemset çš„ suport ä¾æ¬¡æ˜¯ï¼š {é¸¡è›‹} = 2/13 = 15.4% {ç‰›å¥¶} = 3/13 = 23% {å’–å•¡} = 2/13 = 15.4% {é¸¡è›‹ï¼Œç‰›å¥¶} = 2/13 = 15.4% {é¸¡è›‹ï¼Œå’–å•¡} = 1/13 = 7.7% {ç‰›å¥¶ï¼Œå’–å•¡} = 2/13 = 15.4% {é¸¡è›‹ï¼Œå’–å•¡ï¼Œç‰›å¥¶} = 1/13 = 7.7% Support å¯ä»¥ç”¨æ•°å­¦å…¬å¼æè¿°ä¸ºï¼šSupport = P(antecedent AND consequent) Confidenceconfidence çš„å®šä¹‰æ˜¯ï¼šç»™å®š antecedentï¼Œconsequent å‘ç”Ÿçš„æ¦‚çŽ‡æœ‰å¤šå¤§ï¼Ÿ confidence çš„æ•°å­¦å…¬å¼æ˜¯ï¼šConfidence = P(antecedent AND consequent) / P(antecedent) = P(consequent | antecedent) è¿˜æ˜¯ç”¨åˆšæ‰çš„ä¾‹å­ï¼š â€œif ç‰›å¥¶ï¼Œthen é¸¡è›‹â€çš„ confidence æ˜¯ï¼šP(ç‰›å¥¶ and é¸¡è›‹) / P(ç‰›å¥¶) = 15.4% / 23% = 67% â€œif å’–å•¡ï¼Œthen ç‰›å¥¶+é¸¡è›‹â€ çš„ confidence æ˜¯ï¼šP(å’–å•¡ and ç‰›å¥¶ and é¸¡è›‹) / P(å’–å•¡) = 7.7% / 15.4% = 50% è¿™ä¸ªæŒ‡æ ‡æœ‰ä¸€å®šçš„æ¬ºéª—æ€§ã€‚å¦‚æžœ antecedent å’Œ consequent éƒ½æœ‰å¾ˆé«˜çš„ supportï¼Œé‚£ä¹ˆç›¸åº”çš„ confidence å¿…ç„¶å¾ˆé«˜ï¼Œå³ä½¿ä¸¤è€…ç›¸äº’ç‹¬ç«‹ã€‚ æ‰€ä»¥æˆ‘ä»¬éœ€è¦ç¬¬ä¸‰ä¸ªæŒ‡æ ‡ï¼šLift Ratioã€‚ Lift Ratioå‡å®š antecedent å’Œ consequent ç›¸äº’ç‹¬ç«‹ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—å‡ºä¸€ä¸ªç†è®ºçš„ confidence å€¼ã€‚è¿™ä¸ª confidence è¢«å‘½åä¸º benchmark confidence å€¼ã€‚ å‡å®šä¸¤è€…ç›¸äº’ç‹¬ç«‹ï¼Œå¯ä»¥æœ‰ï¼š P(antecedent AND consequent) = P(antecedent) * P(consequent) ç„¶åŽå¯ä»¥è®¡ç®— benchmark confidenceï¼š Benchmark Confidence = P(antecedent) * P(consequent) / P(antecedent) = P(consequent) ç„¶åŽå¯ä»¥è®¡ç®— lift ratioï¼š lift ratio = confidence / benchmark confidence ä»¥ä¸‹é¢å‡ ä¸ªè§„åˆ™ä¸ºä¾‹ â€œif ç‰›å¥¶ï¼Œthen é¸¡è›‹â€ï¼š benchmark confidence = P(consequent) = P(é¸¡è›‹) = 23% confidence = 67% lift = 67% / 23% = 2.7 if å’–å•¡ï¼Œthen ç‰›å¥¶+é¸¡è›‹â€: benchmark confidence = P(ç‰›å¥¶ AND é¸¡è›‹) = 15.4% confidence = 50% lift = 50% / 15.4% = 3.25 å°ç»“Association rules çš„ç®—æ³•éƒ½åŸºäºŽä¸Šé¢å‡ ä¸ªæ¦‚å¿µå’ŒæŒ‡æ ‡ã€‚ç†è§£äº†è¿™äº›æŒ‡æ ‡åŽï¼Œå¦‚æžœæœ‰å¿…è¦ï¼Œå¯ä»¥åŽ»çœ‹ç®—æ³•ï¼Œå¦‚æžœå¯¹ç®—æ³•ç»†èŠ‚ä¸åœ¨æ„ï¼ŒåŸºæœ¬å°±å¯ä»¥ç›´æŽ¥åŽ»è·‘æ•°æ®äº†ã€‚ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"æ•°æ®ç§‘å­¦","slug":"æ•°æ®ç§‘å­¦","permalink":"https://yupototo.github.io/blog/categories/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6/"}],"tags":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://yupototo.github.io/blog/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"}]},{"title":"ABæµ‹è¯•çš„ä¾‹å­ï¼šè®¿é—®æ—¶é•¿","slug":"growth_5_ab_test_mean","date":"2019-06-16T03:46:52.000Z","updated":"2020-02-03T17:14:34.351Z","comments":true,"path":"2019/06/16/growth_5_ab_test_mean/","link":"","permalink":"https://yupototo.github.io/blog/2019/06/16/growth_5_ab_test_mean/","excerpt":"ä¸Šä¸€ç¯‡å…³äºŽABæµ‹è¯•çš„æ–‡ç« é‡Œï¼Œæˆ‘ä»¬æ¨¡æ‹Ÿäº†ä¸€ä¸ªå¸¸è§çš„ ab æµ‹è¯•åœºæ™¯ï¼šè½¬åŒ–çŽ‡ã€‚è¿™ä¸ªåœºæ™¯é€‚ç”¨äºŽè®¡ç®—ç™¾åˆ†æ¯”æ•°æ®çš„åœºæ™¯ã€‚ è¿˜æœ‰ä¸€ç§åœºæ™¯ï¼Œæ•°æ®ä¸æ˜¯ç™¾åˆ†æ¯”ï¼Œè€Œæ˜¯\b\bè¿žç»­æ•°å€¼ã€‚ä¾‹å¦‚ï¼š è®¿é—®æ—¶é•¿ äººå‡æ¶ˆè´¹ äººå‡é˜…è¯»æ•°é‡ â€¦ è¿™ä¸ªé—®é¢˜åœºæ™¯ä¸‹ï¼Œä¸é€‚åˆä½¿ç”¨ r çš„ prop.test å‡½æ•°ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ z-testã€‚ \b","text":"ä¸Šä¸€ç¯‡å…³äºŽABæµ‹è¯•çš„æ–‡ç« é‡Œï¼Œæˆ‘ä»¬æ¨¡æ‹Ÿäº†ä¸€ä¸ªå¸¸è§çš„ ab æµ‹è¯•åœºæ™¯ï¼šè½¬åŒ–çŽ‡ã€‚è¿™ä¸ªåœºæ™¯é€‚ç”¨äºŽè®¡ç®—ç™¾åˆ†æ¯”æ•°æ®çš„åœºæ™¯ã€‚ è¿˜æœ‰ä¸€ç§åœºæ™¯ï¼Œæ•°æ®ä¸æ˜¯ç™¾åˆ†æ¯”ï¼Œè€Œæ˜¯\b\bè¿žç»­æ•°å€¼ã€‚ä¾‹å¦‚ï¼š è®¿é—®æ—¶é•¿ äººå‡æ¶ˆè´¹ äººå‡é˜…è¯»æ•°é‡ â€¦ è¿™ä¸ªé—®é¢˜åœºæ™¯ä¸‹ï¼Œä¸é€‚åˆä½¿ç”¨ r çš„ prop.test å‡½æ•°ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ z-testã€‚ \b åœºæ™¯æˆ‘ä»¬æ˜¯ä¸€ä¸ªå†…å®¹ appï¼Œäº§å“éƒ¨é—¨å¼€å‘äº†ä¸€ä¸ªæ–°ç‰ˆæœ¬ï¼Œæˆ‘ä»¬æƒ³è¦æµ‹è¯•æ–°ç‰ˆæœ¬ä¸‹çš„ç”¨æˆ·è®¿é—®æ—¶é•¿æ˜¯å¦ä¼šæé«˜ã€‚ æˆ‘ä»¬çš„åŽŸå‡è®¾å’Œå¤‡æ‹©å‡è®¾æ˜¯ï¼š H0ï¼šæ–°æ–¹æ¡ˆçš„è®¿é—®æ—¶é•¿ &lt;= è€æ–¹æ¡ˆçš„è®¿é—®æ—¶é•¿ Haï¼šæ–°æ–¹æ¡ˆçš„è®¿é—®æ—¶é•¿ &gt; è€æ–¹æ¡ˆçš„è®¿é—®æ—¶é•¿ æˆ‘ä»¬é€‰æ‹©å•ä¾§æ£€éªŒæœ‰2ä¸ªåŽŸå› ï¼š ä»Žäº§å“è¿­ä»£æµç¨‹è€ƒè™‘ï¼Œå¦‚æžœæ²¡æœ‰è¯æ®æ­£é¢æ–°æ–¹æ¡ˆæ¯”è€æ–¹æ¡ˆå¥½ï¼Œæˆ‘ä»¬å°±ä¸ä¼šå…¨é¢éƒ¨ç½²æ–°æ–¹æ¡ˆï¼Œæ‰€ä»¥æˆ‘ä»¬å¯»æ‰¾è¯æ®â€œè¯ä¼ªâ€è€æ–¹æ¡ˆ ä»Žç»Ÿè®¡åŠŸæ•ˆè€ƒè™‘ï¼Œä½¿ç”¨å•ä¾§æ£€éªŒèƒ½åœ¨ç›¸åŒæ ·æœ¬ä¸‹ä¿è¯æ›´é«˜çš„ç»Ÿè®¡åŠŸæ•ˆï¼Œä¹Ÿå°±æ˜¯èŠ‚çº¦æˆæœ¬äº† å› ä¸ºæ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªæ€»ä½“çš„åˆ†å¸ƒæ˜¯å¦æœ‰å·®è·ï¼Œæˆ‘ä»¬ä½¿ç”¨ two sample t-testã€‚ å‚æ•°è®¾å®šå’Œæ ·æœ¬æ•°é‡ä¼°è®¡è·Ÿä¹‹å‰ä¸€æ ·ï¼Œæˆ‘ä»¬è®¾å®š 80% çš„ power å’Œ 0.05 çš„ significance levelã€‚ t-test çš„æ ·æœ¬é‡ä¼°ç®—éœ€è¦å…ˆç»™å®šä¸€ä¸ª cohenâ€™dã€‚ d = (m1 - m2 ) / deltaï¼Œå…¶ä¸­ï¼š m1 å’Œ m2 åˆ†åˆ«æ˜¯ä¸¤ç»„çš„å‡å€¼ delta æ˜¯ common standard deviation \b\båœ¨å¼€å§‹æµ‹è¯•ä¹‹å‰ï¼Œæˆ‘ä»¬åªçŸ¥é“ m2 çš„æ—¶é•¿ï¼Œå‡è®¾ m2 = 60ã€‚ç†è®ºä¸Šæˆ‘ä»¬ä¸å¯èƒ½çŸ¥é“ deltaï¼Œä½†æˆ‘ä»¬å¯ä»¥ç”¨è€æ–¹æ¡ˆçš„æ ·æœ¬åŽ»ä¼°ç®—ã€‚ä¸€ä¸ªâ€œä¾¿åˆ©å…¬å¼â€æ˜¯ delta = ï¼ˆæœ€å¤§å€¼ - æœ€å°å€¼ï¼‰/4ã€‚å‡å®š delta = 25ã€‚ çŽ°åœ¨ï¼Œæˆ‘ä»¬è¦åˆ¤æ–­ï¼šæˆ‘ä»¬é¢„æœŸæ–°æ–¹æ¡ˆçš„å‡å€¼æœ‰å¤šå¤§çš„æå‡å‘¢ï¼Ÿå‡è®¾æˆ‘ä»¬æœŸæœ›æ–°æ–¹æ¡ˆä¼šæ¯”è€æ–¹æ¡ˆæé«˜5ï¼Œä¹Ÿå°±æ˜¯ä»Ž60æé«˜åˆ°65ã€‚è¿™æ—¶æˆ‘ä»¬å¯ä»¥è®¡ç®— cohenâ€™d = ï¼ˆ65 - 60ï¼‰ / 25 = 0.2 è¿™æ—¶æˆ‘ä»¬å¯ä»¥ç”¨ R çš„ pwr package ä¼°ç®—éœ€è¦çš„æ ·æœ¬é‡ï¼š 1pwr.t.test(d = 0.2, sig.level = 0.05, power = 0.8, type = 'two.sample', alternative='greater') è¿™ä¸ªè®¡ç®—å‘Šè¯‰æˆ‘ä»¬ï¼Œæ¯ä¸ªç»„éœ€è¦310ä¸ªæ ·æœ¬ã€‚æˆ‘ä»¬ç€æ‰‹å®‰æŽ’æµ‹è¯•ã€‚ æ£€æŸ¥æ•°æ®ä¸€å¤©ä¹‹åŽï¼Œæˆ‘ä»¬æœé›†å¤Ÿäº†650ä¸ªæ ·æœ¬ï¼Œæ¯ç»„325ä¸ªæ ·æœ¬ï¼Œæˆ‘ä»¬å¼€å§‹æ£€æŸ¥æ•°æ®ã€‚ æˆ‘ä»¬å‘çŽ°ä¸¤ä¸ªç»„çš„æ•°æ®å¦‚ä¸‹ï¼š æ–°æ–¹æ¡ˆï¼šå¹³å‡æ—¶é•¿64ç§’ï¼Œæ ‡å‡†å·®43ç§’ åŽŸæ–¹æ¡ˆï¼šå¹³å‡æ—¶é•¿60ç§’ï¼Œæ ‡å‡†å·®40ç§’ çœ‹ä¸ŠåŽ»æ–°æ–¹æ¡ˆæ›´å¥½ï¼Œä½†æˆ‘ä»¬èƒ½å¾—å‡ºæ–°æ–¹æ¡ˆæ›´å¥½çš„ç»“è®ºå—ï¼Ÿ æˆ‘ä»¬å¯ä»¥ç”¨ t.test åšæ£€éªŒï¼š 1234x &lt;- rnorm(315, 64, 43)y &lt;- rnorm(315, 60 ,40)t.test(x, y , alternative = 'greater') æˆ‘åœ¨è¿™é‡Œæ¨¡æ‹Ÿäº†æ•°æ®ï¼Œå®žé™…ä¸Šæˆ‘ä»¬å¯ä»¥ç›´æŽ¥å¸¦å…¥ä¸¤ä¸ª list è¿› t.testï¼Œæˆ–è€…ç”¨çŽ°æˆçš„èƒ½è¾“å…¥å‡å€¼å’Œæ ‡å‡†å·®çš„å‡½æ•°ã€‚ ç»“æžœï¼špå€¼ = 0.21ï¼Œæˆ‘ä»¬æ— æ³•æ‹’ç»åŽŸå‡è®¾ã€‚ ç»“è®ºï¼šæ–°æ–¹æ¡ˆæœªå¿…æ¯”è€æ–¹æ¡ˆå¥½ï¼Œæˆ‘ä»¬éœ€è¦åšè¿›ä¸€æ­¥æµ‹è¯•ï¼ˆå¢žåŠ æ ·æœ¬é‡ï¼‰ï¼Œæˆ–ä¿ç•™è€æ–¹æ¡ˆã€‚ å¦ä¸€ä¸ªå¹³è¡Œå®‡å®™é‡Œï¼Œæ–°æ–¹æ¡ˆçš„å¹³å‡æ—¶é•¿è¿˜æ˜¯64ç§’ï¼Œæ ‡å‡†å·®æ˜¯40ç§’ï¼Œæˆ‘ä»¬çš„ç»“è®ºåˆä¼šå˜æˆæ€Žæ ·å‘¢ï¼Ÿ 1234x &lt;- rnorm(315, 64, 40)y &lt;- rnorm(315, 60 ,40)t.test(x, y , alternative = 'greater') på€¼ = 0.04956ï¼Œå°äºŽ 0.05ã€‚ç»“è®ºï¼šæˆ‘ä»¬æ‹’ç»åŽŸå‡è®¾ï¼Œè®¤ä¸ºæ–°æ–¹æ¡ˆæ›´å¥½ã€‚ AB æµ‹è¯•ä¸åªå…³æ³¨å‡å€¼ï¼Œè¿˜å…³æ³¨åˆ†å¸ƒæˆ‘ç»å¸¸çœ‹åˆ°ä¸äº†è§£ç»Ÿè®¡å­¦çš„åŒäº‹ç”¨ä¸¤ä¸ªå‡å€¼ä½œä¸ºæ–¹æ¡ˆä¼˜åŠ£çš„æ¯”è¾ƒä¾æ®ã€‚ä¸Šé¢çš„ä¾‹å­å¯ä»¥è¯´æ˜Žï¼šå‡å€¼å·®å¼‚æ˜¯ä¸å¤Ÿçš„ã€‚å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ°çš„å‡å€¼å·®å¼‚åªæ˜¯éšæœºçŽ°è±¡çš„ç»“æžœã€‚ ç§‘å­¦çš„æ–¹æ³•è¿˜ä¼šè€ƒè™‘åˆ†å¸ƒï¼Œæ€Žä¹ˆè€ƒè™‘åˆ†å¸ƒå‘¢ï¼Ÿé€‰æ‹©ä¸€ä¸ªåˆé€‚çš„ test è®¡ç®—ç»Ÿè®¡æ˜¾è‘—æ€§ã€‚ ä¸æ˜¯æ¯ä¸ªäººéƒ½æ‡‚ç»Ÿè®¡å­¦ï¼Œä½†æœ‰çš„äººä¼šæ‡‚å¾—å°Šé‡ç§‘å­¦ã€‚ å½“æˆ‘ä»¬ä»Žå…¬å¸å±‚é¢è¿½æ±‚ç§‘å­¦çš„æ•°æ®æ–¹æ³•è®ºï¼Œå…¬å¸ä»Žä¸Šåˆ°ä¸‹çš„å†³ç­–æ°´å¹³éƒ½ä¼šæé«˜ã€‚ æ›´å¤šé˜…è¯» ABæµ‹è¯•ä¹‹CTR ABæµ‹è¯•ä¹‹å‡å€¼ ï¼ˆæœ¬æ–‡ï¼‰ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"å¢žé•¿é»‘å®¢","slug":"å¢žé•¿é»‘å®¢","permalink":"https://yupototo.github.io/blog/categories/%E5%A2%9E%E9%95%BF%E9%BB%91%E5%AE%A2/"}],"tags":[{"name":"R","slug":"R","permalink":"https://yupototo.github.io/blog/tags/R/"}]},{"title":"ABæµ‹è¯•çš„ä¾‹å­ï¼šè½¬åŒ–çŽ‡","slug":"growth_4_ab_test_ctr","date":"2019-06-15T14:26:03.000Z","updated":"2020-02-03T17:14:34.351Z","comments":true,"path":"2019/06/15/growth_4_ab_test_ctr/","link":"","permalink":"https://yupototo.github.io/blog/2019/06/15/growth_4_ab_test_ctr/","excerpt":"AB æµ‹è¯•æ˜¯äº’è”ç½‘äº§å“ä¼˜åŒ–çš„ç§‘å­¦æ–¹æ³•ï¼Œç”šè‡³å¯èƒ½æ˜¯å”¯ä¸€ç§‘å­¦çš„æ–¹æ³•ã€‚åœ¨è¿™ç¯‡æ–‡ç« é‡Œï¼Œæˆ‘ç”¨ R è¯­è¨€æ¨¡æ‹Ÿ AB æµ‹è¯•çš„\bæµç¨‹ã€‚ \b","text":"AB æµ‹è¯•æ˜¯äº’è”ç½‘äº§å“ä¼˜åŒ–çš„ç§‘å­¦æ–¹æ³•ï¼Œç”šè‡³å¯èƒ½æ˜¯å”¯ä¸€ç§‘å­¦çš„æ–¹æ³•ã€‚åœ¨è¿™ç¯‡æ–‡ç« é‡Œï¼Œæˆ‘ç”¨ R è¯­è¨€æ¨¡æ‹Ÿ AB æµ‹è¯•çš„\bæµç¨‹ã€‚ \b \båœºæ™¯\b\bå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªè´­ç‰© APPï¼Œæˆ‘ä»¬é‡æ–°è®¾è®¡äº†å•†å“é¡µé¢ï¼ŒçŽ°åœ¨æˆ‘ä»¬è¦å›žç­”çš„é—®é¢˜æ˜¯ï¼šæ–°è®¾è®¡æ–¹æ¡ˆå¯¹ç”¨æˆ·çš„è´­ä¹°çŽ‡æœ‰æé«˜å—ï¼Ÿä»¤åŽŸæ–¹æ¡ˆä¸º Aï¼Œæ–°æ–¹æ¡ˆä¸º Bã€‚ æˆ‘ä»¬çš„åŽŸå‡è®¾å’Œå¤‡æ‹©å‡è®¾æ˜¯ï¼š åŽŸå‡è®¾ï¼šæ–°æ–¹æ¡ˆçš„è½¬åŒ–çŽ‡ &lt;= è€æ–¹æ¡ˆçš„è½¬åŒ–çŽ‡ å¤‡æ‹©å‡è®¾ï¼šæ–°æ–¹æ¡ˆçš„è½¬åŒ–çŽ‡ &gt; è€æ–¹æ¡ˆçš„è½¬åŒ–çŽ‡ å› ä¸ºæˆ‘ä»¬åªå…³å¿ƒ B æ–¹æ¡ˆæ˜¯å¦ä¼šæ¯” A æ–¹æ¡ˆå¥½ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨ one-sided testã€‚åŽŸå‡è®¾æ˜¯æˆ‘ä»¬æƒ³è¦é€šè¿‡æ•°æ®åŽ»â€œè¯ä¼ªâ€çš„å‡è®¾ï¼Œæ‰€ä»¥åŽŸå‡è®¾æ˜¯â€œæ–°æ–¹æ¡ˆæ˜¯æ²¡æœ‰ç”¨å¤„çš„â€ï¼Œå³æ–°æ–¹æ¡ˆçš„è½¬åŒ–çŽ‡ä½ŽäºŽæˆ–ç­‰äºŽè€æ–¹æ¡ˆã€‚ å› ä¸ºéœ€è¦åˆ¤æ–­çš„æ˜¯è½¬åŒ–çŽ‡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Z-testã€‚ å‚æ•°è®¾å®šå’Œæ ·æœ¬æ•°é‡ä¼°è®¡åœ¨å¼€å§‹æœé›†æ•°æ®å‰ï¼Œæˆ‘ä»¬éœ€è¦\bè®¾å®šå‡ ä¸ªå‚æ•°ã€‚ \bæ˜¾è‘—æ€§æ°´å¹³ significance levelï¼šæˆ‘ä»¬æ„¿æ„æŽ¥å—çš„çŠ¯ç¬¬1ç±»é”™è¯¯çš„æ¦‚çŽ‡æ˜¯å¤šå°‘ï¼Ÿ ç»Ÿè®¡åŠŸæ•ˆ powerï¼šæˆ‘ä»¬å¸Œæœ›çš„ç»Ÿè®¡åŠŸæ•ˆæ˜¯å¤šå°‘ï¼Ÿ ç»™å®šå½“å‰çš„è½¬åŒ–çŽ‡ï¼ˆ10%ï¼‰ï¼Œæˆ‘ä»¬å¸Œæœ› B æ–¹æ¡ˆçš„è½¬åŒ–çŽ‡æé«˜åˆ°å¤šå°‘ï¼Ÿ æˆ‘ä»¬ä¾æ¬¡è®¾å®šå‚æ•°å¦‚ä¸‹ï¼š æ˜¾è‘—æ€§æ°´å¹³ 5% ç»Ÿè®¡åŠŸæ•ˆ 80% è½¬åŒ–çŽ‡æé«˜åˆ° 12% æˆ‘ä»¬å‡è®¾æ ·æœ¬ä¼šå¹³å‡åˆ†é…åˆ°ä¸¤ä¸ªæ–¹æ¡ˆä¸­ã€‚ æˆ‘ä»¬ä½¿ç”¨ pwr packag æ¥è®¡ç®—éœ€è¦çš„æ ·æœ¬é‡ 1234pwr.2p.test(h=ES.h(p1 = 0.10, p2 = 0.12), sig.level = 0.05, power=0.8, alternative = 'less') è¿™ä¸ªè®¡ç®—å‘Šè¯‰æˆ‘ä»¬ï¼Œæ¯ç»„å¤§æ¦‚éœ€è¦ 3021 ä¸ªæ ·æœ¬ï¼Œä¸€å…±éœ€è¦å¤§çº¦6100ä¸ªæ ·æœ¬ã€‚ æ ¹æ® app æµé‡ï¼Œæˆ‘ä»¬é¢„è®¡1å¤©çš„æ—¶é—´å¯ä»¥æœé›†å®Œæ‰€æœ‰çš„æ•°æ®ã€‚äºŽæ˜¯æˆ‘ä»¬ä½¿ç”¨çŽ°æˆçš„å·¥å…·ï¼ˆæˆ–è€…è®©å·¥ç¨‹å¸ˆå¼€å‘ï¼‰ï¼Œå¹¶å¼€å§‹æµ‹è¯•ã€‚ æ£€æŸ¥æ•°æ®ä¸€å¤©ä¹‹åŽï¼Œæˆ‘ä»¬æœé›†å¤Ÿäº†6100ä¸ªæ ·æœ¬ï¼Œæˆ‘ä»¬å¼€å§‹æ£€æŸ¥æ•°æ®ã€‚ æˆ‘ä»¬å‘çŽ°ä¸¤ä¸ªç»„çš„æ•°æ®å¦‚ä¸‹ï¼š åŽŸå§‹æ–¹æ¡ˆï¼š3500ä¸ªæ ·æœ¬ä¸­ï¼Œæœ‰360ä¸ªç”¨æˆ·å‘ç”Ÿäº†è½¬åŒ– æ–°æ–¹æ¡ˆï¼š3500ä¸ªæ ·æœ¬ä¸­ï¼Œæœ‰400ä¸ªç”¨æˆ·å‘ç”Ÿäº†è½¬åŒ– çœ‹ä¸ŠåŽ»æ˜¯æ–°æ–¹æ¡ˆ\bâ€œèŽ·èƒœâ€äº†ï¼Œå¯æ˜¯ï¼Œè¿™ä¸ªå·®å¼‚åœ¨ç»Ÿè®¡å­¦ä¸Šæ˜¾è‘—å—ï¼Ÿ æˆ‘ä»¬åšä¸€ä¸ªä½¿ç”¨ r çš„ prop.test å‡½æ•°ï¼š 1prop.test(x = c(360, 400), n = c(3500, 3500), alternative = 'less') ç»“æžœï¼šp å€¼ = 0.067ï¼Œæ¯”é¢„å…ˆè®¾å®šçš„æ˜¾è‘—æ€§æ°´å¹³é«˜ï¼Œæˆ‘ä»¬ä¸èƒ½æ‹’ç»åŽŸå‡è®¾ã€‚ ç»“è®ºï¼šæˆ‘ä»¬æ²¡æœ‰ç†ç”±è®¤ä¸ºæ–°æ–¹æ¡ˆæ›´å¥½ã€‚ æƒ³è±¡å†å¦ä¸€ä¸ªå¹³è¡Œå®‡å®™ï¼Œæ–°æ–¹æ¡ˆæœ‰410ä¸ªç”¨æˆ·å‘ç”Ÿäº†è½¬åŒ–ï¼Œæˆ‘ä»¬çš„ p å€¼ä¼šæ˜¯å¤šå°‘å‘¢ï¼Ÿ 1prop.test(x = c(360, 410), n = c(3500, 3500), alternative = 'less') ç»“æžœï¼šp å€¼ = 0.031ï¼Œæˆ‘ä»¬å¯ä»¥æ‹’ç»åŽŸå‡è®¾äº†ã€‚ ç»“è®ºï¼šæ–°æ–¹æ¡ˆçš„è½¬åŒ–çŽ‡æ›´é«˜ã€‚ ä¸ºä»€ä¹ˆæ˜¯ 80% å’Œ 5%ï¼Ÿåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬é€‰æ‹©äº† 80% çš„ power å’Œ 5% çš„ significane levelã€‚ä¸ºä»€ä¹ˆå‘¢ï¼ŸStackoverflow çš„æ•°æ®ç§‘å­¦å®¶ç»™äº†ä¸€ä¸ªéžå¸¸å¥½çš„è§£é‡Šã€‚ å¦‚æžœé€‰æ‹©95%çš„ power å’Œ1%çš„ significance levelï¼Œæˆ‘ä»¬çš„ç»“è®ºå‡†ç¡®åº¦ä¼šæœ‰æžå¤§æé«˜ï¼Œä½†æµ‹è¯•ä¼šæ¶ˆè€—æ›´å¤šçš„æ—¶é—´ï¼Œå¯¼è‡´å½±å“å•†ä¸šå†³ç­–çš„æ•ˆçŽ‡ã€‚ å¦‚æžœæˆ‘ä»¬åœ¨åˆšæ‰çš„ä¾‹å­è¿½æ±‚è¿™æ ·çš„å‡†ç¡®åº¦ï¼Œæˆ‘ä»¬éœ€è¦çš„æ ·æœ¬é‡ä¼šç¿»å€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ\b\bæ—¶é—´æˆæœ¬ç¿»å€ã€‚ å¦‚æžœåªçœ‹å•ä¸ªæµ‹è¯•ï¼Œç¿»å€ä¼¼ä¹Žæ˜¯å¯ä»¥æŽ¥å—çš„ï¼Œä½†ä¸€ä¸ªæˆç†Ÿçš„äº’è”ç½‘äº§å“å¯èƒ½åœ¨åŒæ—¶è¿›è¡Œå‡ åä¸ªä¼˜åŒ–æµ‹è¯•ï¼Œå¦‚æžœæ¯ä¸ªæµ‹è¯•éƒ½è¿½æ±‚æžç«¯å‡†ç¡®æ€§ï¼Œäº§å“çš„è¿­ä»£é€Ÿåº¦ä¼šå‡å°‘50%ã€‚å¯¹äºŽâ€œå¤©ä¸‹æ­¦åŠŸï¼Œå”¯å¿«ä¸ç ´â€çš„äº’è”ç½‘äº§å“ï¼Œè¿™æ ·çš„æ•ˆçŽ‡æŸå¤±æ˜¯ç»å¯¹ä¸å¯æŽ¥å—çš„ã€‚ æ›´å¤šé˜…è¯» ABæµ‹è¯•ä¹‹CTR ï¼ˆæœ¬æ–‡ï¼‰ ABæµ‹è¯•ä¹‹å‡å€¼ å‚è€ƒï¼š ä¸ºä»€ä¹ˆä½¿ç”¨å•ä¾§æ£€éªŒ pwr package document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"å¢žé•¿é»‘å®¢","slug":"å¢žé•¿é»‘å®¢","permalink":"https://yupototo.github.io/blog/categories/%E5%A2%9E%E9%95%BF%E9%BB%91%E5%AE%A2/"}],"tags":[{"name":"R","slug":"R","permalink":"https://yupototo.github.io/blog/tags/R/"}]},{"title":"ä¸ºä»€ä¹ˆæ•°æ®å›¢é˜Ÿåº”è¯¥é‡‡ç”¨ reproducible research","slug":"ds-4-reproducible-research","date":"2019-05-19T10:07:01.000Z","updated":"2020-02-03T17:14:34.339Z","comments":true,"path":"2019/05/19/ds-4-reproducible-research/","link":"","permalink":"https://yupototo.github.io/blog/2019/05/19/ds-4-reproducible-research/","excerpt":"Reproducible research ï¼ˆå¯é‡å¤ç ”ç©¶ï¼‰æ˜¯å­¦æœ¯ç•Œçš„ä¸€ä¸ªæ½®æµã€‚å®ƒçš„æ„æ€æ˜¯ï¼Œæ‰€æœ‰ç ”ç©¶éƒ½åº”è¯¥æ˜¯å¯ä»¥â€œå¤åˆ¶â€çš„ã€‚å¦‚æžœä½ ç»™æˆ‘ä¸€ä¸ªç ”ç©¶æŠ¥å‘Šï¼Œä½ ä¸èƒ½åªç»™æˆ‘çœ‹ç»“æžœï¼Œä½ è¿˜è¦ç»™æˆ‘çœ‹åˆ°æ•´ä¸ªåˆ†æžè¿‡ç¨‹ï¼Œè€Œä¸”æˆ‘èƒ½å¤Ÿåœ¨è‡ªå·±çš„ç”µè„‘ä¸Šå¤åˆ¶å‡ºåŒæ ·çš„ç»“æžœã€‚ ç»åŽ†è¿‡å‡ ä¸ªå…¬å¸çš„æ•°æ®ç›¸å…³ä¸šåŠ¡åŽï¼Œæˆ‘æ·±æ·±åœ°æ„Ÿè§‰åˆ°ï¼šè¿™ä¸ªè§„èŒƒä¸åªåº”è¯¥ç”¨åœ¨ç§‘å­¦ç ”ç©¶é‡Œï¼Œå®ƒä¹Ÿåº”è¯¥ç”¨åœ¨å•†ä¸šå…¬å¸çš„æ•°æ®å›¢é˜Ÿé‡Œã€‚ \b","text":"Reproducible research ï¼ˆå¯é‡å¤ç ”ç©¶ï¼‰æ˜¯å­¦æœ¯ç•Œçš„ä¸€ä¸ªæ½®æµã€‚å®ƒçš„æ„æ€æ˜¯ï¼Œæ‰€æœ‰ç ”ç©¶éƒ½åº”è¯¥æ˜¯å¯ä»¥â€œå¤åˆ¶â€çš„ã€‚å¦‚æžœä½ ç»™æˆ‘ä¸€ä¸ªç ”ç©¶æŠ¥å‘Šï¼Œä½ ä¸èƒ½åªç»™æˆ‘çœ‹ç»“æžœï¼Œä½ è¿˜è¦ç»™æˆ‘çœ‹åˆ°æ•´ä¸ªåˆ†æžè¿‡ç¨‹ï¼Œè€Œä¸”æˆ‘èƒ½å¤Ÿåœ¨è‡ªå·±çš„ç”µè„‘ä¸Šå¤åˆ¶å‡ºåŒæ ·çš„ç»“æžœã€‚ ç»åŽ†è¿‡å‡ ä¸ªå…¬å¸çš„æ•°æ®ç›¸å…³ä¸šåŠ¡åŽï¼Œæˆ‘æ·±æ·±åœ°æ„Ÿè§‰åˆ°ï¼šè¿™ä¸ªè§„èŒƒä¸åªåº”è¯¥ç”¨åœ¨ç§‘å­¦ç ”ç©¶é‡Œï¼Œå®ƒä¹Ÿåº”è¯¥ç”¨åœ¨å•†ä¸šå…¬å¸çš„æ•°æ®å›¢é˜Ÿé‡Œã€‚ \b ä¼ ç»Ÿçš„åˆ†æžæŠ¥å‘Šä¸ºäº†ç®€åŒ–è®¨è®ºï¼Œæˆ‘ä»¬å‡è®¾æ•°æ®å·²ç»è‡ªåŠ¨æœé›†å¹¶å­˜å‚¨åœ¨æ•°æ®ä»“åº“ä¸­ã€‚æˆ‘ä»¬å…ˆä¸è®¨è®ºç ”ç©¶å›¢é˜Ÿéœ€è¦è‡ªå·±æœé›†æ•°æ®çš„æƒ…å†µã€‚ \bäº§å“ç»ç†æƒ³äº†è§£ä¸€ä¸ªé—®é¢˜ï¼šâ€œæˆ‘ä»¬ä¸ºæå‡ç”¨æˆ·ç•™å­˜è®¾è®¡äº†ä¸€ä¸ªæ–°åŠŸèƒ½ï¼Œè¿™ä¸ªæ–°åŠŸèƒ½å·²ç»ä¸Šçº¿äº†1ä¸ªæœˆï¼Œå®ƒæ˜¯å¦æœ‰æ•ˆæžœå‘¢ï¼Ÿâ€ æŸåˆ†æžå¸ˆåšäº†å¦‚ä¸‹æ“ä½œï¼š ä»Žæ•°æ®åº“æå–æ•°æ®ï¼Œæˆ–ä»Žæ•°æ®åŽå°â€œä¸‹è½½â€æ•°æ® æŠŠæ•°æ®å¯¼å…¥ excel ä¸­ï¼Œå¼€å§‹æ¸…æ´—æ•°æ® åšæŸäº›å‡è®¾æ£€éªŒã€æˆ–æ¨¡åž‹åˆ†æž æŠŠåˆ†æžç»“æžœå±•ç¤ºåœ¨ excel ä¸­ï¼Œæˆ–å¦å¤–å†™ä¸€ä»½ word æŠ¥å‘Š åœ¨æŸäº›å…¬å¸é‡Œï¼Œä¸Šé¢çš„åšæ³•å·²ç»â€œè¶³å¤Ÿâ€äº†ã€‚ä½†æ˜¯ï¼Œç»åŽ†è¿‡å­¦æœ¯è®­ç»ƒçš„äººä¼šæœ‰å¦‚ä¸‹é—®é¢˜ï¼š æ€Žä¹ˆåˆ¤æ–­æŠ¥å‘Šä½œè€…ä½¿ç”¨äº†â€œæ­£ç¡®â€çš„æ•°æ®æºï¼Ÿä¾‹å­ï¼šæå–æ•°æ®çš„æ—¶å€™æ—¥æœŸæžé”™äº†ã€‚ æ€Žä¹ˆåˆ¤æ–­ä½œè€…æ­£ç¡®æ¸…æ´—äº†æ•°æ®ï¼Ÿä¾‹å­ï¼šfloat å˜ intã€‚ æ€Žä¹ˆåˆ¤æ–­ä½œè€…åšäº†éœ€è¦åšçš„æ£€éªŒï¼Ÿä¾‹å­ï¼šä½¿ç”¨ lm æ¨¡åž‹å´æ²¡æ£€æŸ¥å‡è®¾æ˜¯å¦èƒ½è¢«æ»¡è¶³ã€‚ æ€Žä¹ˆåˆ¤æ–­ä½œè€…æ²¡æœ‰ä¸ºäº†æŽ¨é”€è‡ªå·±çš„ç»“è®ºè€Œâ€œè°ƒæ•´â€æ•°æ®ï¼Ÿä¾‹å­ï¼šé€‰æ‹©æ€§å±•ç¤ºæ•°æ®ã€‚ â€¦â€¦ ä¸Šé¢è¿™äº›é—®é¢˜å¯ä»¥æ€»ç»“ä¸ºï¼šæ€Žä¹ˆçŸ¥é“åˆ†æžå¸ˆæ²¡æœ‰çŠ¯é”™ï¼Œæ— è®ºæ˜¯æœ‰æ„çš„é”™è¯¯è¿˜æ˜¯æ— æ„çš„é”™è¯¯ã€‚ æŒ‰ç…§ä¼ ç»Ÿçš„æ–¹æ³•ï¼Œâ€œæ‰¾åˆ†æžæŠ¥å‘Šçš„ bugâ€æ˜¯ä¸ªæˆæœ¬å¾ˆé«˜çš„æ´»å„¿ï¼Œæˆ‘ä»¬å‡ ä¹Žåªèƒ½è¢«åŠ¨æŽ¥å—åˆ†æžå¸ˆç»™çš„ç»“æžœã€‚ è¿™æ„å‘³ç€ï¼Œæˆ‘ä»¬æ²¡æœ‰åŠžæ³•ç³»ç»Ÿæ€§åœ°ä¿è¯æ•°æ®åˆ†æžçš„è´¨é‡ã€‚ä¸€ä¸ªå°å…¬å¸ä¹Ÿè®¸å¯ä»¥å®¹å¿è¿™æ ·çš„é”™è¯¯å¯èƒ½ï¼Œä½†å¯¹ä¸¥é‡ä¾èµ–æ•°æ®åšå‡ºå†³ç­–ã€å¹¶ä¸”éœ€è¦åšå‡ºå¤§é‡å†³ç­–çš„å…¬å¸ï¼Œè¿™ä¸æ˜¯æœ€ä¼˜è§£ã€‚ ä¸€ä¸ªå¯å¤åˆ¶çš„åˆ†æžæŠ¥å‘Šç”¨å¯å¤åˆ¶çš„åˆ†æžæŠ¥å‘Šï¼Œä¹‹å‰çš„ç ”ç©¶é—®é¢˜ä¼šç”¨ä¸‹é¢çš„æ–¹æ³•åšã€‚ æ•°æ®èŽ·å–è¦æ±‚ï¼šæ•°æ®çš„èŽ·å–å¿…é¡»è°ƒç”¨ API æˆ–è€…å†™ SQL è¯­å¥ã€‚ ä½œç”¨ï¼š å½“æˆ‘æ‹¿åˆ°ä½ çš„åˆ†æžï¼Œæˆ‘èƒ½å¤åˆ¶è¿™æ®µä»£ç ï¼Œç„¶åŽè°ƒå‡ºå®Œå…¨ä¸€æ ·çš„æ•°æ® å¦‚æžœæˆ‘æ€€ç–‘æ•°æ®æå–è¿‡ç¨‹æœ‰é—®é¢˜ï¼Œæˆ‘å¯ä»¥æ£€æŸ¥ä»£ç ï¼Œåˆ¤æ–­æ˜¯ä¸æ˜¯å–æ•°æ®çš„ä»£ç å†™é”™äº† ç¦æ­¢è¡Œä¸ºï¼šåœ¨åŽå°â€œä¸‹è½½â€æ•°æ®ã€‚æ²¡äººçŸ¥é“ä½ åœ¨ä¸‹è½½å‰åšäº†å“ªäº›æ“ä½œã€‚ \bæ•°æ®æ¸…æ´—è¦æ±‚ï¼š æ¸…æ´—æ•°æ®å¿…é¡»ä½¿ç”¨ä»£ç å®Œæˆã€‚ æ•´ä¸ªæ•°æ®æ¸…æ´—æµç¨‹ï¼Œéƒ½ç”¨æ³¨é‡Šæ¸…æ™°çš„æ ‡æ³¨ã€‚ ä½œç”¨ï¼šå…¶ä»–äººèƒ½æ£€æŸ¥æ•´ä¸ªåˆ†æžæµç¨‹ï¼Œåˆ¤æ–­æ˜¯å¦æœ‰æŸäº›åœ°æ–¹å‡ºé”™ã€‚ ç¦æ­¢è¡Œä¸ºï¼šåœ¨ excel æˆ–å…¶ä»–å·¥å…·ä¸Šç”¨é¼ æ ‡ç‚¹é€‰å®Œæˆæ•°æ®æ¸…æ´—ã€‚é¼ æ ‡ç‚¹é€‰ä¹Ÿæ˜¯ä¸å¯å¤åˆ¶çš„ï¼Œä¸åªåˆ«äººå¤åˆ¶ä¸äº†ï¼Œåˆ†æžå¸ˆè‡ªå·±éƒ½å¾ˆéš¾å¤åˆ¶ï¼ˆä¹Ÿè®¸ç¬¬ä¸€æ¬¡åˆ†æžæ—¶ç‚¹é”™äº†æŸä¸ªåœ°æ–¹å´ä¸è‡ªçŸ¥ï¼‰ã€‚ æ•°æ®åˆ†æžè¿‡ç¨‹è¦æ±‚ï¼š éœ€è¦ç»™å‡ºä½¿ç”¨æŸä¸ªåˆ†æžæ¨¡åž‹çš„åŽŸå›  éœ€è¦è¯´æ˜Žå‚æ•°é€‰æ‹©çš„è¿‡ç¨‹ éœ€è¦ç”¨ä»£ç å±•ç¤ºå®Œæ•´çš„åˆ†æžæµç¨‹ ä½œç”¨ï¼š æ•°æ®åˆ†æžåŒ…å«ä¸€å®šçš„ç†è®ºçŸ¥è¯†ï¼Œä¹ŸåŒ…å«å¾ˆå¤šç›¸å¯¹ä¸»è§‚çš„åˆ¤æ–­ï¼Œè®°å½•è¿™äº›åˆ¤æ–­è¿‡ç¨‹ï¼Œæœ‰åŠ©äºŽå…¶ä»–äººç†è§£ æ–¹ä¾¿æ£€æŸ¥ä»£ç æ­£ç¡®æƒ…å†µ ç¦æ­¢è¡Œä¸ºï¼šä¸èƒ½æŠŠæ•°æ®åˆ†æžçš„è¿‡ç¨‹å½“æˆâ€œé»‘ç®±å­â€ï¼Œè¿‡ç¨‹å’Œç»“æžœåŒæ ·é‡è¦ã€‚ æŠ¥å‘Šå½¢å¼è¦æ±‚ï¼š æ ¸å¿ƒåˆ†æžå†…å®¹å’Œåˆ†æžç»“è®ºåœ¨æŠ¥å‘Šä¸»å¹²éƒ¨åˆ† ä»Žæ•°æ®èŽ·å–åˆ°åˆ†æžéƒ¨åˆ†çš„ä»£ç ï¼Œéƒ½åœ¨å¤‡æ³¨éƒ¨åˆ†ï¼Œæˆ–è€…æ”¾åœ¨å¦ä¸€ä¸ªæ–‡ä»¶é‡Œ ä½œç”¨ï¼š æŠ¥å‘Šä½¿ç”¨è€…åªéœ€è¦é˜…è¯»ä¸»è¦éƒ¨åˆ† æŠ¥å‘Šå®¡é˜…è€…å¯ä»¥åœ¨å¤‡æ³¨éƒ¨åˆ†æŸ¥æ‰¾å¯å¤åˆ¶ç ”ç©¶çš„è¿‡ç¨‹ å·¥å…·ç›®å‰ä¼¼ä¹Žåªæœ‰2ä¸ªé€‰æ‹©ï¼š Rï¼šä½¿ç”¨ Rmarkdown Pythonï¼šä½¿ç”¨ Notebook å…¶ä»–å·¥å…·æ»¡è¶³ä¸äº†â€œå¯å¤åˆ¶â€çš„éœ€æ±‚ã€‚ â€œå¯å¤åˆ¶ç ”ç©¶â€çš„æ„ä¹‰æœ¬è´¨ä¸Šï¼Œâ€œå¯å¤åˆ¶ç ”ç©¶â€ æŠŠæ•°æ®åˆ†æžä»Žé»‘ç®±å­å˜æˆäº†å¯ä»¥å®¡é˜…çš„æ–‡æœ¬ï¼Œå‘çŽ°åˆ†æžé”™è¯¯å˜å¾—ç›¸å¯¹ä¾¿å®œã€‚ å®ƒè®©æ¯ä¸ªäººçš„å·¥ä½œéƒ½å˜å¾— accountableã€‚\bæ¯ä¸€è¡Œä»£ç ã€æ¯ä¸€ä¸ªåˆ†æžå†³ç­–ï¼Œéƒ½è¢«æš´éœ²åœ¨å…‰å¤©åŒ–æ—¥ä¹‹ä¸‹ï¼Œ\bä¸œéƒ­å…ˆç”Ÿå°±æ— å¤„è—èº«äº†ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œå†™äº†ä½ åå­—çš„æŠ¥å‘Šä¸Šç«Ÿç„¶æœ‰ä½Žçº§çš„æ•°æ®æ¸…æ´—é”™è¯¯ï¼Œ\bè¿™æ˜¯ä»¶å¤šä¹ˆä¸¢äººçš„äº‹æƒ…ã€‚ æ•´ä½“ä¸Šï¼Œâ€œå¯å¤åˆ¶ç ”ç©¶â€ä¼šæé«˜æ•´ä¸ªæ•°æ®å›¢é˜Ÿçš„åˆ†æžè´¨é‡ã€‚ æˆ‘è¿˜æ²¡æœ‰æœºä¼šåœ¨è¿™æ ·çš„å›¢é˜Ÿå·¥ä½œï¼Œä½†è¿‡åŽ»çš„ç»åŽ†è®©æˆ‘çŸ¥é“â€œæ™®é€šâ€çš„æ•°æ®åˆ†æžå›¢é˜Ÿå¯ä»¥ç³Ÿç³•åˆ°ä»€ä¹ˆç¨‹åº¦ã€‚çœ‹åˆ°æŸäº›åˆ†æžå¸ˆçš„æŠ¥å‘Šï¼Œä¼šè®©ä½ æ€€ç–‘ä»–ä»¬æ˜¯å¦ä¸Šè¿‡ç»Ÿè®¡å­¦å…¥é—¨è¯¾ï¼Œæˆ‘ä¸€ç›´ä¸ºä½¿ç”¨è¿™äº›æŠ¥å‘Šçš„å†³ç­–è€…ææŠŠæ±—ã€‚ å¯å¤åˆ¶ç ”ç©¶ä¹Ÿå¯¹å›¢é˜Ÿæˆå‘˜çš„èƒ½åŠ›æœ‰å·¨å¤§çš„è¦æ±‚ï¼š å¿…é¡»ä¼š R æˆ– Pythonï¼Œä¼šè¿˜ä¸å¤Ÿï¼Œè¿˜å¿…é¡»èƒ½å†™å‡º readable code è¡¨è¾¾èƒ½åŠ›è¦è¶³å¤Ÿå¼º æœ‰ä¸€å®šçš„ç»Ÿè®¡åŸºç¡€ï¼Œèƒ½å¤Ÿåšåˆ°å¼•ç”¨æ–‡çŒ® æ‰€è°“â€œå¯å¤åˆ¶ç ”ç©¶â€ï¼Œé™¤äº†æ˜¯ä¸€ç§ç†å¿µï¼Œè¿˜æ˜¯ä¸€å¥—å·¥ä½œæµ workflowã€‚å°±åƒ readable code èƒ½æ•´ä½“ä¸Šæé«˜å›¢é˜Ÿçš„å¼€å‘è´¨é‡ï¼Œreproducible report èƒ½æ•´ä½“ä¸Šæé«˜å›¢é˜Ÿçš„æ•°æ®åˆ†æžè´¨é‡ã€‚ \bä½¿ç”¨å¯å¤åˆ¶ç ”ç©¶è¿˜æœ‰ä¸€ä¸ªå¥½å¤„ï¼Œâ€œçŸ¥è¯†â€å˜å¾—å¯ä»¥æ²‰æ·€ï¼Œä¸å†åªæ˜¯æŸäº›åˆ†æžå¸ˆè„‘å­é‡Œçš„ç»éªŒã€‚åŽæ¥è€…å¯ä»¥é€šè¿‡å‰äººçš„æŠ¥å‘Šå­¦ä¹ åˆ†æžæ€è·¯ã€å¤ç”¨ä»£ç ã€‚ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"æ•°æ®ç§‘å­¦","slug":"æ•°æ®ç§‘å­¦","permalink":"https://yupototo.github.io/blog/categories/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6/"}],"tags":[]},{"title":"å¢žé•¿é»‘å®¢ç³»åˆ—ä¹‹3ï¼šå¢žé•¿çš„ä¸‰é©¾é©¬è½¦","slug":"growth_3_three_horses","date":"2019-05-06T17:15:47.000Z","updated":"2020-02-03T17:14:34.347Z","comments":true,"path":"2019/05/06/growth_3_three_horses/","link":"","permalink":"https://yupototo.github.io/blog/2019/05/06/growth_3_three_horses/","excerpt":"æˆ‘åœ¨æœ¬ç³»åˆ—çš„å‰ä¸¤ç¯‡æ–‡ç« é‡Œè®¨è®ºäº†â€œè£‚å˜æ¨¡åž‹â€ï¼Œåœ¨è£‚å˜æ¨¡åž‹é‡Œï¼Œç›®æ ‡æ˜¯â€œæ€»ç”¨æˆ·æ•°â€ã€‚å…¶å®žçœŸæ­£çš„å¢žé•¿ç›®æ ‡ï¼Œåº”è¯¥æ˜¯æ—¥æ´»è·ƒç”¨æˆ·æ•°ï¼Œä¹Ÿå« DAUï¼ˆDaily Active Userï¼‰ã€‚ \bé©±åŠ¨äº§å“çš„ DAU çš„è¦ç´ å¯ä»¥åˆ†ä¸º3ä¸ªï¼š æ–°å¢ž ç•™å­˜/æµå¤± è£‚å˜ æˆç†Ÿçš„å¢žé•¿å›¢é˜Ÿï¼Œåº”è¯¥ä»Žä¸Šé¢3ä¸ªç»´åº¦ç€æ‰‹æ¥å®žçŽ°å¢žé•¿ç›®æ ‡ã€‚ \b\b","text":"æˆ‘åœ¨æœ¬ç³»åˆ—çš„å‰ä¸¤ç¯‡æ–‡ç« é‡Œè®¨è®ºäº†â€œè£‚å˜æ¨¡åž‹â€ï¼Œåœ¨è£‚å˜æ¨¡åž‹é‡Œï¼Œç›®æ ‡æ˜¯â€œæ€»ç”¨æˆ·æ•°â€ã€‚å…¶å®žçœŸæ­£çš„å¢žé•¿ç›®æ ‡ï¼Œåº”è¯¥æ˜¯æ—¥æ´»è·ƒç”¨æˆ·æ•°ï¼Œä¹Ÿå« DAUï¼ˆDaily Active Userï¼‰ã€‚ \bé©±åŠ¨äº§å“çš„ DAU çš„è¦ç´ å¯ä»¥åˆ†ä¸º3ä¸ªï¼š æ–°å¢ž ç•™å­˜/æµå¤± è£‚å˜ æˆç†Ÿçš„å¢žé•¿å›¢é˜Ÿï¼Œåº”è¯¥ä»Žä¸Šé¢3ä¸ªç»´åº¦ç€æ‰‹æ¥å®žçŽ°å¢žé•¿ç›®æ ‡ã€‚ \b\b æ–°å¢žè¿™é‡Œçš„æ–°å¢žä¸€èˆ¬æŒ‡å›¢é˜Ÿæ¶ˆè€—ç²¾åŠ›æˆ–é‡‘é’±èŽ·å–åˆ°ç”¨æˆ·ï¼Œä¹Ÿå« UA ï¼ˆUser Acquisitionï¼‰ã€‚ æœ€å…¸åž‹çš„ UA è¡Œä¸ºæ˜¯é€šè¿‡å¹¿å‘Šç½‘ç»œè´­ä¹°ç”¨æˆ·ï¼Œè¿™ç±»å¹¿å‘Šå› ä¸ºå¯ä»¥è¡¡é‡æŠ•å…¥äº§å‡ºæ¯”ï¼Œæ‰€ä»¥å«â€œæ•ˆæžœå¹¿å‘Šâ€ã€‚æ¯”å¦‚æˆ‘ä»¬åœ¨æµè§ˆæœ‹å‹åœˆæ—¶çœ‹åˆ°çš„æ¸¸æˆå¹¿å‘Šï¼Œå°±æ˜¯ä¸€ä¸ªæ•ˆæžœå¹¿å‘Šã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œå“ç‰Œå¹¿å‘Šä¹Ÿæ˜¯å¤§å…¬å¸å¸¸ç”¨çš„æ–¹æ³•ï¼Œæ¯”å¦‚æŠ–éŸ³å† åèµžåŠ©æŸä¸ª\bç»¼è‰ºèŠ‚ç›®ã€‚ å¢žé•¿é»‘å®¢èƒ½å¤Ÿå‘æŒ¥ä½œç”¨çš„åœ°æ–¹ä¸€èˆ¬æ˜¯åœ¨æ•ˆæžœå¹¿å‘Šéƒ¨åˆ†ã€‚ æœ€å…¸åž‹çš„é—®é¢˜åœºæ™¯ï¼šå…¬å¸æ¯ä¸ªæœˆä¼šèŠ±æŽ‰1000ä¸‡çš„æ•ˆæžœå¹¿å‘Šï¼Œå¦‚ä½•æœ€å¤§åŒ–è¿™1000ä¸‡çš„æ•ˆæžœå‘¢ï¼Ÿ è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥è¿™æ ·è€ƒè™‘é—®é¢˜ï¼š æ˜¯ä¸æ˜¯æœ‰æŠ•æ”¾æ•ˆæžœæ¯”è¾ƒå·®çš„æ¸ é“ï¼Ÿå¦‚æžœæœ‰çš„è¯ï¼Œæˆ‘ä»¬åº”è¯¥åœ¨è¿™äº›æ¸ é“å‡å°‘æŠ•å…¥ã€‚åä¹‹ï¼Œæœ‰æ²¡æœ‰å¥½çš„æ¸ é“å¯ä»¥å¢žåŠ æŠ•å…¥ã€‚ å¹¿å‘Šçš„ç”¨æˆ·ç”»åƒæ˜¯å¦æ˜¯å½“å‰æœ€ä¼˜è§£ï¼Ÿæœ‰æ²¡æœ‰æ›´ä¾¿å®œä½†æ•ˆæžœæ›´å¥½çš„å¹¿å‘Šå®šä½æ–¹æ¡ˆï¼Ÿ å¹¿å‘Šçš„ç´ ææœ‰æ²¡æœ‰å¯èƒ½ä¼˜åŒ–ï¼Ÿå¯¹åº”çš„æŒ‡æ ‡æ˜¯å¹¿å‘Šç‚¹å‡»çŽ‡ã€‚ å¹¿å‘Šçš„è½åœ°é¡µæœ‰æ²¡æœ‰å¯èƒ½ä¼˜åŒ–ï¼Ÿå¯¹åº”çš„æŒ‡æ ‡æ˜¯è½åœ°é¡µçš„è½¬åŒ–çŽ‡ã€‚ â€¦ ä¸Šé¢çš„æ¯ä¸€ä¸ªé—®é¢˜ï¼Œæœ‰ä¸¤ç§ä¼˜åŒ–æ€è·¯ï¼š å†…éƒ¨å¯¹æ¯”ã€‚æ¯”å¦‚å¯¹æ¯” A æ¸ é“å’Œ B æ¸ é“ï¼Œå¯¹æ¯” A å®šä½å’Œ B å®šä½ï¼Œç„¶åŽç›¸åº”ä¿®æ”¹æŠ•å…¥æ–¹æ¡ˆã€‚ å¤–éƒ¨ benchmarkï¼Œå³å¯¹æ¯”å¸‚é¢ä¸Šäº§å“çš„æ•°æ®ï¼Œè¿™éœ€è¦å¯é çš„ä¿¡æ¯æºã€‚ ç•™å­˜/æµå¤±æˆ‘ä»¬åœ¨æåˆ°ç•™å­˜æ—¶ï¼Œç»å¸¸æŒ‡çš„æ˜¯â€œæ¬¡æ—¥ç•™å­˜â€ã€â€œ3äººç•™å­˜â€œç­‰æŒ‡æ ‡ï¼Œè¿™äº›æŒ‡æ ‡æè¿°äº†ç”¨æˆ·åœ¨ç¬¬2å¤©å’Œç¬¬3å¤©ç»§ç»­ä½¿ç”¨äº§å“çš„æ¯”ä¾‹ã€‚è¿™åªæ˜¯ä¸€ä¸ªæ–¹ä¾¿è¡¡é‡äº§å“çš„æŒ‡æ ‡ï¼Œå¯¹ä¼˜åŒ–äº§å“çš„å¸®åŠ©å¹¶ä¸ååˆ†å¤§ã€‚ çœŸæ­£é‡è¦çš„æ¦‚å¿µï¼Œæ˜¯æµå¤± churnã€‚ æˆ‘ä»¬å…³å¿ƒè¿™äº›é—®é¢˜ï¼š æœ‰å¤šå°‘æ¯”ä¾‹çš„ç”¨æˆ·åœ¨1åˆ†é’Ÿå†…æµå¤±äº†ï¼Ÿ æœ‰å¤šå°‘æ¯”ä¾‹çš„ç”¨æˆ·åœ¨è¿›å…¥äº§å“çš„æ ¸å¿ƒä½“éªŒçŽ¯èŠ‚å‰å°±æµå¤±äº†ï¼Ÿ æ›´æŠ½è±¡åœ°ï¼Œç”¨æˆ·åœ¨å„ä¸ªäº§å“çŽ¯èŠ‚çš„æµå¤±çŽ‡æƒ…å†µæ€Žæ ·ï¼Ÿ \b\bæµå¤±çš„ç”¨æˆ·æœ‰å“ªäº›å…±åŒç‰¹å¾ï¼Ÿ å¤šå°‘ç”¨æˆ·åœ¨ç¬¬2å¤©æ²¡å†å›žæ¥ï¼ˆé€šè¿‡è¿™ä¸ªæ•°æ®ä¹Ÿå¯ä»¥ç®—å‡ºæ¬¡æ—¥ç•™å­˜çŽ‡ï¼‰ â€¦â€¦ ä¸€ä¸ªå¥½äº§å“ï¼Œæœ€ç›´è§‚çš„è¡¨çŽ°æ˜¯ï¼Œç”¨æˆ·ä¼šç•™ä¸‹æ¥ã€‚æ‰€ä»¥ï¼Œè¾ƒé«˜çš„ç•™å­˜çŽ‡ã€æˆ–è¾ƒä½Žçš„æµå¤±çŽ‡ï¼Œæ˜¯ä¼˜ç§€äº§å“çš„å…±åŒç‰¹å¾ã€‚ äº§å“çš„å›¢é˜Ÿçš„æœ€æ ¸å¿ƒå·¥ä½œï¼Œå°±æ˜¯è§£å†³ç•™å­˜é—®é¢˜ï¼Œæ¢ä¸ªè¡¨è¿°å°±æ˜¯ï¼Œè§£å†³â€œäº§å“é—®é¢˜â€ã€‚æˆ‘ç”šè‡³æœ‰ä¸€ä¸ªè§‚ç‚¹ï¼šäº§å“é—®é¢˜å…¶å®žå°±æ˜¯ç•™å­˜é—®é¢˜ã€‚ å¢žé•¿é»‘å®¢å¯ä»¥åœ¨è¿™ä¸ªçŽ¯èŠ‚åšä»€ä¹ˆå‘¢ï¼Ÿ ç ”ç©¶æ¯ä¸ªç”¨æˆ·è½¬åŒ–çŽ¯èŠ‚çš„æµå¤±æƒ…å†µï¼Œè¯†åˆ«æœ€ä¸¥é‡çš„æµå¤±çŽ¯èŠ‚ è®¾è®¡ A/B æµ‹è¯•ï¼Œå¯¹è½¬åŒ–çŽ¯èŠ‚åšä¼˜åŒ– ç ”ç©¶æµå¤±ç”¨æˆ·æˆ–ç•™å­˜ç”¨æˆ·çš„å…±æ€§ï¼Œç”¨ä»¥çŸ¥é“äº§å“ä¼˜åŒ– â€¦â€¦ è£‚å˜è£‚å˜ï¼Œæˆ–ç—…æ¯’ä¼ æ’­ï¼Œæ˜¯å¢žé•¿é»‘å®¢çš„ç¬¬3ä¸ªå·¥ä½œé‡å¿ƒã€‚ è£‚å˜çš„ä»·å€¼æˆ‘ä»¬åœ¨å‰ä¸¤ç¯‡æ–‡ç« é‡Œå·²ç»ä»‹ç»è¿‡ï¼Œä¸€ä¸ªç—…æ¯’å› å­è¶³å¤Ÿé«˜çš„äº§å“ï¼Œä¼šç»™äº§å“å¸¦æ¥æŒ‡æ•°çº§åˆ«çš„å¢žé•¿ã€‚ å¢žé•¿é»‘å®¢è¦åšçš„äº‹æƒ…ï¼Œå°±æ˜¯ä¼˜åŒ–ä¸‰ä¸ªè£‚å˜ç›¸å…³çš„æŒ‡æ ‡ï¼š äººå‡é‚€è¯·æ•°é‡ï¼šè¶Šé«˜è¶Šå¥½ æ„ŸæŸ“çŽ‡ï¼šè¶Šé«˜è¶Šå¥½ ç—…æ¯’ä¼ æ’­çš„å‘¨æœŸï¼šè¶Šä½Žè¶Šå¥½ è£‚å˜æœ‰è‡³å°‘3ç§å®žçŽ°æ–¹å¼ï¼š äº§å“æœ¬èº«æœ‰å¤©ç„¶çš„è£‚å˜å±žæ€§ï¼šæ¯”å¦‚å¾®ä¿¡ã€Facebookã€slack è¿™æ ·æœ‰ç¤¾äº¤å±žæ€§çš„äº§å“ äº§å“æœ‰æŸä¸ªè£‚å˜åŠŸèƒ½ï¼šå¦‚æ‹¼å¤šå¤šçš„â€œå¸®æˆ‘ç ä»·â€ï¼Œæˆ–çŸ¥è¯†ä»˜è´¹äº§å“çš„â€œåˆ†é”€â€ é€šè¿‡è¿è¥æ´»åŠ¨å®žçŽ°è£‚å˜ï¼šæ¯”å¦‚ç‘žå¹¸å’–å•¡çš„â€œé‚€è¯·ç”¨æˆ·ï¼Œå„å¾—ä¸€æ¯â€ æ ¹æ®ä¸åŒçš„è£‚å˜å®žçŽ°æ–¹å¼ï¼Œå¢žé•¿é»‘å®¢ä¼šè·Ÿäº§å“ã€è¿è¥ç­‰ä¸åŒèŒèƒ½çš„åŒäº‹åˆä½œã€‚ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"å¢žé•¿é»‘å®¢","slug":"å¢žé•¿é»‘å®¢","permalink":"https://yupototo.github.io/blog/categories/%E5%A2%9E%E9%95%BF%E9%BB%91%E5%AE%A2/"}],"tags":[]},{"title":"IIFE","slug":"coding-12-iife","date":"2019-03-15T10:58:56.000Z","updated":"2020-02-03T17:14:34.335Z","comments":true,"path":"2019/03/15/coding-12-iife/","link":"","permalink":"https://yupototo.github.io/blog/2019/03/15/coding-12-iife/","excerpt":"IIFE (Immediate Invoked Function) æ˜¯ JavaScript é‡Œä¸€ç§å¿«æ·ä½¿ç”¨å‡½æ•°çš„æ–¹å¼ã€‚ è¿™é‡Œåšä¸€ä¸ªä»‹ç»ã€‚ \b","text":"IIFE (Immediate Invoked Function) æ˜¯ JavaScript é‡Œä¸€ç§å¿«æ·ä½¿ç”¨å‡½æ•°çš„æ–¹å¼ã€‚ è¿™é‡Œåšä¸€ä¸ªä»‹ç»ã€‚ \b åˆ›å»ºå‡½æ•°çš„å‡ ç§æ–¹æ³•JavaScript æä¾›äº†ä¸¤ç§åˆ›å»ºå‡½æ•°çš„æ–¹æ³•ï¼š function declaration function expression function declarationfunction declaration åˆ›å»ºå‡½æ•°çš„æ–¹æ³•æœ‰ç‚¹åƒ python çš„ defï¼Œæ¯”è¾ƒå®¹æ˜“ç†è§£ã€‚ 123456function one() { console.log(1)}one()// 1 Python å¯ä»¥ç”¨ç±»ä¼¼çš„æ–¹å¼åˆ›å»ºå‡½æ•°ï¼š 12345def one(): print(1) one()// 1 function expressionå¦ä¸€ç§åˆ›å»ºå‡½æ•°çš„æ–¹å¼æ˜¯ function expressionï¼š 123456const one = function() { console.log(1)}one()// 1 ä¹Ÿå¯ä»¥ç”¨ arrow functionï¼š 1234const one = () =&gt; console.log(1)one()// 1 è¿™ç§æ–¹æ³•æ›´åƒ R è¯­è¨€ï¼š 123456one &lt;- function() { print(1)}one()// 1 ä¸¤è€…çš„åŒºåˆ«function declaration å’Œ function expression è¿˜æœ‰å¦ä¸€ä¸ªåŒºåˆ«ï¼š hoistingã€‚ å¦‚æžœ function ç”¨ declaration çš„æ–¹å¼åˆ›å»ºï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ function åˆ›å»ºå‰å°±è°ƒç”¨ï¼š 12345hoist() //1function hoist() { console.log('1')} ä½† function expression ä¸å…è®¸è¿™æ ·ç”¨ï¼š 12345hoist() // ReferenceError: Cannot access 'hoist' before initializationconst hoist = function() { console.log('1')} IIFEåˆ›å»ºå‡½æ•°æ˜¯ä¸ºäº†èƒ½å¤Ÿé‡å¤åˆ©ç”¨ï¼Œä½†æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸éœ€è¦é‡å¤åˆ©ç”¨ï¼Œæœ‰æ—¶ä¸€ä¸ªå‡½æ•°åªéœ€è¦ä½¿ç”¨ä¸€æ¬¡ã€‚ è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ IIFEï¼Œ Immediate Invoked Functionï¼š 1234(function() { console.log(1)})()// 1 è¿™æ—¶ä¼šç›´æŽ¥æ‰“å°å‡º 1ã€‚ ç¬¬ä¸€ä¸ª () é‡Œå…¶å®žæ˜¯å‡½æ•°çš„å®šä¹‰ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼š 1234(() =&gt; { console.log(1))()// 1 æ•ˆæžœæ˜¯ä¸€æ ·çš„ã€‚ IIFE æ˜¯ä¸ªæœ‰æ„æ€çš„æ¦‚å¿µï¼Œæˆ‘è‡ªå·±è¿˜æ²¡ç¢°åˆ°éœ€è¦ç”¨ IIFE çš„æ—¶å€™ï¼ˆæˆ–è€…æ˜¯ç¢°åˆ°äº†è€Œæˆ‘æ²¡æƒ³åˆ°ï¼‰ï¼Œä½†åœ¨çœ‹åˆ«äººä»£ç çš„æ—¶å€™ä¼šç¢°åˆ°ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹ã€‚ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"Coding","slug":"Coding","permalink":"https://yupototo.github.io/blog/categories/Coding/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://yupototo.github.io/blog/tags/JavaScript/"}]},{"title":"å¢žé•¿é»‘å®¢ç³»åˆ—ä¹‹2ï¼šå‡çº§ç‰ˆè£‚å˜æ¨¡åž‹","slug":"growth_2_model_2","date":"2019-03-05T09:39:14.000Z","updated":"2020-02-03T17:14:34.347Z","comments":true,"path":"2019/03/05/growth_2_model_2/","link":"","permalink":"https://yupototo.github.io/blog/2019/03/05/growth_2_model_2/","excerpt":"ä»‹ç»äº†ä¸€ä¸ªçº¯è£‚å˜æ¨¡åž‹ã€‚ æˆ‘ä»¬åœ¨æœ¬ç¯‡åŠ å…¥ä¸€ä¸ªæ–°çš„å˜é‡ï¼šè£‚å˜å‘¨æœŸçš„æ—¶é•¿ã€‚ç›´è§‰å‘Šè¯‰æˆ‘ä»¬ï¼Œè£‚å˜å‘¨æœŸè¶ŠçŸ­ï¼Œè£‚å˜å¼ºåº¦è¶Šå¤§ã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªå¼ºåº¦ç©¶ç«Ÿæœ‰å¤šå¤§å‘¢ï¼Ÿ æˆ‘è®©è¿™ä¸ªé—®é¢˜å†ç²¾ç¡®ä¸€äº›ï¼Œå‡è®¾æœ‰2ä¸ªäº§å“ï¼ŒA äº§å“è£‚å˜å‘¨æœŸåªæœ‰1å¤©ï¼ŒB äº§å“è£‚å˜å‘¨æœŸæ˜¯2å¤©ï¼Œ30å¤©åŽï¼ŒA äº§å“çš„ç”¨æˆ·æ•°ä¼šæ˜¯ B äº§å“çš„å‡ å€ï¼Ÿ \b","text":"ä»‹ç»äº†ä¸€ä¸ªçº¯è£‚å˜æ¨¡åž‹ã€‚ æˆ‘ä»¬åœ¨æœ¬ç¯‡åŠ å…¥ä¸€ä¸ªæ–°çš„å˜é‡ï¼šè£‚å˜å‘¨æœŸçš„æ—¶é•¿ã€‚ç›´è§‰å‘Šè¯‰æˆ‘ä»¬ï¼Œè£‚å˜å‘¨æœŸè¶ŠçŸ­ï¼Œè£‚å˜å¼ºåº¦è¶Šå¤§ã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªå¼ºåº¦ç©¶ç«Ÿæœ‰å¤šå¤§å‘¢ï¼Ÿ æˆ‘è®©è¿™ä¸ªé—®é¢˜å†ç²¾ç¡®ä¸€äº›ï¼Œå‡è®¾æœ‰2ä¸ªäº§å“ï¼ŒA äº§å“è£‚å˜å‘¨æœŸåªæœ‰1å¤©ï¼ŒB äº§å“è£‚å˜å‘¨æœŸæ˜¯2å¤©ï¼Œ30å¤©åŽï¼ŒA äº§å“çš„ç”¨æˆ·æ•°ä¼šæ˜¯ B äº§å“çš„å‡ å€ï¼Ÿ \b ä¸§å°¸çš„ä¸–ç•Œä¸ºä»€ä¹ˆé‚£ä¹ˆåˆºæ¿€åœ¨åŽ»çœ‹æž¯ç‡¥çš„å…¬å¼å’Œä»£ç ä¹‹å‰ï¼Œæˆ‘å…ˆè°ˆè°ˆæœ‰è¶£çš„ä¸§å°¸ã€‚ä¸§å°¸é¢˜æåœ¨çŽ°ä»£ç¤¾ä¼šçš„é£Žé¡æ˜¯ä¸ªæœ‰æ„æ€çš„çŽ°è±¡ï¼Œæˆ‘æŠŠè¿™ä¸ªæƒ³è±¡å«åšâ€œåŒé‡é€ƒé¿â€ã€‚ ç¬¬ä¸€é‡é€ƒé¿æ˜¯çŽ°ä»£äººå¯¹å……æ»¡åŽ‹åŠ›çš„ç”Ÿæ´»çš„é€ƒé¿ï¼šé€šè¿‡ä¸§å°¸ç”µå½±å’Œä¸§å°¸æ¸¸æˆï¼Œäººä»¬æ²‰æµ¸åˆ°äº†ä¸€ä¸ªç´§å¼ åˆºæ¿€çš„ä¸–ç•Œï¼Œè®©æˆ‘ä»¬å¿˜æŽ‰æ—¥å¸¸ç”Ÿæ´»çš„ç§ç§åŽ‹åŠ›ã€‚ç¬¬äºŒé‡é€ƒé¿ï¼šæˆ‘ä»¬åœ¨ä¸§å°¸æ¸¸æˆå’Œç”µå½±é‡Œé€ƒé¿ç€æ— å¤„ä¸åœ¨çš„ä¸§å°¸ã€‚æ‰€ä»¥ï¼Œä¸ºäº†é€ƒé¿çŽ°å®žï¼Œæˆ‘ä»¬é€‰æ‹©åœ¨è™šæ‹Ÿçš„ä¸–ç•Œé‡Œé€ƒé¿ä¸§å°¸ã€‚ ä¸ºä»€ä¹ˆé€ƒé¿ä¸§å°¸æ˜¯ä¸ªé‚£ä¹ˆåˆºæ¿€çš„äº‹æƒ…å‘¢ï¼Ÿä¸€ç§è§£ç­”æ˜¯ï¼šä¸§å°¸å¾ˆè‡´å‘½ã€‚ä½†è¿™ä¸ªç­”æ¡ˆä¸å¤Ÿå®Œç¾Žï¼Œå› ä¸ºè‡´å‘½çš„ä¸œè¥¿å¾ˆå¤šï¼Œæ¯”å¦‚å“¥æ–¯æ‹‰å’Œå¼‚å½¢å°±æ¯”ä¸§å°¸è‡´å‘½å¾—å¤šã€‚å¦‚æžœè‡´å‘½ç¨‹åº¦æ˜¯æŸä¸ªé¢˜æç«çˆ†çš„åŽŸå› ï¼Œæˆ‘ä»¬åº”è¯¥çœ‹åˆ°å“¥æ–¯æ‹‰å’Œå¼‚å½¢æ›´æµè¡Œã€‚ æˆ‘è§‰å¾—çœŸæ­£çš„åŽŸå› æ˜¯ï¼šä¸§å°¸æœ‰éžå¸¸å¼ºçš„ç—…æ¯’ä¼ æ’­èƒ½åŠ›ã€‚ä»Žç¬¬1åªä¸§å°¸è¯žç”Ÿåˆ°ä¸§å°¸å›´åŸŽï¼Œç”¨ä¸äº†å‡ å¤©æ—¶é—´ï¼ˆé¢å¤–æé—®ï¼šè¿™çŽ°å®žå—ï¼Ÿï¼‰ã€‚ æˆ‘ä»¬åœ¨ä¸Šä¸€ç¯‡ç³»åˆ—æ–‡ç« é‡Œæåˆ°äº†ä¸¤ä¸ªæ ¸å¿ƒå˜é‡ï¼š é‚€è¯·æ•°é‡ æ„ŸæŸ“çŽ‡ \båœ¨ä¸§å°¸çš„ä¸–ç•Œé‡Œï¼Œ ä¸§å°¸æ˜¯éžå¸¸çƒ­æƒ…çš„â€œç§å­ç”¨æˆ·â€ï¼Œå®ƒè§åˆ°äººå°±ä¼šå‘å‡ºâ€œé‚€è¯·â€ï¼Œè€Œä¸”æ„ŸæŸ“çŽ‡100%ã€‚æ‰€ä»¥ä¸§å°¸æœ‰éžå¸¸é«˜çš„ç—…æ¯’å› å­ã€‚ ä½†è¿™ä¸ªæŒ‡æ ‡è¿˜ä¸è¶³ä»¥æè¿°ä¸§å°¸çš„å¯æ€•ï¼ˆæˆ–é­…åŠ›ï¼‰ã€‚ä¸§å°¸ç”µå½±é‡Œæœ€åˆºæ¿€çš„æƒ…èŠ‚æ˜¯ï¼Œç”·ä¸»è§’çš„æœ‹å‹/çˆ±äººè¢«å’¬äº†ä¹‹åŽï¼Œ1åˆ†é’Ÿå†…å°±ä¼šå˜æˆä¸§å°¸ï¼Œç„¶åŽä¼šç«‹åˆ»å¼€å§‹è¿›æ”»å…¶ä»–äººç±»ã€‚æ¢å¥è¯è¯´ï¼Œåƒµå°¸æŠŠäººå˜æˆåƒµå°¸çš„å‘¨æœŸéžå¸¸å¿«ã€‚åœ¨å¢žé•¿æ¨¡åž‹é‡Œï¼Œè¿™ä¸ªå‚æ•°å«åšâ€œå‘¨æœŸæ—¶é•¿â€ã€‚åƒµå°¸æœ‰éžå¸¸çŸ­çš„å‘¨æœŸæ—¶é•¿ã€‚ å¦‚æžœè¢«åƒµå°¸å’¬äº†ä¹‹åŽéœ€è¦48ä¸ªå°æ—¶æ‰ä¼šå˜å¼‚ï¼Œåƒµå°¸ç”µå½±å°±æ²¡é‚£ä¹ˆæœ‰æ„æ€äº†ã€‚ æ–°çš„æ¨¡åž‹åœ¨æ–°çš„æ¨¡åž‹é‡Œï¼Œæˆ‘ä»¬å¼€å§‹è€ƒè™‘ä¸€ä¸ªå‘¨æœŸçš„æ—¶é—´é•¿åº¦ï¼Œè¿™ä¸ªå˜é‡å«åšç®€ç§°ä¸º ctã€‚ æ‰€æœ‰å˜é‡å¦‚ä¸‹ï¼š åˆå§‹ç”¨æˆ·ï¼šcusts(0) å‘¨æœŸæ—¶é•¿ï¼šct äººå‡é‚€è¯·æ•° i æ„ŸæŸ“çŽ‡ Conv% æˆ‘ä»¬æƒ³è¦è®¡ç®—çš„æŒ‡æ ‡æ˜¯ï¼š\bç¬¬ t å¤©æ—¶ï¼Œæ€»çš„ç”¨æˆ·æ•°æ˜¯å¤šå°‘ï¼Œè¿™ä¸ªå˜é‡æ˜¯ custs(t)ã€‚ æˆ‘ä»¬ä»ç„¶ç»´æŒä¸Šä¸€ç¯‡æ–‡ç« çš„æ ¸å¿ƒå‡è®¾ï¼šåªæœ‰æ–°ç”¨æˆ·ä¼šå‘å‡ºé‚€è¯·ã€‚ æˆ‘ä»Žé£Žé™©æŠ•èµ„äºº David Skok çš„åšå®¢é‡Œæ‰¾åˆ°äº†è®¡ç®—ç¬¬ t å¤©æ€»ç”¨æˆ·é‡çš„å…¬å¼ï¼š å…¬å¼é‡Œçš„ K = conv% * i æ ¹æ®ä¸Šé¢çš„å…¬å¼ï¼Œæˆ‘ä»¬çš„ R ä»£ç å¦‚ä¸‹ï¼š 12345get_cust_t &lt;- function(cust_0, i, conv, ct, t) { k_coef &lt;- i * conv cust_t &lt;- cust_0 * ( k_coef ^ (t/ct + 1) - 1) / ( k_coef - 1) return(cust_t)} æ•°æ®ä¾‹å­å½“ ct = 1 æ—¶ï¼Œä¸€å¤©å°±èƒ½å®Œæˆä¸€æ¬¡è£‚å˜ã€‚æˆ‘ä»¬æƒ³ç ”ç©¶çš„é—®é¢˜æ˜¯ï¼Œå½“è£‚å˜æ—¶é•¿åˆ†åˆ«ç­‰äºŽ 1ã€2ã€3ã€4 æ—¶ï¼Œ30å¤©åŽçš„æ€»ç”¨æˆ·æ•°ä¼šæœ‰ä»€ä¹ˆæ ·çš„å·®è·ã€‚ ç»“æžœå¦‚ä¸‹å›¾ï¼š ç¬¬0å¤© ç¬¬1å¤© ç¬¬10å¤© ç¬¬20å¤© ç¬¬30å¤© ct = 1 10 25 1710 99738 5752512 ct = 2 10 17 208 1710 13117 ct = 3 10 14 96 428 1710 ct = 4 10 13 63 208 608 å¤©å£¤ä¹‹åˆ«ã€‚ å¦‚æžœæ•°å­—è¿˜ä¸å¤Ÿç›´è§‚çš„è¯ï¼Œæˆ‘ä»¬å°±çœ‹çœ‹å›¾ç‰‡ã€‚ æˆ‘å…ˆç”»å‡ºäº† ct = 2ã€3ã€4 æ—¶çš„å›¾ç‰‡ï¼š çœ‹ä¸ŠåŽ» ct = 2 æ—¶çš„æ•ˆæžœæ˜¯è¿œè¿œå¼ºäºŽ ct = 3 å’Œ ct = 4 çš„ã€‚ å¦‚æžœå¯¹æ¯” ct = 1 å’Œ ct = 2 å‘¢ï¼Ÿ çœŸæ­£æ„ä¹‰ä¸Šçš„å¤©å£¤ä¹‹åˆ«ã€‚åœ¨ ct = 1 çš„äº§å“é¢å‰ï¼ŒæŽ’åè€äºŒçš„äº§å“è·Ÿä¸å­˜åœ¨ä¸€æ ·ã€‚ æˆ‘ä»¬åœ¨æœ€å¼€å§‹æäº†ä¸€ä¸ªé—®é¢˜ï¼šå‡è®¾æœ‰2ä¸ªäº§å“ï¼ŒA äº§å“è£‚å˜å‘¨æœŸåªæœ‰1å¤©ï¼ŒB äº§å“è£‚å˜å‘¨æœŸæ˜¯2å¤©ï¼Œ30å¤©åŽï¼ŒA äº§å“çš„ç”¨æˆ·æ•°ä¼šæ˜¯ B äº§å“çš„å‡ å€ï¼Ÿç­”æ¡ˆï¼š438å€ï¼ è¿™å¼ å›¾ç»™äº†æˆ‘ä¸¤ä¸ªæƒ³æ³•ï¼š å¤©ä¸‹æ­¦åŠŸï¼Œå”¯å¿«ä¸ç ´ã€‚åœ¨æœ‰ç—…æ¯’è£‚å˜èƒ½åŠ›çš„é¢†åŸŸå°¤å…¶å¦‚æ­¤ã€‚ \bæœ‰çš„æ—¶å€™ä½ ä»¥ä¸ºè‡ªå·±æ¯”åŽé¢çš„å¯¹æ‰‹è¦åŽ‰å®³ä¸€æˆªï¼Œä½†åœ¨ç¬¬ä¸€åçœ‹æ¥ï¼Œä½ ä»¬éƒ½æ˜¯ä¸€æ ·æ¸ºå°ã€‚ è¿™ä¸ªæ¨¡åž‹çš„å®žè·µæ„ä¹‰ä¸Šä¸€ä¸ªæ¨¡åž‹å‘Šè¯‰æˆ‘ä»¬è¦æé«˜ç”¨æˆ·é‚€è¯·æ•°ï¼Œ è¦æé«˜é‚€è¯·æˆåŠŸçŽ‡ã€‚ è¿™ä¸ªæ¨¡åž‹å‘Šè¯‰æˆ‘ä»¬ï¼šè¦ç¼©çŸ­ç—…æ¯’ä¼ æ’­çš„å‘¨æœŸæ—¶é•¿ã€‚è¿™ä¸ªè¯é¢˜ä¼šåœ¨æŽ¥ä¸‹æ¥çš„ç³»åˆ—ä¸­è®¨è®ºã€‚ ç»“æŸè¿™ç¯‡æ–‡ç« å‰ï¼Œæˆ‘ä»¬å†æƒ³æƒ³ä¸‹ä¸§å°¸é¢˜æçš„å¸¸è§çŽ°è±¡ï¼šä»Žç¬¬1åªåƒµå°¸è¯žç”Ÿåˆ°ä¸§å°¸å›´åŸŽï¼Œåªéœ€è¦å‡ å¤©æ—¶é—´ã€‚çŽ°åœ¨ä½ è¿˜ä¼šæ€€ç–‘è¿™ä¸ªè®¾å®šæ˜¯å¦çŽ°å®žå—ï¼Ÿ æ›´å¤šé˜…è¯» åŸºç¡€è£‚å˜æ¨¡åž‹ å‡çº§ç‰ˆè£‚å˜æ¨¡åž‹ ï¼ˆæœ¬æ–‡ï¼‰ å‚è€ƒï¼š David Skok: Lessons Learned â€“ Viral Marketing document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"å¢žé•¿é»‘å®¢","slug":"å¢žé•¿é»‘å®¢","permalink":"https://yupototo.github.io/blog/categories/%E5%A2%9E%E9%95%BF%E9%BB%91%E5%AE%A2/"}],"tags":[]},{"title":"Promise ç³»åˆ—ä¹‹4ï¼šasync/await","slug":"coding-11-promise-4-async","date":"2019-02-15T10:58:56.000Z","updated":"2020-02-03T17:14:34.335Z","comments":true,"path":"2019/02/15/coding-11-promise-4-async/","link":"","permalink":"https://yupototo.github.io/blog/2019/02/15/coding-11-promise-4-async/","excerpt":"async/await æ˜¯ EMCA2017 çš„æ–°åŠŸèƒ½ï¼Œæ˜¯ Promise çš„è¯­æ³•ç³–ï¼Œè®©æˆ‘ä»¬å†™ async/await ä»£ç æ›´æ–¹ä¾¿ã€‚","text":"async/await æ˜¯ EMCA2017 çš„æ–°åŠŸèƒ½ï¼Œæ˜¯ Promise çš„è¯­æ³•ç³–ï¼Œè®©æˆ‘ä»¬å†™ async/await ä»£ç æ›´æ–¹ä¾¿ã€‚ asyncæ™®é€šå‡½æ•°æ˜¯è¿™æ ·çš„ï¼š 123456const normalFunc = function() { return 'normal function'}console.log(normalFunc())// normal function Async å‡½æ•°æ˜¯è¿™æ ·çš„ï¼š 123const asyncFunc = async function() { return 'async function'} async ä¼šæŠŠä¸€ä¸ªå‡½æ•°è¿”å›žçš„ç»“æžœå˜æˆ promiseã€‚ ç»§ç»­åˆšæ‰çš„ä»£ç ï¼š 123456console.log(asyncFunc())// Promise { 'async function' }asyncFunc() .then(res =&gt; console.log(res))// async function ç›´æŽ¥æ‰“å° asyncFunc() çš„è¿”å›žç»“æžœï¼Œä¼šæç¤ºè¿™æ˜¯ä¸ª Promiseã€‚ æˆ‘ä»¬å¯ä»¥ç”¨ .then() èŽ·å– promise çš„ resolve å€¼ï¼Œå¾—åˆ°å‡½æ•°è¿”å›žçš„å†…å®¹async functionã€‚ awaitawait ç”¨æ³•åˆšæ‰çš„ async ä»£ç ç”¨å¤„ä¸å¤§ï¼Œasync çš„çœŸæ­£ä»·å€¼æ˜¯ï¼šæˆ‘ä»¬å¯ä»¥åœ¨ async å‡½æ•°é‡Œä½¿ç”¨ await keywordã€‚ await å¯ä»¥ç”¨åœ¨ promise å‡½æ•°ä¹‹å‰ï¼Œå®žçŽ°å¦‚ä¸‹æ•ˆæžœï¼š æš‚åœä»£ç ï¼Œç›´åˆ° promise ä»Ž pending å˜æˆ settled è¿”å›ž promise è¿”å›žçš„å€¼ å…ˆçœ‹ä¸€ä¸ªä¸æ˜¯ç”¨ async/await çš„å‡½æ•°ï¼š 123456const normalFunc = function() { Promise.resolve('this is value') .then(value =&gt; console.log(value))}normalFunc()// this is value ä¸Šé¢çš„å‡½æ•°å¯ä»¥ç”¨ async/await æ”¹å†™å¦‚ä¸‹ï¼š 123456const asyncFunc = async function() { let value = await Promise.resolve('this is value') console.log(value)}asyncFunc()// this is value åŽè€…çš„å¯è¯»æ€§æ˜¾ç„¶æ›´å¼ºã€‚ await æš‚åœä»£ç ï¼Ÿæ€Žä¹ˆç†è§£ await èƒ½å¤Ÿæš‚åœä»£ç å‘¢ï¼Ÿ å…ˆçœ‹ä¸€ä¸ªä½¿ç”¨ promise çš„ä»£ç ï¼š 123456789const normalFunc = function() { Promise.resolve('this is resolve value') .then(res =&gt; console.log(res)) console.log('this line is after promise')}normalFunc()//this line is after promise//this is resolve value ä¸Šé¢çš„normalFunc()ä¼šå…ˆæ‰§è¡Œç¬¬4è¡Œä»£ç ï¼Œç„¶åŽå†æ‰“å° promise çš„å€¼ã€‚è¿™æ˜¯å¼‚æ­¥è¿è¡Œçš„ç»“æžœï¼Œæœ‰çš„æ—¶å€™è¿™æ˜¯æˆ‘ä»¬å¸Œæœ›çœ‹åˆ°çš„ï¼Œå°¤å…¶æ˜¯åŽé¢çš„ä»£ç ä¸éœ€è¦ä¾èµ– promise è¿”å›žçš„å€¼çš„æ—¶å€™ã€‚ ä½†å¦å¤–ä¸€äº›æ—¶å€™ï¼ŒåŽé¢çš„ä»£ç ä¼šä¾èµ– promise çš„ç»“æžœï¼Œè¿™æ—¶ä¸Šé¢çš„ä»£ç å¯ä»¥æ”¹æˆï¼š 123456789101112const normalFunc = function() { Promise.resolve('this is resolve value') .then(res =&gt; { console.log(res) console.log('this line is after promise') }) }normalFunc()//this is resolve value//this line is after promise æœ‰äº† async/await åŽï¼Œä¸Šé¢çš„ä»£ç å¯ä»¥å˜å¾—æ›´æœ‰å¯è¯»æ€§ï¼š 123456789const asyncFunc = async function() { const value = await Promise.resolve('this is resolve value') console.log(value) console.log('this line is after promise')}asyncFunc()//this is resolve value//this line is after promise await å¦‚ä½•æ”¹å˜ promise çš„é“¾å¼æ“ä½œPromise å¯ä»¥åˆ©ç”¨ then å®žçŽ°é“¾å¼æ“ä½œï¼š 12345678910const addNum = num =&gt; new Promise((resolve, reject) =&gt; { resolve(num + 1)})Promise.resolve(1) .then(a =&gt; addNum(a)) .then(b =&gt; addNum(b)) .then(c =&gt; addNum(c)) .then(d =&gt; console.log(d))// 4 ç¬¬1ä¸ª promise è¿”å›žäº†1ï¼Œç„¶åŽä¾æ¬¡åœ¨ä¹‹åŽçš„ promise åŠ ä¸Š1ï¼Œæœ€åŽå¾—åˆ°4ã€‚ ä¸‹é¢æ˜¯ async/await çš„å†™æ³•ï¼š 12345678910111213const addNum = num =&gt; new Promise((resolve, reject) =&gt; { resolve(num + 1)})const asyncFunc = async () =&gt; { const a = 1 const b = await addNum(a) const c = await addNum(b) const d = await addNum(c) console.log(d)}asyncFunc()// 4 åŒæ ·æ˜¯ä¾èµ–äºŽå‰ä¸€ä¸ª promise è¿”å›žå€¼çš„æ“ä½œï¼ŒåŽä¸€ä¸ªå†™æ³•è¦æ¸…æ™°å¾—å¤šã€‚ å¦‚ä½• catch rejectPromise å¯ä»¥ç”¨é“¾ä¸Š catch æ¥æŠ“å– reject ä¿¡æ¯ï¼Œå¦‚ä¸‹ï¼š 1234Promise.reject('reject reason') .then(res =&gt; console.log(res)) .catch(err =&gt; console.log('Error: ' + err)// Error: reject reason await å¯ä»¥æ€Žä¹ˆ catch reject çš„åŽŸå› å‘¢ï¼Ÿä¹Ÿæ˜¯ç”¨ catchï¼Œä½†æ›´åƒæ­£å¸¸ JavaScript çš„ catch errorã€‚ 12345678(async () =&gt; { try { await Promise.reject('reject reason') } catch(err) { console.log('Err: ' + err) }})()// Err: reject reason ä¸Šé¢è¿™æ®µä»£ç æ›´åƒæ­£å¸¸çš„ JavaScript çš„ try catchã€‚ æ›´å¤šé˜…è¯»Promise ç³»åˆ—ï¼š ä¸ºä»€ä¹ˆéœ€è¦ promise ä»€ä¹ˆæ˜¯ promise promise è¿›é˜¶ async/await (æœ¬ç¯‡) document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"Coding","slug":"Coding","permalink":"https://yupototo.github.io/blog/categories/Coding/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://yupototo.github.io/blog/tags/JavaScript/"}]},{"title":"ggplotç³»åˆ—ä¹‹10ï¼šboxplot","slug":"ggplot_10_boxplot","date":"2019-02-15T01:07:33.000Z","updated":"2020-02-03T17:14:34.339Z","comments":true,"path":"2019/02/15/ggplot_10_boxplot/","link":"","permalink":"https://yupototo.github.io/blog/2019/02/15/ggplot_10_boxplot/","excerpt":"æ•°æ®å¯è§†åŒ–çš„å¸¸è§åœºæ™¯ä¹‹ä¸€æ˜¯ï¼šå±•ç¤ºä¸€ä¸ª categorical variable å’Œä¸€ä¸ª numeric variable çš„å…³ç³»ã€‚ è¿™æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ boxplotã€‚ è¿™é‡Œä½¿ç”¨äº† FIFA çš„çƒå‘˜æ•°æ®é›†ã€‚","text":"æ•°æ®å¯è§†åŒ–çš„å¸¸è§åœºæ™¯ä¹‹ä¸€æ˜¯ï¼šå±•ç¤ºä¸€ä¸ª categorical variable å’Œä¸€ä¸ª numeric variable çš„å…³ç³»ã€‚ è¿™æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ boxplotã€‚ è¿™é‡Œä½¿ç”¨äº† FIFA çš„çƒå‘˜æ•°æ®é›†ã€‚ å¤§çƒé˜Ÿçš„å·¥èµ„çŠ¶å†µå¦‚ä½•ï¼Ÿæˆ‘ä»¬æƒ³å±•ç¤ºå‡ ä¸ªå¤§çƒé˜Ÿçš„å·¥èµ„çŠ¶å†µï¼Œæ¶‰åŠä¸¤ä¸ªå˜é‡ï¼š çƒé˜Ÿï¼šcategorical variable æ¯ä¸ªçƒå‘˜çš„å·¥èµ„ï¼šnumerical variable æˆ‘ä»¬å…ˆæå–å‡ ä¸ªå¤§ä¿±ä¹éƒ¨çš„æ•°æ®ï¼Œå¹¶æŠŠå‘¨è–ªä¿®æ”¹ä¸ºä¸‡æ¬§ï¼š 12345678910111213141516# éœ€è¦çš„ä¿±ä¹éƒ¨clubs &lt;- c('Real Madrid', 'FC Barcelona', 'Manchester United', 'Manchester City', 'Liverpool', 'Chelsea', 'Arsenal', 'Borussia Dortmund', 'FC Bayern MÃ¼nchen')wage_to_number &lt;- function(wage) { # æŠŠå‘¨è–ªè½¬æ¢æˆä¸‡æ¬§ number_in_string &lt;- str_extract(wage, '\\\\d+') number_in_1000 &lt;- as.numeric(number_in_string) number_in_1000 * 1000 / 10000}sub_dat &lt;- dat %&gt;% filter(Club %in% clubs) %&gt;% mutate(Wage = wage_to_number(Wage)) ä¸‹é¢åˆ¶ä½œ boxplotï¼š 123456ggplot(sub_dat) + geom_boxplot(aes(x = Club, y = Wage)) + labs(x = NULL, y = 'å·¥èµ„ï¼ˆå‘¨è–ªï¼šä¸‡æ¬§ï¼‰', title = 'å„å¤§ä¿±ä¹éƒ¨çš„å·¥èµ„ç»“æž„') + coord_flip() ç»“æžœå¦‚å›¾ï¼š ä»Žè¿™ä¸ªå›¾å¯ä»¥çœ‹åˆ°ï¼š è¥¿è¶…åŒé›„ã€æ›¼åŸŽå’Œå°¤æ–‡å›¾æ–¯çš„å·¥èµ„ä¸­ä½æ•°æœ€é«˜ å¤šç‰¹è’™å¾·çš„å·¥èµ„æ°´å¹³æœ€ä½Žï¼Œç¡®å®žæ˜¯è¿™å‡ ä¸ªé˜Ÿé‡Œç»æµŽå®žåŠ›æœ€ä½Žçš„ åˆ©ç‰©æµ¦ã€åˆ‡å°”è¥¿ã€é˜¿æ£®çº³ã€æ‹œä»åœ¨ç»´æŒç›¸å¯¹å‡è¡¡çš„æ”¶å…¥çš„åŒæ—¶ï¼Œè¿˜å…è®¸è¶…çº§å·¨æ˜Ÿæœ‰é«˜æ”¶å…¥ å·´å¡žç½—é‚£æœ‰ä¸€ä¸ªæ”¶å…¥æœ€é«˜çš„å®¶ä¼™ï¼Œä¸ç”¨æƒ³ï¼Œå½“ç„¶æ˜¯æ¢…è¥¿å•¦ æˆ‘ä»¬æƒ³æ ‡æ³¨å‡ºå‡ ä¸ªç¦»ç¾¤å€¼æœ‰å‡ ä¸ªçƒé˜Ÿæœ‰æ”¶å…¥è¿œè¿œé«˜äºŽé˜Ÿå‹çš„çƒå‘˜ï¼Œæˆ‘ä»¬æƒ³çœ‹çœ‹ä»–ä»¬ç©¶ç«Ÿæ˜¯è°ï¼ˆè™½ç„¶çŒœä¹Ÿèƒ½çŒœåˆ°äº† ðŸ˜Š)ï¼Œå¹¶æŠŠä»–ä»¬çš„åå­—æ ‡æ³¨åœ¨å›¾ç‰‡ä¸Šã€‚ å…ˆæ¸…ç†æ•°æ®ï¼š 12345outliner_club &lt;- c('FC Barcelona', 'Liverpool', 'Chelsea', 'Arsenal', 'FC Bayern MÃ¼nchen')outliner_player &lt;- sub_dat %&gt;% filter(Club %in% outliner_club) %&gt;% group_by(Club) %&gt;% filter(Wage == max(Wage)) æˆ‘ä»¬æå–å‡ºäº†å‡ ä¸ªæœ‰ç¦»ç¾¤å€¼çš„ä¿±ä¹éƒ¨æ”¶å…¥æœ€é«˜çš„çƒå‘˜ã€‚ ç„¶åŽï¼Œæˆ‘ä»¬åœ¨å›¾ç‰‡ä¸Šæ·»åŠ  labelï¼š 1234567891011ggplot(sub_dat, aes(x = Club, y = Wage)) + geom_boxplot() + geom_label(data = outliner_player, aes(label = Name), nudge_x = 0.25, nudge_y = 0.25, label.size = 0.1) + labs(x = NULL, y = 'å·¥èµ„ï¼ˆå‘¨è–ªï¼šä¸‡æ¬§ï¼‰', title = 'å„å¤§ä¿±ä¹éƒ¨çš„å·¥èµ„ç»“æž„') + coord_flip() ç»“æžœå¦‚ä¸‹ï¼š å„ä¸ªå…¨é˜Ÿçš„å¼‚å¸¸é«˜æ”¶å…¥çƒå‘˜å¦‚ä¸‹ï¼š å·´è¨ï¼šæ¢…è¥¿ åˆ‡å°”è¥¿ï¼šCç½— æ‹œä»ï¼šJç½— åˆ©ç‰©æµ¦ï¼šè¨æ‹‰èµ« åˆ‡å°”è¥¿ï¼šé˜¿æ‰Žå°” é˜¿æ£®çº³ï¼šå¥¥å·´æ¢…æ¨ æœ‰æ„æ€çš„æ˜¯ï¼Œåˆ©ç‰©æµ¦çš„æœ€é«˜è–ªçƒå‘˜è¨æ‹‰èµ«ï¼Œè–ªèµ„æ°´å¹³åœ¨çš‡é©¬ä¹Ÿåªå±žäºŽå‰1/4ï¼Œåœ¨å·´è¨ç”šè‡³ä¸åˆ°æ¢…è¥¿çš„ä¸€åŠã€‚å¯è§è¥¿è¶…åŒé›„çš„è´­ä¹°åŠ›äº†ã€‚ ç»™æ›¼è”ä¸Šè‰²ä½œä¸ºä¸€ä¸ªæ›¼è”çƒè¿·ï¼Œæˆ‘æƒ³ç»™æ›¼è”çš„ box æ¶‚ä¸Šæ›¼è”çº¢è‰²ï¼Œç„¶åŽç»™æ­»æ•Œåˆ©ç‰©æµ¦æ¶‚ä¸Šä»–ä»¬æ­»æ•ŒåŸƒå¼—é¡¿çš„è“è‰² ðŸ˜ƒï¼Œæˆ‘è¯¥æ€Žä¹ˆåŠžå‘¢ï¼Ÿ 12345678910111213141516sub_dat &lt;- sub_dat %&gt;% mutate(isManU = case_when( Club == 'Manchester United' ~ 'ManU', Club == 'Liverpool' ~ 'Liv', TRUE ~ 'rest' ))ggplot(sub_dat) + geom_boxplot(aes(x = Club, y = Wage, fill=isManU)) + scale_fill_manual(breaks = c(\"Liv\", \"ManU\", \"rest\"), values=c(\"#003399\", \"#DA291C\", \"white\")) + labs(x = NULL, y = 'å·¥èµ„ï¼ˆå‘¨è–ªï¼šä¸‡æ¬§ï¼‰', title = 'å„å¤§ä¿±ä¹éƒ¨çš„å·¥èµ„ç»“æž„') + coord_flip() + theme(legend.position = \"none\") ç»“æžœå¦‚ä¸‹å›¾ï¼š å¸Œæœ›åˆ©ç‰©æµ¦çƒè¿·çœ‹åˆ°äº†ä¸è¦æ‰“æˆ‘ ðŸ’£ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"æ•°æ®å¯è§†åŒ–","slug":"æ•°æ®å¯è§†åŒ–","permalink":"https://yupototo.github.io/blog/categories/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/"}],"tags":[{"name":"R","slug":"R","permalink":"https://yupototo.github.io/blog/tags/R/"}]},{"title":"å¢žé•¿é»‘å®¢ç³»åˆ—ä¹‹1ï¼šåŸºç¡€è£‚å˜æ¨¡åž‹","slug":"growth_1_base_model","date":"2019-02-05T13:15:49.000Z","updated":"2020-02-03T17:14:34.347Z","comments":true,"path":"2019/02/05/growth_1_base_model/","link":"","permalink":"https://yupototo.github.io/blog/2019/02/05/growth_1_base_model/","excerpt":"å¢žé•¿é»‘å®¢æ˜¯è¿‘å‡ å¹´éžå¸¸ç«çˆ†çš„æ¦‚å¿µï¼ŒæŒ‡åˆ©ç”¨å„ç§æŠ€æœ¯æ‰‹æ®µå’Œäº§å“æ‰‹æ®µå¸®åŠ©äº§å“å®žçŽ°å¿«é€Ÿå¢žé•¿çš„äººã€‚å…¶å®žåœ¨è¿™ä¸ªæ¦‚å¿µå‡ºçŽ°ä¹‹å‰ï¼Œå¢žé•¿å°±å·²ç»æ˜¯ä¸€ä¸ªæŠ€æœ¯å’Œäº§å“çš„æ··åˆé¢†åŸŸäº†ã€‚ æŒ‰ç…§å¢žé•¿é»‘å®¢çš„ç†å¿µï¼Œç”¨æˆ·å¢žé•¿çš„èµ·ç‚¹ä¸æ˜¯ä»Žå¸‚åœºè¥é”€é˜¶æ®µå¼€å§‹ï¼Œè€Œæ˜¯ä»Žäº§å“çš„è®¾è®¡é˜¶æ®µå°±åšäº†è§„åˆ’ã€‚æ¯”å¦‚ï¼Œå½“ä»Šçš„æ‰€æœ‰äº§å“éƒ½ä¼šè€ƒè™‘ç”¨æˆ·çš„è‡ªå‘æŽ¨å¹¿ã€‚ è¿™ä¸ªç³»åˆ—æ–‡ç« ä¼šå»ºç«‹ä¸€å¥—å¢žé•¿é»‘å®¢çš„æ•°å­¦æ¨¡åž‹ï¼Œå¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ç†è§£å¢žé•¿ã€‚ æˆ‘ä»¬å…ˆä»Žæœ€ç®€å•çš„ä¸–ç•Œå¼€å§‹ã€‚ åœ¨è¿™ä¸ªâ€œåˆ›ä¸–ç¯‡â€é‡Œï¼Œæ‰€æœ‰äº§å“éƒ½åªèƒ½åœ¨å‘å¸ƒæ—¶åšä¸€æ¬¡å¸‚åœºè¥é”€ï¼Œä¹‹åŽçš„æ–°ç”¨æˆ·éƒ½å¿…é¡»æ¥è‡ªè€ç”¨æˆ·çš„æŽ¨èã€‚ è¿™ä¸ªä¸–ç•Œçš„å¢žé•¿æ•…äº‹ä¼šé•¿æˆä»€ä¹ˆæ ·å‘¢ï¼Ÿ \b","text":"å¢žé•¿é»‘å®¢æ˜¯è¿‘å‡ å¹´éžå¸¸ç«çˆ†çš„æ¦‚å¿µï¼ŒæŒ‡åˆ©ç”¨å„ç§æŠ€æœ¯æ‰‹æ®µå’Œäº§å“æ‰‹æ®µå¸®åŠ©äº§å“å®žçŽ°å¿«é€Ÿå¢žé•¿çš„äººã€‚å…¶å®žåœ¨è¿™ä¸ªæ¦‚å¿µå‡ºçŽ°ä¹‹å‰ï¼Œå¢žé•¿å°±å·²ç»æ˜¯ä¸€ä¸ªæŠ€æœ¯å’Œäº§å“çš„æ··åˆé¢†åŸŸäº†ã€‚ æŒ‰ç…§å¢žé•¿é»‘å®¢çš„ç†å¿µï¼Œç”¨æˆ·å¢žé•¿çš„èµ·ç‚¹ä¸æ˜¯ä»Žå¸‚åœºè¥é”€é˜¶æ®µå¼€å§‹ï¼Œè€Œæ˜¯ä»Žäº§å“çš„è®¾è®¡é˜¶æ®µå°±åšäº†è§„åˆ’ã€‚æ¯”å¦‚ï¼Œå½“ä»Šçš„æ‰€æœ‰äº§å“éƒ½ä¼šè€ƒè™‘ç”¨æˆ·çš„è‡ªå‘æŽ¨å¹¿ã€‚ è¿™ä¸ªç³»åˆ—æ–‡ç« ä¼šå»ºç«‹ä¸€å¥—å¢žé•¿é»‘å®¢çš„æ•°å­¦æ¨¡åž‹ï¼Œå¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ç†è§£å¢žé•¿ã€‚ æˆ‘ä»¬å…ˆä»Žæœ€ç®€å•çš„ä¸–ç•Œå¼€å§‹ã€‚ åœ¨è¿™ä¸ªâ€œåˆ›ä¸–ç¯‡â€é‡Œï¼Œæ‰€æœ‰äº§å“éƒ½åªèƒ½åœ¨å‘å¸ƒæ—¶åšä¸€æ¬¡å¸‚åœºè¥é”€ï¼Œä¹‹åŽçš„æ–°ç”¨æˆ·éƒ½å¿…é¡»æ¥è‡ªè€ç”¨æˆ·çš„æŽ¨èã€‚ è¿™ä¸ªä¸–ç•Œçš„å¢žé•¿æ•…äº‹ä¼šé•¿æˆä»€ä¹ˆæ ·å‘¢ï¼Ÿ \b å»ºç«‹æ¨¡åž‹æˆ‘ä»¬çš„æ¨¡åž‹æœ‰å‡ ä¸ªå˜é‡ï¼š ç¬¬0æœŸçš„ç”¨æˆ·æ•° C_0ï¼šæœ€å¼€å§‹çš„ç”¨æˆ·æ•° äººå‡é‚€è¯·æ•° iï¼šæ¯ä¸ªæ–°ç”¨æˆ·å‘å‡ºåŽ»çš„é‚€è¯·äººæ•° æ„ŸæŸ“çŽ‡ Conv%ï¼šä¸€ä¸ªç™¾åˆ†æ•°ï¼ŒæŒ‡æ¯æ¬¡é‚€è¯·çš„æˆåŠŸçŽ‡ è¿™é‡Œæœ‰ä¸ªé‡è¦å‡è®¾ï¼šæ¯ä¸ªå‘¨æœŸåªæœ‰æ–°ç”¨æˆ·ä¼šå‘å‡ºé‚€è¯·ã€‚ç›¸æ¯”äºŽæ‰€æœ‰ç”¨æˆ·ä¼šåœ¨æ¯ä¸ªå‘¨æœŸéƒ½å‘å‡ºé‚€è¯·ï¼Œè¿™æ˜¯ä¸ªæ›´åˆç†çš„å‡è®¾ã€‚ åœºæ™¯ï¼šæ¯ä¸€ä¸ªå‘¨æœŸï¼Œæ¯ä¸ªæ–°ç”¨æˆ·ä¼šé‚€è¯· i ä¸ªç”¨æˆ·ï¼Œè¿™äº›ç”¨æˆ·æœ‰ Conv% çš„æ¦‚çŽ‡ä¼šæˆåŠŸå˜æˆæˆ‘ä»¬çš„ç”¨æˆ·ã€‚é—®é¢˜ï¼šåˆ°äº†ç¬¬ t æœŸï¼Œæˆ‘ä»¬çš„æ€»ç”¨æˆ·ä¼šæœ‰å¤šå°‘ä¸ªå‘¢ï¼Ÿ è¿›ä¸€æ­¥è®¡ç®—å‰ï¼Œæˆ‘ä»¬å°±éœ€è¦æåˆ°ä¸€ä¸ªè‘—åçš„æ¦‚å¿µç—…æ¯’å› å­ï¼Œç—…æ¯’å› å­çš„å…¬å¼æ˜¯ï¼šäººå‡é‚€è¯·æ•° * æ„ŸæŸ“çŽ‡%ã€‚ æ¯”å¦‚ï¼Œå¦‚æžœäººå‡é‚€è¯·æ•°æ˜¯ 10ï¼Œæ„ŸæŸ“çŽ‡æ˜¯ 20%ï¼Œé‚£ä¹ˆç¬¬ t æœŸçš„æ¯ä¸ªæ–°ç”¨æˆ·åœ¨ç¬¬ t + 1 æœŸä¼šç»™æˆ‘ä»¬å¸¦æ¥ 2 ä¸ªæ–°ç”¨æˆ·ï¼Œè¿™æ—¶ç—…æ¯’å› å­æ˜¯ 2ã€‚ ç†è§£äº†è¿™ä¸ªå®šä¹‰åŽï¼Œæˆ‘ä»¬å°±èƒ½å®šä¹‰ä¸€ä¸ªæ•°å­¦æ¨¡åž‹äº†ã€‚ ç¬¬ t æœŸçš„æ–°ç”¨æˆ·æ•° = ç¬¬ t - 1 æœŸçš„æ–°ç”¨æˆ·æ•° * ç—…æ¯’ç³»æ•° ç¬¬ t æœŸçš„æ€»ç”¨æˆ·æ•° = ç¬¬ t - 1 æœŸçš„æ€»ç”¨æˆ·æ•° + ç¬¬ t æœŸçš„æ–°ç”¨æˆ·æ•° R ä»£ç æˆ‘ä»¬å¯ä»¥ç”¨ R å†™ä¸€å¥—å‡½æ•°ï¼Œæ ¹æ®ä¸åŒå‚æ•°è®¡ç®—æ€»çš„è£‚å˜ç»“æžœï¼š 1234567891011121314151617181920get_new_customer &lt;- function(new_customer_last, i, conv) { viral_coef &lt;- i * conv return(new_customer_last * viral_coef)}get_cycle_data &lt;- function(customer_0, i, conv, t) { df &lt;- data.frame(matrix(ncol = 3, nrow = t)) colnames(df) &lt;- c('cycle', 'new_user', 'total_user') customer_total &lt;- customer_0 new_customer_last &lt;- customer_0 for ( t_i in 1:t) { customer_new &lt;- get_new_customer(new_customer_last, i, conv) customer_total &lt;- customer_total + customer_new new_customer_last &lt;- customer_new df[t_i, ] &lt;- list(t_i, customer_new, customer_total) } return(df)} æˆ‘åœ¨è¿™é‡Œå†™äº†ä¸¤ä¸ªå‡½æ•°ã€‚ ç¬¬ä¸€ä¸ªå‡½æ•°ä¼šæ ¹æ®ä¸Šä¸€æœŸçš„ç”¨æˆ·æ•°ã€äººå‡é‚€è¯·æ•°ã€æ„ŸæŸ“çŽ‡è®¡ç®—å½“æœŸæ–°ç”¨æˆ· ç¬¬äºŒä¸ªå‡½æ•°ä¼šå®Œæ•´è¿”å›žæ•´ä¸ªå‘¨æœŸçš„æ–°ç”¨æˆ·æ•°ã€æ€»ç”¨æˆ·æ•° ç—…æ¯’ç³»æ•° = 1 æ—¶æˆ‘ä»¬å…ˆç”¨ç¬¬ä¸€ç»„å‚æ•°æµ‹è¯•ï¼š t = 0 æ—¶ï¼Œæ–°ç”¨æˆ·æœ‰10ä¸ªäºº äººå‡é‚€è¯·æ•° = 10 æ„ŸæŸ“çŽ‡ = 10% æ­¤æ—¶ç—…æ¯’ç³»æ•°ä¸º 1ï¼Œç»è¿‡12ä¸ªå‘¨æœŸåŽï¼Œç”¨æˆ·æ•°æ®é•¿ä»€ä¹ˆæ ·å‘¢ï¼Ÿ å‘¨æœŸ æ–°ç”¨æˆ· æ€»ç”¨æˆ· 1 10 20 2 10 30 3 10 40 4 10 50 5 10 60 6 10 70 7 10 80 8 10 90 9 10 100 10 10 110 11 10 120 12 10 130 å¯ä»¥çœ‹åˆ°ï¼Œæ¯ä¸ªå‘¨æœŸçš„æ–°ç”¨æˆ·æ•°åªæœ‰10ä¸ªï¼Œ12ä¸ªå‘¨æœŸåŽï¼Œç”¨æˆ·åªæœ‰130ä¸ªã€‚ ä»Žæ•°å­¦ä¸Šæ¥è¯´ï¼Œç—…æ¯’ç³»æ•°ç­‰äºŽ1æ„å‘³ç€ï¼š ç”¨æˆ·ä¼šæœ‰è‡ªç„¶å¢žé•¿ ç”¨æˆ·æ¯æœŸçš„å¢žé•¿é€Ÿåº¦å¹³ç¼“ï¼Œæ˜¯çº¿æ€§çš„ ä»Žäº§å“ä¸Šæ¥æ‰€ï¼Œè¿™ä¸æ˜¯ä¸ªä»¤äººå…´å¥‹çš„åœºæ™¯ ç—…æ¯’ç³»æ•° = 0.5 æ—¶ä¸Šä¸€ä¸ªäº§å“çš„æ•°æ®å¤ªå·®ï¼Œæˆ‘ä»¬æ¢äº†ä¸ªæ–°äº§å“ã€‚ä½†å› ä¸ºäº§å“è®¾è®¡é—®é¢˜ï¼Œè¿™ä¸ªäº§å“çš„ç”¨æˆ·æ²¡æœ‰é‚£ä¹ˆå¼ºçš„åˆ†äº«æ¬²æœ›ï¼Œäººå‡åˆ†äº«å‡åŠäº†ã€‚ å‚æ•°å¦‚ä¸‹ï¼š t = 0 æ—¶ï¼Œæ–°ç”¨æˆ·æœ‰10ä¸ªäºº äººå‡é‚€è¯·æ•° = 5 æ„ŸæŸ“çŽ‡ = 10% ç»“æžœå¦‚ä¸‹ï¼ˆå› ä¸ºæ˜¯æ•°å­¦æ¨¡åž‹ï¼Œæ‰€ä»¥ä¸ç”¨åœ¨ä¹Ž0.5ä¸ªäººçš„é—®é¢˜ï¼‰ï¼š å‘¨æœŸ æ–°ç”¨æˆ· æ€»ç”¨æˆ· 1 5.00 15.00 2 2.50 17.50 3 1.25 18.75 4 0.62 19.38 5 0.31 19.69 6 0.16 19.84 7 0.08 19.92 8 0.04 19.96 9 0.02 19.98 10 0.01 19.99 11 0.00 20.00 12 0.00 20.00 åœ¨ç—…æ¯’ç³»æ•°ç­‰äºŽ0.5æ—¶ï¼Œäº§å“çš„ç”¨æˆ·æ•°å¾ˆå¿«ä¼šåœæ­¢å¢žé•¿ï¼Œç†è®ºä¸Šçš„æœ€å¤§å€¼æ˜¯20ä¸ªäººï¼Œä»…ä»…æ˜¯åˆæœŸç”¨æˆ·æ•°çš„ä¸¤å€ã€‚è°éƒ½ä¸å¸Œæœ›å¼€å‘è¿™æ ·çš„äº§å“ã€‚ ç—…æ¯’ç³»æ•° = 2 æ—¶ä¸Šä¸€ä¸ªäº§å“çš„æ•°æ®è®©è€æ¿æ— æ³•å¿å—ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬å¼€å‘äº†ä¸€ä¸ªæ–°äº§å“ã€‚æˆ‘ä»¬ä¼˜åŒ–äº†é‚€è¯·çš„æˆªå›¾å’Œæ–‡æ¡ˆï¼Œè®©é‚€è¯·çš„æ„ŸæŸ“çŽ‡ä¸Šå‡åˆ°äº†15%ã€‚ å‚æ•°å¦‚ä¸‹ï¼š t = 0 æ—¶ï¼Œæ–°ç”¨æˆ·æœ‰10ä¸ªäºº äººå‡é‚€è¯·æ•° = 10 æ„ŸæŸ“çŽ‡ = 20% å‘¨æœŸ æ–°ç”¨æˆ· æ€»ç”¨æˆ· 1 20 30 2 40 70 3 80 150 4 160 310 5 320 630 6 640 1270 7 1280 2550 8 2560 5110 9 5120 10230 10 10240 20470 11 20480 40950 12 40960 81910 ç—…æ¯’ç³»æ•°ç­‰äºŽ2æ—¶ï¼Œ\b12ä¸ªå‘¨æœŸåŽï¼Œäº§å“çš„æ€»ç”¨æˆ·æ•°ä¼šè¾¾åˆ°8.1ä¸‡ã€‚æœ€ç¥žå¥‡çš„æ˜¯ï¼Œç”¨æˆ·æ•°åœ¨æŸä¸ªå‘¨æœŸå‡ ä¹Žæ˜¯ç¿»å€å¢žé•¿ã€‚å¦‚æžœä½ ç¢°åˆ°è¿™æ ·çš„äº§å“ï¼Œæ­å–œä½ ï¼Œä½ ç¦»è´¢å¯Œè‡ªç”±å·²ç»ä¸è¿œäº†ã€‚ ç”¨å›¾ç‰‡ç—…æ¯’ç³»æ•°çš„å·®è·çš„å½±å“ç—…æ¯’ç³»æ•°ä¸å¤§äºŽ1ï¼Œç†è®ºä¸Šæˆ‘ä»¬å®žçŽ°ä¸äº†è‡ªç„¶å¢žé•¿å’Œè£‚å˜ã€‚æˆ‘ä»¬ç›´åˆ°ç—…æ¯’ç³»æ•°è¶Šå¤§è¶Šå¥½ï¼Œå¯æ˜¯å½“ç—…æ¯’ç³»æ•°çš„å¤§äºŽ1æ—¶ï¼Œæ¯å¢žåŠ 0.2ï¼Œç©¶ç«Ÿä¼šæœ‰å¤šå¤§å½±å“å‘¢ï¼Ÿ æˆ‘ä»¬æŠŠè¿™ä¸ªæ•°æ®ç”¨å›¾ç‰‡è¡¨ç¤ºå‡ºæ¥ã€‚ è™½ç„¶åªæ˜¯0.2çš„å·®å¼‚ï¼Œä½†12ä¸ªå‘¨æœŸä¹‹åŽï¼Œä¸åŒç—…æ¯’ç³»æ•°çš„è¡¨çŽ°æ˜¯å¤©å£¤ä¹‹åˆ«ã€‚å¦‚æžœä½ å¯¹æŒ‡æ•°å¢žé•¿æœ‰æ‰€äº†è§£ï¼Œåº”è¯¥ä¼šå‘çŽ°ç—…æ¯’ç³»æ•°è¾ƒé«˜æ—¶ï¼Œç”¨æˆ·å¢žé•¿æ˜¯æŒ‡æ•°å½¢å¼çš„ã€‚åœ¨æŒ‡æ•°æ¨¡åž‹ä¸‹ï¼Œæ¯1ä¸ªç‚¹çš„å¢žé•¿ï¼Œéƒ½ä¼šæ˜¯é•¿æœŸæ¥çœ‹å·¨å¤§çš„å¢žé•¿ã€‚ æ¨¡åž‹çš„å®žè·µæ„ä¹‰è¿™ä¸ªç®€å•çš„æ¨¡åž‹å‘Šè¯‰æˆ‘ä»¬ï¼š ç—…æ¯’ç³»æ•°æ˜¯è£‚å˜æ¨¡åž‹é‡Œæœ€é‡è¦çš„å› ç´  è¦ç»Ÿè®¡äº§å“çš„äººå‡é‚€è¯·æ•°å’Œçš„æ„ŸæŸ“çŽ‡ ä¸æ–­ä¼˜åŒ–äººå‡é‚€è¯·æ•°å’Œæ„ŸæŸ“çŽ‡ ä¸è¦å°çœ‹è¿™ä¸ªå®žè·µæ„ä¹‰ï¼Œå¾ˆå¤šäº§å“æ˜¯å®Œå…¨æ²¡æœ‰ç»Ÿè®¡é‚€è¯·ç”¨æˆ·é‚€è¯·æ•°å’Œé‚€è¯·æˆåŠŸçŽ‡çš„ï¼Œå¦‚æžœè¿žåŸºæœ¬çš„â€œæµ‹é‡â€éƒ½ä¸åšï¼Œåˆæ€Žä¹ˆè°ˆå¾—ä¸ŠåŸºäºŽæ•°æ®çš„ä¼˜åŒ–å‘¢ï¼Ÿ If you canâ€™t measure it, you canâ€™t improve it. æ›´å¤šé˜…è¯» åŸºç¡€è£‚å˜æ¨¡åž‹ ï¼ˆæœ¬æ–‡ï¼‰ å‡çº§ç‰ˆè£‚å˜æ¨¡åž‹ å‚è€ƒï¼š David Skok: Lessons Learned â€“ Viral Marketing document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"å¢žé•¿é»‘å®¢","slug":"å¢žé•¿é»‘å®¢","permalink":"https://yupototo.github.io/blog/categories/%E5%A2%9E%E9%95%BF%E9%BB%91%E5%AE%A2/"}],"tags":[{"name":"R","slug":"R","permalink":"https://yupototo.github.io/blog/tags/R/"}]},{"title":"Promise ç³»åˆ—ä¹‹3ï¼šè¿›é˜¶","slug":"coding-10-promise-3-more","date":"2019-01-30T10:58:56.000Z","updated":"2020-02-03T17:14:34.335Z","comments":true,"path":"2019/01/30/coding-10-promise-3-more/","link":"","permalink":"https://yupototo.github.io/blog/2019/01/30/coding-10-promise-3-more/","excerpt":"ä¸Šä¸€ç¯‡ç®€å•ä»‹ç»äº† promise å’Œ then æ–¹æ³•ã€‚ è¿™ä¸€ç¯‡ä»‹ç»å‡ ä¸ªè¿›é˜¶è¯é¢˜ï¼š Promise çš„åŽŸç† Promise çš„ constructor methods Promise çš„ prototype methods","text":"ä¸Šä¸€ç¯‡ç®€å•ä»‹ç»äº† promise å’Œ then æ–¹æ³•ã€‚ è¿™ä¸€ç¯‡ä»‹ç»å‡ ä¸ªè¿›é˜¶è¯é¢˜ï¼š Promise çš„åŽŸç† Promise çš„ constructor methods Promise çš„ prototype methods Promise çš„åŽŸç†Promise æœ‰ä¸‰ç§çŠ¶æ€ï¼š pendingï¼šæœ€åˆçŠ¶æ€ fulfilledï¼šresolve å¯¹åº”çš„çŠ¶æ€ï¼Œä¼šè¿”å›žä¸€ä¸ªå€¼ rejectedï¼šreject å¯¹åº”çš„çŠ¶æ€ï¼Œä¼šè¿”å›žé”™è¯¯åŽŸå›  å½“ Promise è¿›å…¥ fulfilled æˆ– rejected çŠ¶æ€ï¼Œåˆè¢«ç§°ä¸º settledã€‚ 123456const promise = new Promise((resolve, reject) =&gt; { resolve()})console.log(promise)// Promise { undefined } ä¸Šé¢æ˜¾ç¤º promise å¤„äºŽ undefined çŠ¶æ€ã€‚ JavaScript ä¸æ”¯æŒè¿”å›ž Promise çš„çŠ¶æ€ï¼Œæˆ‘ä»¬è¦æŠŠ Promise å½“ä½œä¸€ä¸ªé»‘ç®±å­ï¼Œç”¨ then æ–¹æ³• Promise å¤„ç† fufilled æˆ– rejected ä¹‹åŽçš„äº‹æƒ…ã€‚ Promise çš„ constructor methodsPromise.resolve()Promise.resolve(value) æ˜¯ä¸€ä¸ªå¿«æ·æ–¹æ³•ï¼Œä¼šå¾—åˆ°ä¸€ä¸ª resolve å€¼ä¸º value çš„ promiseã€‚ åŽŸå§‹æ–¹æ³•ï¼šç”¨newåˆ›å»ºä¸€ä¸ª promiseï¼š 123456const promise = new Promise((resolve, reject) =&gt;{ resolve('resolve value')})promise .then(res =&gt; console.log(res)) æ”¹è¿›ç‰ˆï¼Œè·Ÿä¸Šé¢ä¸€ä¸ªæ•ˆæžœï¼šç”¨Promise.resolve(value) 1234const promise = Promise.resolve('resolve value')promise .then(res =&gt; console.log(res)) è¿˜å¯ä»¥æ›´ç²¾ç®€ä¸€äº›ï¼š 12Promise.resolve('resolve value') .then(res =&gt; console.log(res)) Promise.reject()Promise.reject(value) ä¹Ÿæ˜¯å¿«æ·æ–¹æ³•ï¼Œæ˜¯Promise.resovle(value)çš„ reject ç‰ˆã€‚ åŽŸå§‹æ–¹æ³•ï¼šç”¨newåˆ›å»ºä¸€ä¸ª promiseï¼š 1234Promise.reject('reject value') .then(res =&gt; console.log(res)) .catch(err =&gt; console.log(`Error: ${err}`))// Error: reject value. Promise.all()Promise.all() éœ€è¦ä¸€ä¸ª iterable ä½œä¸ºå‚æ•°ï¼Œiterable å†…åŒ…å«ä¸€ç»„ promiseã€‚ Promise.all() è¿”å›žä¸€ä¸ªæ–°çš„ promiseï¼Œå¦‚æžœå®ƒå‚æ•°å†…çš„ promise å…¨éƒ¨ resolveï¼Œå®ƒå°±è¿”å›žæ‰€æœ‰çš„ resolve å€¼ã€‚ 123456789const promise1 = Promise.resolve(1)const promise2 = Promise.resolve(2)const promise3 = Promise.resolve('b')Promise.all([promise1, promise2, promise3]) .then( res =&gt; console.log(res) )// [1, 2, 'b'] å¦‚æžœå‚æ•°å†…çš„ promise å‡ºçŽ° rejectï¼ŒPromise.all() ä¹Ÿä¼š rejectï¼Œå¹¶ä»¥å‚æ•°å†… promise çš„ reject çš„å€¼ä½œä¸ºè‡ªå·±çš„ reject å€¼ã€‚ 12345678910111213const promise1 = Promise.resolve(1)const promise2 = Promise.reject('reject info One')const promise3 = Promise.reject('reject info Two')Promise.all([promise1, promise2, promise3]) .then( res =&gt; console.log(res) ) .catch( err =&gt; console.log(err) )// reject info One ä¸Šé¢æœ‰ä¸¤ä¸ªä¼š reject çš„ promiseï¼ŒPromise.all() ä¼šä»¥ç¬¬1ä¸ª reject çš„å€¼ä½œä¸ºè¿”å›žå€¼ã€‚ Promise.race()Promise.race() ä¹ŸæŽ¥å—ä¸€ä¸ª iterable ä½œä¸ºå‚æ•°ï¼Œå®ƒä¼š resolve æˆ– reject æœ€å¿«è¿›å…¥ settled çŠ¶æ€çš„å€¼ã€‚ 123456789101112const promise1 = new Promise((resolve, reject) =&gt; { setTimeout(resolve, 500, 'one')})const promise2 = new Promise((resolve, reject) =&gt; { setTimeout(resolve, 100, 'two')})Promise.race([promise1, promise2]) .then(res =&gt; console.log(res))// 'two' å› ä¸ºç¬¬2ä¸ª promise æ¯”ç¬¬1ä¸ª promise æ›´å¿« settleï¼Œæ‰€ä»¥Promise.race()ä»¥ç¬¬2ä¸ª promise çš„ resolve å€¼ä½œä¸ºè‡ªå·±çš„ resolve å€¼ã€‚ Promise çš„ prototype methodsPromise æœ‰3ä¸ª prototype methodsï¼š then catch finally ä¸Šä¸€ç¯‡å·²ç»è¯¦ç»†ä»‹ç»äº† then() ã€‚ catch()catch() ä¼šåœ¨ promise è¢« reject æ—¶è¿è¡Œï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œcatch()ä¹Ÿä¼šè¿”å›žä¸€ä¸ª promiseã€‚ 1234Promise.reject('reject value') .catch(err =&gt; `catch ${err}`) .then(res =&gt; console.log('resolve value is :' + res))// resolve value is :catch reject value ç¬¬2è¡Œçš„ catch()ä¼šè¿”å›žä¸€ä¸ªæ–°çš„promiseï¼Œå¯¹åº”çš„ resolve å€¼æ˜¯å›žè°ƒå‡½æ•°çš„è¿”å›žå€¼ã€‚ finally()è¿˜æœ‰ä¸€ä¸ª prototype æ–¹æ³•ï¼šfinnaly()ï¼Œå…¶ä¸­çš„å›žè°ƒå‡½æ•°æ— è®º promise ç»“æžœæ˜¯ä»€ä¹ˆéƒ½ä¼šè¿è¡Œã€‚ 12345678910111213const promise = new Promise((resolve, reject) =&gt; { const rand = Math.random() if (rand &gt; 0.5) { resolve() } else { reject() }})promise .then(() =&gt; console.log('resolve')) .catch(() =&gt; console.log('reject')) .finally(() =&gt; console.log('finally done')) ä¸Šé¢è¿™æ®µä»£ç é‡Œï¼Œæ— è®º promise æ˜¯ reject è¿˜æ˜¯ resolveï¼Œfinally éƒ½ä¼šæ‰“å°å‡ºfinally doneã€‚ æ›´å¤šé˜…è¯»Promise ç³»åˆ—ï¼š ä¸ºä»€ä¹ˆéœ€è¦ promise ä»€ä¹ˆæ˜¯ promise promise è¿›é˜¶ (æœ¬ç¯‡) async/await document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"Coding","slug":"Coding","permalink":"https://yupototo.github.io/blog/categories/Coding/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://yupototo.github.io/blog/tags/JavaScript/"}]},{"title":"ggplotç³»åˆ—ä¹‹9ï¼šggTimeSeries","slug":"ggplot_9_ggTimeSeries","date":"2019-01-29T22:33:41.000Z","updated":"2020-02-03T17:14:34.347Z","comments":true,"path":"2019/01/29/ggplot_9_ggTimeSeries/","link":"","permalink":"https://yupototo.github.io/blog/2019/01/29/ggplot_9_ggTimeSeries/","excerpt":"ä»Šå¤©çœ‹åˆ°ä¸€ä¸ªæœ‰è¶£çš„ R pakcageï¼šggTimeSeries èƒ½å¤Ÿå¯¹æ—¶é—´åºåˆ—æ•°æ®åšå‡ºæœ‰è¶£çš„å›¾ç‰‡ã€‚ \b","text":"ä»Šå¤©çœ‹åˆ°ä¸€ä¸ªæœ‰è¶£çš„ R pakcageï¼šggTimeSeries èƒ½å¤Ÿå¯¹æ—¶é—´åºåˆ—æ•°æ®åšå‡ºæœ‰è¶£çš„å›¾ç‰‡ã€‚ \b æ—¥æœŸçƒ­ç‚¹å›¾æˆ‘æœ€å–œæ¬¢çš„æ˜¯ä¸‹é¢è¿™ä¸ªæ—¥æœŸçƒ­ç‚¹å›¾ï¼Œå®ƒèƒ½å¤Ÿå±•ç¤ºè¿žç»­å˜é‡åœ¨ä¸€å¹´é‡Œæ¯å¤©çš„æ•°æ®æƒ…å†µï¼Œæœˆä»½åœ¨ x è½´ï¼Œå·¥ä½œæ—¥åœ¨ y è½´ï¼Œæ•°æ®å¤§å°ç”¨å¡«å……è‰²è¡¨ç¤ºã€‚ æˆ‘éšä¾¿æ‰¾äº†ä¸ªæ¯æ—¥æ¸©åº¦æ•°æ®ï¼Œåšå‡ºäº†æœ€ä¸Šé¢é‚£ä¸ªå›¾ï¼Œåšå›¾ä»£ç å¦‚ä¸‹ï¼š 1234567891011121314# åŸºæœ¬å›¾p0 &lt;- df %&gt;% ggplot_calendar_heatmap('date','meantemp', dayBorderColour = '#cccccc', monthBorderColour = '#777777')# åŠ å·¥p0 + scale_fill_continuous(low = 'green', high = 'red') + facet_wrap(~Year, ncol = 1) + labs(x = NULL, y = NULL, fill = NULL, title = 'æ¯æ—¥å¹³å‡æ°”æ¸©') + theme_minimal() + theme(text=element_text(family=\"Songti TC Regular\")) è¿™ä¸ªå±•ç¤ºæ–¹å¼å¾ˆé€‚åˆç”¨æ¥å±•ç¤ºæœ‰å·¥ä½œæ—¥è¶‹åŠ¿å’Œå­£åº¦è¶‹åŠ¿çš„æ—¶é—´åºåˆ—æ•°æ®ï¼Œæ¯”å¦‚æ¯æ—¥é”€å”®ã€ç½‘ç«™è®¿é—®é‡ã€‚ å¯’å‡å’Œæš‘å‡ç»å¸¸æ˜¯æ¸¸æˆæµé‡çš„é«˜å³°ï¼Œè¿™ä¸ªä¿¡æ¯å°±èƒ½åœ¨è¿™ä¸ªå›¾ç‰‡ä¸Šä¸€ç›®äº†ç„¶ã€‚ \bå·¥ä½œæ—¥çš„æ¸¸æˆæµé‡ä½ŽäºŽå‘¨æœ«ï¼Œä¹Ÿå¾ˆé€‚åˆåœ¨è¿™ä¸ªå›¾è¡¨ä¸Šå±•ç¤ºã€‚ waterfall å›¾è¿™ä¸ª package é‡Œè¿˜æœ‰ä¸€ä¸ªæˆ‘å–œæ¬¢çš„å›¾ï¼Œwaterfall å›¾ï¼š Waterfall å›¾ç”¨ç®­å¤´æ ‡æ³¨äº†æ•°æ®çš„æ¯æ—¥å˜åŒ–ï¼Œå±•ç¤ºæ¯å¤©éƒ½æœ‰æ³¢åŠ¨çš„æ•°æ®å¾ˆåˆé€‚ï¼Œæ¯”å¦‚è‚¡ç¥¨ä»·æ ¼ç­‰ã€‚ ä¸Šå›¾çš„åšå›¾ä»£ç ï¼š 123456789101112131415# åŸºæœ¬å›¾df %&gt;% ggplot_waterfall('date','meantemp')# åŠ å·¥p0 + labs(x = NULL, y = NULL, color = 'å˜åŒ–', title = 'æ¯æ—¥å¹³å‡æ°”æ¸©') + theme_classic(16) + theme(text=element_text(family=\"Songti TC Regular\"), plot.title = element_text(hjust = 0.5)) theme(text=element_text(family=\"Songti TC Regular\")) è¿™ä¸ª package é‡Œè¿˜æœ‰å…¶ä»–å‡ ä¸ªå¯è§†åŒ–æ–¹æ³•ï¼Œä¸ªäººè§‰å¾—ä¸å¤ªå®žç”¨ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥åŽ»çœ‹çœ‹ã€‚ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"æ•°æ®å¯è§†åŒ–","slug":"æ•°æ®å¯è§†åŒ–","permalink":"https://yupototo.github.io/blog/categories/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/"}],"tags":[{"name":"R","slug":"R","permalink":"https://yupototo.github.io/blog/tags/R/"}]},{"title":"Promise ç³»åˆ—ä¹‹2ï¼šæ˜¯ä»€ä¹ˆ","slug":"coding-9-promise-2-what","date":"2019-01-20T10:58:56.000Z","updated":"2020-02-03T17:14:34.339Z","comments":true,"path":"2019/01/20/coding-9-promise-2-what/","link":"","permalink":"https://yupototo.github.io/blog/2019/01/20/coding-9-promise-2-what/","excerpt":"ä¸Šä¸€ç¯‡è¯´æ˜Žäº†ä¸ºä»€ä¹ˆéœ€è¦ promiseï¼Œè¿™ä¸€ç¯‡ä»‹ç» promise æ˜¯ä»€ä¹ˆã€‚ å¯ä»¥ç”¨ä¸‹é¢å‡ å¥è¯æ¥æè¿° promiseï¼š Promise æ˜¯ä¸€ä¸ª object å®ƒæ‰¿è¯ºä¼šåœ¨æœªæ¥æŸä¸ªæ—¶é—´ç‚¹è¿”å›žä¸€ä¸ªå€¼ å®ƒæœ€åŽè¦ä¹ˆè¿”å›žè¿™ä¸ªæ‰¿è¯ºçš„å€¼ï¼Œè¦ä¹ˆå‘Šè¯‰æˆ‘ä»¬ä¸ºä»€ä¹ˆå®ƒä¸èƒ½å±¥è¡Œæ‰¿è¯º å¯ä»¥æ‹¿ç”Ÿæ´»ä¸­çš„ä¾‹å­è¿›ä¸€æ­¥ä¸¾ä¾‹ï¼š æˆ‘åœ¨æœˆåˆå‘è€å©†æ‰¿è¯ºï¼Œæœˆåº•å‘å¥–é‡‘äº†å°±ç»™å¥¹æ¢ä¸€éƒ¨æ‰‹æœº æˆ‘å¼€å§‹å¹²å„ç§å…¶ä»–äº‹æƒ…ï¼Œå°±åƒå¿˜æŽ‰äº†è¿™ä¸ªæ‰¿è¯º æœˆåº•åˆ°äº†ï¼Œæˆ‘æ‹¿åˆ°äº†å¥–é‡‘ï¼Œæˆ‘æƒ³èµ·äº†è¿™ä¸ªæ‰¿è¯ºï¼ŒäºŽæ˜¯ç»™è€å©†æ¢äº†æ–°æ‰‹æœº æˆ–è€…ï¼šæœˆåº•åˆ°äº†ï¼Œæˆ‘æ²¡æ‹¿åˆ°å¥–é‡‘ï¼Œæˆ‘åªèƒ½è·Ÿè€å©†è¯´æ˜ŽåŽŸå› ç„¶åŽé“æ­‰ ä¸‹é¢å…·ä½“æè¿° promise çš„æœºåˆ¶ã€‚","text":"ä¸Šä¸€ç¯‡è¯´æ˜Žäº†ä¸ºä»€ä¹ˆéœ€è¦ promiseï¼Œè¿™ä¸€ç¯‡ä»‹ç» promise æ˜¯ä»€ä¹ˆã€‚ å¯ä»¥ç”¨ä¸‹é¢å‡ å¥è¯æ¥æè¿° promiseï¼š Promise æ˜¯ä¸€ä¸ª object å®ƒæ‰¿è¯ºä¼šåœ¨æœªæ¥æŸä¸ªæ—¶é—´ç‚¹è¿”å›žä¸€ä¸ªå€¼ å®ƒæœ€åŽè¦ä¹ˆè¿”å›žè¿™ä¸ªæ‰¿è¯ºçš„å€¼ï¼Œè¦ä¹ˆå‘Šè¯‰æˆ‘ä»¬ä¸ºä»€ä¹ˆå®ƒä¸èƒ½å±¥è¡Œæ‰¿è¯º å¯ä»¥æ‹¿ç”Ÿæ´»ä¸­çš„ä¾‹å­è¿›ä¸€æ­¥ä¸¾ä¾‹ï¼š æˆ‘åœ¨æœˆåˆå‘è€å©†æ‰¿è¯ºï¼Œæœˆåº•å‘å¥–é‡‘äº†å°±ç»™å¥¹æ¢ä¸€éƒ¨æ‰‹æœº æˆ‘å¼€å§‹å¹²å„ç§å…¶ä»–äº‹æƒ…ï¼Œå°±åƒå¿˜æŽ‰äº†è¿™ä¸ªæ‰¿è¯º æœˆåº•åˆ°äº†ï¼Œæˆ‘æ‹¿åˆ°äº†å¥–é‡‘ï¼Œæˆ‘æƒ³èµ·äº†è¿™ä¸ªæ‰¿è¯ºï¼ŒäºŽæ˜¯ç»™è€å©†æ¢äº†æ–°æ‰‹æœº æˆ–è€…ï¼šæœˆåº•åˆ°äº†ï¼Œæˆ‘æ²¡æ‹¿åˆ°å¥–é‡‘ï¼Œæˆ‘åªèƒ½è·Ÿè€å©†è¯´æ˜ŽåŽŸå› ç„¶åŽé“æ­‰ ä¸‹é¢å…·ä½“æè¿° promise çš„æœºåˆ¶ã€‚ åˆè¯† Promiseconstrutorpromise å¯ä»¥ç”¨ Promise contructor åˆ›å»ºï¼š 1const promise = new Promise( //å‡½æ•° ) Promsie()æ‹¬å·å†…è¿˜éœ€è¦ä¼ å…¥ä¸€ä¸ªå‡½æ•°ã€‚ constructor é‡Œçš„å‡½æ•°éœ€è¦ä¼ å…¥çš„å‡½æ•°å½¢å¼å¦‚ä¸‹ï¼š 12345678const innerFunc = (resolve, reject) =&gt; { const num = 0.6 if (num &gt; 0.5) { resolve() } else { reject() }} å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼šresolve å’Œ rejectã€‚æˆ‘ä»¬å¯ä»¥è®¾ç½®æ»¡è¶³å“ªäº›æ¡ä»¶æ—¶ resolveï¼Œå¦åˆ™ rejectã€‚ åœ¨ä¸Šé¢çš„å‡½æ•°ï¼Œå¦‚æžœ num å¤§äºŽ 0.5ï¼Œæˆ‘ä»¬è¿”å›ž resolveï¼Œå¦åˆ™ rejectã€‚ å®Œæ•´çš„ promiseæŠŠ1.2çš„å‡½æ•°ä¼ å…¥ Promise constructorï¼Œå°±èŽ·å¾—äº†ä¸€ä¸ª promiseã€‚ 1const promise = new Promise(innerFunc) ä¸Šé¢æˆåŠŸåˆ›å»ºäº†ä¸€ä¸ª promiseã€‚ resolve ä¹‹åŽæŽ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥åœ¨åŽé¢çš„ä»£ç é‡Œä½¿ç”¨ promiseï¼Œå¹¶çº¦å®šåœ¨ resolve æ—¶è¿è¡ŒæŸä¸€æ®µä»£ç ï¼š 1promise.then(() =&gt; console.log('resolved')) æˆ‘ä»¬å¯ä»¥ç”¨.then() è¿žæŽ¥ promsieï¼Œè¡¨ç¤ºâ€resolve ä¹‹åŽè¿è¡Œ then é‡Œçš„ä»£ç â€ï¼Œthen é‡Œçš„ä»£ç éœ€è¦æ˜¯ä¸ªå›žè°ƒå‡½æ•°ã€‚æˆ‘ä»¬åœ¨ä¸Šé¢æ‰“å°äº†â€™resolvedâ€™ã€‚ ä¸€èˆ¬æŠŠ .then() æ”¾åœ¨ç¬¬2è¡Œï¼š 12promise .then(() =&gt; console.log('resolved')) å¦‚æžœ rejectæˆ‘ä»¬å¯èƒ½æƒ³åœ¨ reject ä¹‹åŽè¿è¡Œä¸€æ®µä»£ç ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥ç”¨.catch()ã€‚ 123promise .then(() =&gt; console.log('resolved')) .catch(() =&gt; console.log('reject')) thenPromise èƒ½å¤Ÿè‡ªå¸¦äº†ä¸€ä¸ªthen()æ–¹æ³•ã€‚ åœ¨ä¸Šé¢çš„ä¾‹å­é‡Œï¼Œæˆ‘åœ¨thené‡Œä½¿ç”¨äº†ä¸€ä¸ªå›žè°ƒå‡½æ•°ï¼Œè¡¨ç¤ºresolveä¹‹åŽä¼šè¿è¡Œè¿™ä¸ªå‡½æ•°ã€‚è¿™æ˜¯ä¸€èˆ¬çš„ç”¨æ³•ã€‚ å®žé™…ä¸Šï¼Œthen å¯ä»¥æŽ¥å—ä¸¤ä¸ªå›žè°ƒå‡½æ•°ï¼š onFulfilled: resolve ä¹‹åŽè¿è¡Œçš„å›žè°ƒå‡½æ•° onRejected: reject ä¹‹åŽè¿è¡Œçš„å›žè°ƒå‡½æ•° ç¬¬2ä¸ªå›žè°ƒå‡½æ•°éƒ½æ˜¯ optionalã€‚ then ä½¿ç”¨2ä¸ªå›žè°ƒå‡½æ•°ä¸‹é¢åœ¨ then é‡Œä½¿ç”¨ä¸¤ä¸ªå›žè°ƒå‡½æ•°ï¼Œç¬¬1ä¸ªå‡½æ•°æ˜¯ resolve ä¹‹åŽè¿è¡Œçš„å‡½æ•°ï¼Œç¬¬2ä¸ªæ˜¯ reject ä¹‹åŽè¿è¡Œçš„å‡½æ•°ã€‚ 123456789const promise = new Promise((resolve, reject) =&gt; { // çœç•¥})promise .then( () =&gt; console.log('resolve'), () =&gt; console.log('reject') ) then è¿”å›žä¸€ä¸ª promiseä¸ªäººè®¤ä¸ºæœ€è®©äººå›°æ‰°çš„è®¾å®šæ˜¯ï¼šthen ä¼šè¿”å›žä¸€ä¸ª promiseã€‚ è¯æ˜Žå¦‚ä¸‹ï¼š12345678const promise = new Promise((resolve, reject) =&gt; { resolve()})var a = promise .then(() =&gt; 1)console.log(a) // Promise { &lt;pending&gt; } é‚£ä¹ˆï¼Œè¿™ä¸ª promise çš„ resolve å’Œ reject åˆ†åˆ«æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥éªŒè¯ã€‚æ—¢ç„¶å®ƒæ˜¯ä¸ª promiseï¼Œé‚£ä¹ˆå®ƒä¹Ÿå¯ä»¥ç”¨æŽ¥ç€ç”¨ thenã€‚ 12345678const promise = new Promise((resolve, reject) =&gt; { resolve()})var a = promise .then(() =&gt; 1)a.then(res =&gt; console.log(res)) // 1 å±å¹•æ‰“å°å‡º1ï¼Œè¯´æ˜Žå‰ä¸€ä¸ª then è¿”å›žçš„ promise çš„ resolve å€¼æ˜¯ 1ï¼Œä¹Ÿå°±æ˜¯å‰ä¸€ä¸ª then é‡Œå›žè°ƒå‡½æ•°çš„è¿”å›žå€¼ã€‚ then å¯ä»¥é“¾å¼è¿žæŽ¥æ—¢ç„¶ then è¿”å›žçš„ä¹Ÿæ˜¯ promiseï¼Œé‚£å°±å¯ä»¥ç›´æŽ¥åœ¨ then ä¹‹åŽç”¨ thenï¼š 1234567const promise = new Promise((resolve, reject) =&gt; { resolve()})promise .then(() =&gt; 1) .then(res =&gt; console.log(res)) ä¸Šé¢çš„ä»£ç é‡Œï¼Œç¬¬1ä¸ª then è¿”å›žäº†ä¸€ä¸ª resolve(1) çš„ promiseï¼Œç¬¬2ä¸ª then æ‰“å°è¿™ä¸ª 1ã€‚ å¦‚æžœ then çš„å›žè°ƒå‡½æ•°é‡Œä¸è¿”å›žå€¼ä¸Šä¸€ä¸ªä¾‹å­é‡Œï¼Œthen é‡Œçš„å‡½æ•°è¿”å›žäº†å€¼ï¼Œè¿™ä¸ªå€¼å°±å˜æˆäº†æ–° promise çš„ resolve å€¼ã€‚å¦‚æžœ then é‡Œçš„å‡½æ•°ä¸è¿”å›žå€¼å‘¢ï¼Ÿ 12345678910const promise = new Promise((resolve, reject) =&gt; { resolve()})promise .then(() =&gt; console.log(1)) .then(res =&gt; console.log(res))// 1// undefined ç¬¬6è¡Œçš„ then é‡Œçš„å›žè°ƒå‡½æ•°æ²¡æœ‰è¿”å›žå€¼ï¼Œæˆ‘ä»¬åœ¨ç¬¬7è¡Œæ‰“å°æ–° promise çš„resolve å€¼ã€‚ç»“æžœï¼šundefinedã€‚ å¦‚æžœ then çš„å›žè°ƒå‡½æ•°æŠ¥é”™å¦‚æžœåœ¨ then çš„å›žè°ƒå‡½æ•°é‡Œ throw errorï¼Œ 1234567891011const promise = new Promise((resolve, reject) =&gt; { resolve()})promise .then(() =&gt; { throw new Error('Sorry, this is error') }) .then(res =&gt; console.log(res)) .catch(err =&gt; console.log(err))// Error: Sorry, this is error ç¬¬7è¡Œé‡Œ throw äº† errorï¼Œè¿™ä¸ª then è¿”å›žçš„ promise ä¼š rejectã€‚Reject çš„å€¼æ˜¯é”™è¯¯ä¿¡æ¯ã€‚ å¦‚æžœ then çš„å›žè°ƒå‡½æ•°è¿”å›ž promiseè¿™ä¸ªæ˜¯ç›¸å¯¹å¤æ‚çš„ã€‚ å…ˆçœ‹ä»£ç ï¼š 12345678910111213const promise1 = new Promise((resolve, reject) =&gt; { resolve()})const promise2 = new Promise((resolve, reject) =&gt; { resolve('promise resolve')})const promise3 = promise1.then(() =&gt; promise2)promise3 .then(res =&gt; console.log(res)) .catch(err =&gt; console.log(err)) ç¬¬1ä¸ª promise1 ä¼š resolveã€‚ ç¬¬2ä¸ª promise2 ä¼š resolve å¾—åˆ° â€˜promise resolveâ€™ï¼Œå®ƒåœ¨ promise1.then() é‡Œçš„å›žè°ƒå‡½æ•°è¿”å›žã€‚ ç¬¬3ä¸ª promise3 æ˜¯promise1.then()å¾—åˆ°çš„å›žè°ƒå‡½æ•°ã€‚ é—®é¢˜æ¥äº†ï¼Œpromise3 çš„ resolve å’Œ reject åˆ†åˆ«æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ ç­”æ¡ˆï¼šæ˜¯ promise2 çš„ resolve å’Œ rejectã€‚ ä¸Šé¢çš„ä»£ç ä¼šæ‰“å°å‡ºpromise resolveã€‚ å¦‚æžœæŠŠ promise2 çš„ä»£ç ä¿®æ”¹æˆï¼š 123const promise2 = new Promise((resolve, reject) =&gt; { reject('promise reject')}) å‰ä¸€æ®µä»£ç å°±ä¼šæ‰“å°promise rejectã€‚ æ›´å¤šé˜…è¯»Promise ç³»åˆ—ï¼š ä¸ºä»€ä¹ˆéœ€è¦ promise ä»€ä¹ˆæ˜¯ promise (æœ¬ç¯‡) promise è¿›é˜¶ async/await document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"Coding","slug":"Coding","permalink":"https://yupototo.github.io/blog/categories/Coding/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://yupototo.github.io/blog/tags/JavaScript/"}]},{"title":"å†³ç­–æ ‘æ¨¡åž‹é‡Œçš„ Entropy","slug":"stat_12_entropy","date":"2019-01-17T07:06:33.000Z","updated":"2020-02-03T17:14:34.351Z","comments":true,"path":"2019/01/17/stat_12_entropy/","link":"","permalink":"https://yupototo.github.io/blog/2019/01/17/stat_12_entropy/","excerpt":"å†³ç­–æ ‘æ¨¡åž‹æ˜¯æœºå™¨å­¦ä¹ çš„é‡è¦æ¨¡åž‹ã€‚å†³ç­–æ ‘é‡Œæœ‰ä¸ªæ¦‚å¿µï¼Œå« entropyï¼Œæ¨¡åž‹çš„æœ€ä¼˜åŒ–å‡½æ•°åŸºäºŽ entropy åšå‡ºã€‚ ç”¨ä¸€ä¸ªè¯—æ„çš„è¯´æ³•ï¼Œentropy æè¿°äº†ä¸–ç•Œçš„æ··ä¹±ç¨‹åº¦ã€‚Split èƒ½å¸®åŠ©é™ä½Žæ··ä¹±ç¨‹åº¦ã€‚ è¿™ç¯‡æ–‡ç« ç”¨å…·ä½“ä¾‹å­è¯´æ˜Žï¼Œsplit å¦‚ä½•é™ä½Ž entropyã€‚ \b","text":"å†³ç­–æ ‘æ¨¡åž‹æ˜¯æœºå™¨å­¦ä¹ çš„é‡è¦æ¨¡åž‹ã€‚å†³ç­–æ ‘é‡Œæœ‰ä¸ªæ¦‚å¿µï¼Œå« entropyï¼Œæ¨¡åž‹çš„æœ€ä¼˜åŒ–å‡½æ•°åŸºäºŽ entropy åšå‡ºã€‚ ç”¨ä¸€ä¸ªè¯—æ„çš„è¯´æ³•ï¼Œentropy æè¿°äº†ä¸–ç•Œçš„æ··ä¹±ç¨‹åº¦ã€‚Split èƒ½å¸®åŠ©é™ä½Žæ··ä¹±ç¨‹åº¦ã€‚ è¿™ç¯‡æ–‡ç« ç”¨å…·ä½“ä¾‹å­è¯´æ˜Žï¼Œsplit å¦‚ä½•é™ä½Ž entropyã€‚ \b å…¬å¼ç»™å®šæ•°æ®é›†ä¸­æœ‰ C ä¸ªåˆ†ç»„ï¼Œentropy çš„å…¬å¼å¦‚ä¸‹ï¼š å…¬å¼ä¸­çš„ pi æ˜¯ç¬¬ c ç±»å…ƒç´ çš„å‡ºçŽ°æ¦‚çŽ‡ã€‚ ä¸å¯çŸ¥ä¸Žå¯çŸ¥æƒ³è±¡ä¸€ä¸ªä¸–ç•Œä¸Šåªæœ‰â€œå¥½äººâ€ï¼Œé‚£ä¹ˆå¥½äººçš„æ¦‚çŽ‡æ˜¯1ã€‚å› ä¸º log_2(1) = 0ï¼Œæ­¤æ—¶çš„ entropy = 0ã€‚ æƒ³è±¡å¦ä¸€ä¸ªä¸–ç•Œï¼Œåªæœ‰åäººï¼Œé‚£ä¹ˆå¥½äººçš„æ¦‚çŽ‡æ˜¯0ï¼Œè¿™æ—¶ entropy = -1 * 0 * log_2(1) = 0ã€‚ ä¸Šé¢ä¸¤ç§æƒ…å†µï¼Œå¦‚æžœä»¥ entropy æ¥æè¿°ï¼Œéƒ½æ˜¯â€œå¯çŸ¥â€çš„ï¼Œä¸å­˜åœ¨ä»»ä½•æ··ä¹±ï¼Œè¿™æ˜¯ä¸ªç¨³å®šçš„ä¸–ç•Œã€‚ æƒ³è±¡ç¬¬3ä¸ªä¸–ç•Œï¼šå¥½äººå’Œåäººå„å ä¸€åŠï¼Œé‚£ä¹ˆ entropy = (0.5 * log_2(0.5)) + (0.5 * log_2(0.5)) = 1ã€‚ è¿™æ˜¯ä¸ªæžç«¯â€œæ··ä¹±â€çš„ä¸–ç•Œï¼Œè·¯ä¸Šéšä¾¿ç¢°åˆ°ä¸€ä¸ªäººï¼Œä½ å®Œå…¨ä¸çŸ¥é“ä»–æ˜¯å¥½äººè¿˜æ˜¯åäººã€‚åœ¨è¿™é‡Œï¼Œä¸ç¡®å®šæ€§è¾¾åˆ°æœ€å¤§å€¼ã€‚ å¼•å…¥è§£é‡Šå˜é‡æˆ‘ä»¬è¿˜åœ¨ç¬¬3ä¸ªä¸–ç•Œé‡Œï¼Œä½œä¸ºæ•°æ®å·¥ä½œè€…ï¼Œæˆ‘ä»¬æ— æ³•å¿å—è¿™ç§æ··ä¹±ï¼ŒäºŽæ˜¯æˆ‘ä»¬å†³å®šå»ºç«‹ä¸€ä¸ªæ¨¡åž‹ï¼Œæ‰¾åˆ°è¯†åˆ«åäººå’Œå¥½äººçš„æ–¹æ³•ã€‚ æˆ‘ä»¬åŽ»è­¦å¯Ÿå±€èŽ·å–äº†100ä¸ªäººçš„æ¡£æ¡ˆï¼Œå…¶ä¸­æœ‰50ä¸ªå¥½äººã€50ä¸ªåäººã€‚æ¡£æ¡ˆé‡Œè¿˜æœ‰å¦ä¸€ä¸ªæ•°æ®ï¼šæ˜¯å¦æŸ“å‘ã€‚ æ ¹æ®ä¸Šé¢çš„æ¡£æ¡ˆæ•°æ®ï¼Œæˆ‘ä»¬ç»˜åˆ¶è¡¨æ ¼å¦‚ä¸‹ï¼š æˆ‘ä»¬ä¼¼ä¹Žå¯ä»¥ç”¨æŸ“å‘ä¸Žå¦åˆ¤æ–­ä¸€ä¸ªäººæ˜¯å¥½äººè¿˜æ˜¯åäººã€‚ å¦‚æžœä½¿ç”¨ä¸Šé¢çš„åˆ¤æ–­æ–¹å¼ï¼Œæˆ‘ä»¬çš„ entropy ä¼šå‡å°‘å¤šå°‘å‘¢ï¼Ÿ E(æŸ“å‘) = 10/45 * log_2(10/45) + 35/45 * log_2(35/45) = 0.76E(ä¸æŸ“å‘) = 40/55 * log_2(40/55) + 15/55 * log_2(15/55) = 0.85 ç„¶åŽæŒ‰ç…§é¢‘çŽ‡åŠ æƒå¹³å‡ï¼Œå¾—åˆ°ä»¥æŸ“å‘é¢„æµ‹å¥½äººçš„ entropyï¼šE(æ˜¯å¦å¥½äººï½œæ˜¯å¦æŸ“å‘) = 45/100 * 0.76 + 55/100 * 0.85 = 0.81 çŽ°åœ¨æˆ‘ä»¬çœ‹åˆ°ä¸€ä¸ªæŸ“å‘è€…ï¼Œå°±åˆ¤æ–­ä»–æ˜¯åäººï¼Œç„¶åŽèº²å¾—è¿œè¿œçš„ã€‚æˆ‘ä»¬ä¼šæœ‰ä¸€å®šçš„é”™åˆ¤çŽ‡ï¼ˆå¤§æ¦‚29%ï¼‰ï¼Œä½†è¿™å·²ç»æ¯”ä¹‹å‰æ— æ³•åˆ¤æ–­çš„æƒ…å†µæœ‰äº†è¿›æ­¥ï¼Œè¿™ä¸ªä¸–ç•Œæ²¡æœ‰é‚£ä¹ˆæ··ä¹±äº†ã€‚æ€Žä¹ˆè¡¡é‡æ··ä¹±ç¨‹åº¦çš„å‡å°‘å‘¢ï¼Ÿæˆ‘ä»¬ç”¨åŽŸå…ˆçš„ entropy å‡åŽ»åŸºäºŽæŸä¸ªå› ç´ åšåˆ¤æ–­çš„ entropyï¼Œå¾—åˆ°è¿™ä¸ªå› ç´ çš„ information gainï¼š IG= = E(æ˜¯å¦å¥½äºº) - E(æ˜¯å¦å¥½äºº|æ˜¯å¦æŸ“å‘) = 1 - 0.81 = 0.19 å¼•å…¥æŸ“å‘è¿™ä¸ª splitï¼Œæˆ‘ä»¬èŽ·å¾—äº† 0.19 çš„è¿›æ­¥ã€‚ å¦‚æžœæˆ‘ä»¬æœ‰æ›´å¤šå˜é‡ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä¾æ¬¡è®¡ç®—æ¯ä¸ªå˜é‡çš„ IGï¼Œå¹¶é€‰æ‹© IG æ•ˆæžœæœ€å¥½çš„å˜é‡ä½œä¸ºè§£é‡Šå˜é‡ã€‚å½“æˆ‘ä»¬ä¾æ¬¡é€‰æ‹©å‡ºäº†è‹¥å¹²ä¸ªè§£é‡Šå˜é‡ï¼Œæ‰€è°“çš„å†³ç­–æ ‘ðŸŒ²å°±å‡ºçŽ°äº†ã€‚ ä¸€ä¸ªå¼•ç”³å¦‚æžœå…¬å¸å¯¹ A æ–¹æ¡ˆæœ‰5æˆæŠŠæ¡ï¼Œåœ¨ entropy å‡½æ•°é‡Œï¼Œæ··ä¹±ç¨‹åº¦æ˜¯æœ€ä¸¥é‡çš„ã€‚å¦å¤–ä¸€ä¸ªæ–¹æ¡ˆ Bï¼Œå…¬å¸åªæœ‰2æˆæŠŠæ¡ï¼Œè¿™æ—¶çš„ entropy å€¼æ¯”è¾ƒä½Žã€‚ è¿™æ˜¯ä¸€ä¸ªæœ‰æ„æ€çš„å‘çŽ°ï¼šæˆ‘ä»¬å¸Œæœ› entropy è¶Šä½Žè¶Šå¥½ã€‚ç«™åœ¨å…¬å¸è§’åº¦ï¼ŒB æ–¹æ¡ˆæ˜¯ä¸ªå¯ä»¥å¿«é€Ÿæ‹’ç»çš„æ–¹æ¡ˆï¼šæˆ‘ä»¬æ¸…æ¥šåœ°çŸ¥é“å®ƒå¤§æ¦‚çŽ‡å¤±è´¥ï¼ˆå‡è®¾ä¸¤ä¸ªæ–¹æ¡ˆçš„é¢„æœŸå›žæŠ¥ç›¸ç­‰ï¼‰ã€‚çœŸæ­£é€ æˆæ··ä¹±åŽæžœï¼Œå¾€å¾€æ˜¯ A æ–¹æ¡ˆè¿™æ ·æ¨¡æ£±ä¸¤å¯çš„æ–¹æ¡ˆã€‚ å†çœ‹ä¸€ä¸ªï¼ˆåŠæžç¬‘çš„ï¼‰åœºæ™¯ï¼Œå‡è®¾æœ‰ä¸¤ä¸ªåŒäº‹ï¼š A å‘˜å·¥çš„åˆ¤æ–­å‡†ç¡®åº¦æ˜¯50% B å‘˜å·¥çš„åˆ¤æ–­å‡†ç¡®åº¦æ˜¯20% æˆ‘ä¼šæ›´å¸Œæœ›è‡ªå·±çš„æ‰‹ä¸‹æ˜¯å“ªä¸ªå‘¢ï¼ŸæŒ‰ç…§ entropy å…¬å¼ï¼ŒB å‘˜å·¥çš„ entropy å€¼æ›´ä½Žã€‚æ­¤æ—¶æˆ‘ä»¬é€‰æ‹© B å‘˜å·¥ï¼šæˆ‘ä»¬åªè¦åšå‡ºè·Ÿ B å‘˜å·¥çš„åˆ¤æ–­ç›¸åçš„é€‰æ‹©ï¼Œå°±å¤§æ¦‚çŽ‡æ­£ç¡®äº†ã€‚è€Œ A å‘˜å·¥å‘¢ï¼Œä»·å€¼è¿˜ä¸å¦‚ä¸€æžšç¡¬å¸ï¼Œæ¯•ç«Ÿé€šè¿‡æŠ›ç¡¬å¸åšé€‰æ‹©ä¹Ÿèƒ½è¾¾åˆ°50%çš„å‡†ç¡®åº¦ã€‚ çŽ°å®žç”Ÿæ´»é‡Œæœ‰æ²¡æœ‰ç±»ä¼¼ B å‘˜å·¥çš„äººå‘¢ï¼Ÿå¯èƒ½æ²¡æœ‰è¿™æ ·çš„äººï¼Œä½†åœ¨æŸä¸€ç±»é—®é¢˜ä¸Šï¼Œæœ‰äººå¼€èƒ½ä¼šä¹ æƒ¯æ€§çŠ¯é”™ã€‚ æˆ‘æ›¾ç»æœ‰ä¸ªåŒäº‹å–œæ¬¢è¿½æ±‚å®Œç¾Žï¼Œæ€»æ˜¯æ²¡æœ‰åŠžæ³•æŒ‰æœŸå®Œæˆä»»åŠ¡ï¼Œta ç»å¸¸ä¼šè¯´â€œæˆ‘è§‰å¾—è¿™ä¸ªç‰ˆæœ¬è¿˜ä¸å¤Ÿå¥½/æˆ‘è¿˜æ²¡å‡†å¤‡å¥½ï¼Œè¦ä¸å†ç­‰ä¸€ç­‰â€ã€‚å¦‚æžœé€‰æ‹©å»¶æœŸï¼Œç»“æžœå¾€å¾€æ›´ç³Ÿç³•ã€‚åœ¨æŒ‰æœŸäº¤ä»˜é—®é¢˜ä¸Šï¼Œta çš„åˆ¤æ–­åŠ›å°±åƒåªæœ‰20%çš„å‡†ç¡®åº¦ ðŸ˜‚ã€‚å½“æˆ‘æ„è¯†åˆ°è¿™ç‚¹åŽï¼Œæ¯æ¬¡ ta æå‡ºâ€œå¯ä»¥å»¶æœŸâ€œæ—¶ï¼Œæˆ‘æ€»ä¼šç«‹åˆ»åšå‡ºåˆ¤æ–­ï¼šä¸èƒ½å»¶æœŸäº†ï¼Œå¿…é¡»äº¤ä»˜ã€‚ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"ç»Ÿè®¡å­¦","slug":"ç»Ÿè®¡å­¦","permalink":"https://yupototo.github.io/blog/categories/%E7%BB%9F%E8%AE%A1%E5%AD%A6/"}],"tags":[]},{"title":"Promise ç³»åˆ—ä¹‹1ï¼šä¸ºä»€ä¹ˆ","slug":"coding-8-js-promise-1-why","date":"2019-01-15T10:58:56.000Z","updated":"2020-02-03T17:14:34.339Z","comments":true,"path":"2019/01/15/coding-8-js-promise-1-why/","link":"","permalink":"https://yupototo.github.io/blog/2019/01/15/coding-8-js-promise-1-why/","excerpt":"Promise æ˜¯ JavaScript ES6 çš„æ–°ç‰¹æ€§ï¼Œæ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„è§£å†³æ–¹æ¡ˆã€‚å¯¹äºŽæˆ‘è¿™ä¸ªæ²¡æœ‰ä»€ä¹ˆå¼€å‘ç»éªŒçš„å°ç™½ï¼Œpromise å®žåœ¨æœ‰ç‚¹éš¾ç†è§£ã€‚è¿™ä¸ªç³»åˆ—ç¬”è®°ä¼šæ€»ç»“ promise çš„èƒŒæ™¯å’Œåº”ç”¨ã€‚ ç¬¬1ä¸ªé—®é¢˜ï¼šä¸ºä»€ä¹ˆéœ€è¦ promiseã€‚","text":"Promise æ˜¯ JavaScript ES6 çš„æ–°ç‰¹æ€§ï¼Œæ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„è§£å†³æ–¹æ¡ˆã€‚å¯¹äºŽæˆ‘è¿™ä¸ªæ²¡æœ‰ä»€ä¹ˆå¼€å‘ç»éªŒçš„å°ç™½ï¼Œpromise å®žåœ¨æœ‰ç‚¹éš¾ç†è§£ã€‚è¿™ä¸ªç³»åˆ—ç¬”è®°ä¼šæ€»ç»“ promise çš„èƒŒæ™¯å’Œåº”ç”¨ã€‚ ç¬¬1ä¸ªé—®é¢˜ï¼šä¸ºä»€ä¹ˆéœ€è¦ promiseã€‚ Callback Sucksæœ€é‡è¦çš„åŽŸå› ï¼šå›žè°ƒå‡½æ•°ä¸å¥½ç”¨ã€‚ åˆ›å»ºå›žè°ƒå‡½æ•°å¾ˆå®¹æ˜“ï¼Œä½†å›žè°ƒå‡½æ•°ç”¨èµ·æ¥å¹¶ä¸å®¹æ˜“ã€‚ å…¸åž‹åœºæ™¯ï¼š éœ€è¦å…ˆèŽ·å–æ•°æ® a ç„¶åŽåˆ©ç”¨æ•°æ® a èŽ·å–æ•°æ® b ç„¶åŽåˆ©ç”¨æ•°æ® b èŽ·å–æ•°æ® c ç„¶åŽåˆ©ç”¨æ•°æ® c èŽ·å–æ•°æ® d ç„¶åŽåˆ©ç”¨æ•°æ® d èŽ·å–æ•°æ® e å±•ç¤ºæ•°æ® e å…¶å®žè¿™ä¹ˆæ¶å¿ƒçš„ä¸šåŠ¡é€»è¾‘æˆ‘è¿˜æ²¡ç¢°åˆ°è¿‡ï¼Œä¸è¿‡çœ‹åˆ°ä¸Šé¢è¿™æ®µéœ€æ±‚æˆ‘å°±å·²ç»æ„Ÿè§‰åˆ°åèƒƒäº†ã€‚ ä¸Šé¢çš„éœ€æ±‚å¦‚æžœç”¨ callback é£Žæ ¼ï¼Œä¼ªä»£ç å¦‚ä¸‹ï¼š Callback Hell123456789101112// ç¬¬1æ®µä»£ç getData(url, a =&gt; { getMoreData(a, b =&gt; { getMoreData(b, c =&gt; { getMoreData(c, d =&gt; { getMoreData(d, e =&gt; { console.log(e) }) }) }) })}) ç¬¬1è¡Œï¼šé€šè¿‡ GET url èŽ·å–åˆ°äº† aï¼Œç„¶åŽè°ƒç”¨ callbackï¼Œå‚æ•°ä¸º a ç¬¬2è¡Œï¼šç”¨aèŽ·å–åˆ°äº†bï¼Œç„¶åŽè°ƒç”¨ callbackï¼Œå‚æ•°ä¸º b â€¦ ä¸Šé¢è¿™æ®µé€»è¾‘ï¼Œåˆè¢«æˆä¸ºâ€œå›žè°ƒåœ°ç‹±â€ï¼Œéœ€è¦ç»´æŠ¤çš„äººä¼°è®¡éƒ½æƒ³å“­ã€‚ Into promiseå…ˆä¸è®¨è®º promise çš„å®šä¹‰ã€‚\bè¿™é‡Œåªéœ€è¦ç›´åˆ°ï¼Œpromise èƒ½å¤Ÿå¾ˆå¥½åœ°è§£å†³ä¸Šé¢çš„é—®é¢˜ã€‚ Promise æä¾›äº†ä¸€ä¸ª then æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•æ”¯æŒâ€œé“¾å¼è°ƒç”¨â€ã€‚ ä½¿ç”¨é“¾å¼è°ƒç”¨åŽï¼Œä¸Šé¢çš„â€œå›žè°ƒåœ°ç‹±â€å¯ä»¥è¢«å†™æˆï¼š Promise123456getData() .then(a =&gt; getMoreData(a)) .then(b =&gt; getMoreData(b)) .then(c =&gt; getMoreData(c)) .then(d =&gt; getMoreData(d)) .then(e =&gt; console.log(e)) å³ä½¿æˆ‘ä»¬å®Œå…¨ä¸åŒ promiseï¼Œä¹Ÿèƒ½æ„Ÿè§‰åˆ°åŽä¸€æ®µä»£ç çš„å¯è¯»æ€§æ›´å¼ºã€‚ åœ¨å†™äº†ä¸€æ®µæ—¶é—´ promise åŽï¼Œå¤§å®¶å‘çŽ° promise ä¹Ÿæœ‰ä¸€äº›ç—›ç‚¹ï¼Œæ¯”å¦‚ä¸šåŠ¡é€»è¾‘éœ€è¦åœ¨ then() ä¸­æ‰§è¡Œï¼Œå¦‚æžœä¸šåŠ¡é€»è¾‘å¤æ‚ï¼Œä»£ç çš„å¯è¯»æ€§ä¹Ÿä¼šå˜å·®ã€‚äºŽæ˜¯äººä»¬æƒ³åˆ°äº†æ–°çš„æ–¹æ¡ˆï¼šasync/awaitã€‚ Even betterï¼šasync/awaitasync/await åªæ˜¯ promise çš„è¯­æ³•ç³–ï¼Œå¹¶æ²¡æœ‰å¼•å…¥æ–°çš„ä¸œè¥¿ã€‚ ä½¿ç”¨ async å’Œ await åŽï¼Œä»£ç åˆå¯ä»¥ä¿®æ”¹æˆï¼š async/await1234567(async () =&gt; { const a = await getData() const b = await getMoreData(a) const c = await getMoreData(b) const e = await getMoreData(c) console.log(e)})() è¿™æ®µä»£ç çš„å¤§æ‹¬å·éƒ¨åˆ†ï¼Œçœ‹ä¸ŠåŽ»éžå¸¸åƒå¹³æ—¶å†™çš„åŒæ­¥ä»£ç äº†ã€‚ä¸šåŠ¡é€»è¾‘æŒ‰é¡ºåºæè¿°ï¼Œä¸”â€œä½¿ç”¨æ•°æ® a èŽ·å–æ•°æ® bâ€ çš„æ¦‚å¿µä¹Ÿèƒ½å¾—åˆ°æ›´æ¸…æ™°çš„å±•ç¤ºã€‚ é¢˜å¤–è¯ä»Ž callback åˆ° promiseï¼Œå†ä»Ž promise åˆ° async/awaitï¼Œè®©æˆ‘æƒ³åˆ°äº†å¢žé•¿ç»æµŽå­¦é‡Œçš„â€œæŠ€æœ¯è¿›æ­¥â€ï¼šå³ä½¿æ—¶é—´å’Œèµ„æœ¬æŠ•å…¥ä¸æ”¹å˜ï¼Œé€šè¿‡æ›´åŠ å…ˆè¿›çš„æŠ€æœ¯ï¼Œç»æµŽä¹Ÿèƒ½å¾—åˆ°å‘å±•ã€‚ ä¼ ç»Ÿçš„ callback ä»£ç ï¼Œç¨‹åºå‘˜å¯èƒ½éœ€è¦10ä¸ªå°æ—¶åŽ»åˆ›é€ å¹¶ç»´æŠ¤ï¼›è¿›åŒ–åˆ° promise åŽï¼Œä¹Ÿè®¸åªéœ€è¦8ä¸ªå°æ—¶ï¼›å†è¿›åŒ–åˆ° async/awaitï¼Œä¹Ÿè®¸åªéœ€è¦6ä¸ªå°æ—¶ã€‚å¯¹å…¨ä¸–ç•Œæ‰€æœ‰çš„æŠ€æœ¯é¡¹ç›®ï¼Œè¿™éƒ½æ˜¯40%çš„æˆæœ¬åŽ‹ç¼©ï¼Œäººä»¬æ‰€ä»˜å‡ºçš„ï¼Œåªæ˜¯ç†Ÿæ‚‰æ–°åŠŸèƒ½éœ€è¦çš„åå‡ ä¸ªå°æ—¶ã€‚ è¿™ç§æŠ€æœ¯è¿›æ­¥ï¼Œä¹Ÿå¯èƒ½æ˜¯ç¨‹åºå‘˜å¹¶ä¸ä¼šéšç€å¹´é¾„å˜å¾—æ›´åƒé¦™çš„åŽŸå› ï¼šå¹´è½»äººä¸€æ—¦æŽŒæ¡äº† async/awaitï¼Œå†™ callback çš„è€å¹´ç¨‹åºå‘˜å°±å˜æˆäº†åˆè´µåˆè½åŽçš„åŽŸå§‹äº§èƒ½ã€‚ æ›´å¤šé˜…è¯»Promise ç³»åˆ—ï¼š ä¸ºä»€ä¹ˆéœ€è¦ promise (æœ¬ç¯‡) ä»€ä¹ˆæ˜¯ promise promise è¿›é˜¶ async/await document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"Coding","slug":"Coding","permalink":"https://yupototo.github.io/blog/categories/Coding/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://yupototo.github.io/blog/tags/JavaScript/"}]},{"title":"JavaScript é‡Œçš„ callback","slug":"coding-7-js-callback","date":"2019-01-11T09:40:13.000Z","updated":"2020-02-03T17:14:34.339Z","comments":true,"path":"2019/01/11/coding-7-js-callback/","link":"","permalink":"https://yupototo.github.io/blog/2019/01/11/coding-7-js-callback/","excerpt":"åœ¨ JavaScript é‡Œï¼Œå‡½æ•°æ˜¯ objectï¼Œæ‰€ä»¥ function çš„å‚æ•°å¯ä»¥æ˜¯ functionã€‚å¦‚æžœä¸€ä¸ª function è¢«ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œå®ƒå°±è¢«ç§°ä¸º callback functionã€‚ è¿™ç¯‡æ–‡ç« æ˜¯ callback çš„å­¦ä¹ ç¬”è®°ã€‚","text":"åœ¨ JavaScript é‡Œï¼Œå‡½æ•°æ˜¯ objectï¼Œæ‰€ä»¥ function çš„å‚æ•°å¯ä»¥æ˜¯ functionã€‚å¦‚æžœä¸€ä¸ª function è¢«ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œå®ƒå°±è¢«ç§°ä¸º callback functionã€‚ è¿™ç¯‡æ–‡ç« æ˜¯ callback çš„å­¦ä¹ ç¬”è®°ã€‚ ä¸€ä¸ªä¾‹å­ä¼ å…¥å‡½æ•°æŒ‰ç…§ callback çš„å®šä¹‰ï¼Œæˆ‘åˆ›å»ºå¹¶æ‰§è¡Œä¸€ä¸ªéœ€è¦ callback çš„ functionï¼š 123456789101112131415161718function someFunc() { console.log('this is some func')}function funcWithCallback(callback) { console.log('this is function funcWithCallback') console.log('before callback') callback() console.log('after callback')}funcWithCallback(someFunc)//this is function funcWithCallback//becore callback//this is some func//after callback ä¸Šé¢è¿™æ®µä»£ç é‡Œï¼š someFunc æ˜¯ä¸ªå®šä¹‰åœ¨ global scope çš„å‡½æ•°ï¼Œä¼šæ‰“å°ä¸€ä¸²æ–‡å­— funcWithCallback æ˜¯ä¸ªéœ€è¦ä¼ å…¥ callback çš„å‡½æ•°ï¼Œæ³¨æ„åœ¨ argument é‡Œæœ‰ä¸€ä¸ª callback å‚æ•° åœ¨ç¬¬9è¡Œï¼Œç”¨ callback() è¿è¡Œè¿™ä¸ªå‡½æ•° æœ€åŽæˆ‘ä»¬ç»™ funcWithCallback ä¼ å…¥ someFunc ï¼Œæ‰“å°è¿è¡Œç»“æžœã€‚ æ³¨æ„ï¼Œä¸Šé¢çš„å‚æ•°å callback åªæ˜¯çº¦å®šä¿—æˆï¼Œæ”¹æˆåˆ«çš„å•è¯å¦‚ abcdef ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œåªè¦ç¬¬9è¡ŒåŒæ ·æ”¹æˆ abcdefã€‚å› ä¸ºï¼Œè¿è¡Œä¸€ä¸ªå‡½æ•°çš„æ–¹å¼ï¼Œå°±æ˜¯åœ¨å‡½æ•°ååŽåŠ ()ã€‚ åœ¨è¿è¡Œå‡½æ•°æ—¶ç›´æŽ¥å®šä¹‰ callbackåˆšæ‰æˆ‘ä»¬é¦–å…ˆå®šä¹‰äº† someFuncï¼Œç„¶åŽå†åœ¨ funcWithCallback é‡Œä½¿ç”¨å®ƒã€‚å¦å¤–ä¸€ä¸ªå¸¸è§çš„åšæ³•æ˜¯ï¼Œåœ¨éœ€è¦ callback çš„åœ°æ–¹ç›´æŽ¥å®šä¹‰ä¸€ä¸ªå‡½æ•°ã€‚ 12345678910111213141516function funcWithCallback(callback) { console.log('this is function funcWithCallback') console.log('before callback') callback() console.log('after callback')}funcWithCallback(function() { console.log('this is callback')})//this is function funcWithCallback//before callback//this is callback//after callback ä¸Šé¢è¿™æ®µä»£ç é‡Œï¼Œæˆ‘åœ¨è¿è¡Œ funcWithCallback æ—¶ç›´æŽ¥å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°ä½œä¸º callbackã€‚ è¿™ä¸ªåšæ³•å¯ä»¥ç”¨ç®­å¤´å‡½æ•°è½»æ˜“æ”¹å†™ï¼š 1funcWithCallback(() =&gt; console.log('this is callback')) setTimeoutJavaScript é‡Œæœ€ç»å…¸çš„ä½¿ç”¨ callback çš„å‡½æ•°æ˜¯ setTimeout(func, delay, ...args)ï¼Œç”¨äºŽæŽ¨è¿Ÿè‹¥å¹²æ—¶é—´åŽæ‰§è¡Œ callback å‡½æ•°ã€‚å„ä¸ªå‚æ•°çš„å«ä¹‰æ˜¯ï¼š func: callback å‡½æ•° delay: æŽ¨è¿Ÿæ‰§è¡Œçš„æ—¶é—´ â€¦args: func çš„å‚æ•°12345function sayHi(name) { console.log(`Hello, ${name}`)}setTimeout(sayHi, 1000, 'Pototo') ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ callbackcallback ä¸»è¦ç”¨äºŽå¼‚æ­¥åœºæ™¯ã€‚æ¯”å¦‚ä»ŽæŸä¸ª API èŽ·å–æ•°æ®ï¼Œåœ¨èŽ·å–åˆ°æ•°æ®ä¹‹å‰ï¼Œæˆ‘ä»¬æ— æ³•è¿›è¡Œä¸‹ä¸€æ­¥ï¼›èŽ·å–åˆ°æ•°æ®åŽï¼Œæˆ‘ä»¬å°±èƒ½è°ƒç”¨ callback æ‰§è¡Œä¸‹ä¸€æ­¥æ“ä½œã€‚ ä¼ªä»£ç å…ˆçœ‹ä¼ªä»£ç å¦‚ä¸‹ï¼š 12345678910function dealWithData() { // some operation}function getData(url, callback) { // get data from url // callback()}getData('some-url', dealWithData) ä¸ä¹ æƒ¯å¼‚æ­¥ç¼–ç¨‹çš„åŒå­¦å¯èƒ½ä¼šé—®ï¼Œä¸ºä»€ä¹ˆä¸å†™æˆä¸‹é¢çš„å½¢å¼å‘¢ï¼Ÿï¼ˆè¿˜æ˜¯ä¼ªä»£ç ï¼‰ï¼š 12345678910function dealWithData(data) { // some operation}function getData(url) { // get data from url, return data}var data = getData('some-url')dealWithData(data) å› ä¸º getData è¿™ä¸ªå‡½æ•°ä¼šä¸€æ—¦æ‰§è¡Œï¼Œä¼šå‘å‡ºä¸€ä¸ª GET requestï¼Œè¿™ä¸ª request å‘å‡ºåŽ»åŽï¼Œæˆ‘ä»¬æ— æ³•ç¡®å®šéœ€è¦å¤šé•¿æ—¶é—´æ‰§è¡Œï¼ˆç”šè‡³ä¸ç¡®å®šèƒ½ä¸èƒ½æ­£ç¡®å–å›žæ•°æ®ï¼‰ã€‚ç”¨ç¬¬2ç§å†™æ³•ï¼Œè®¡ç®—æœºå°±ä¼šç­‰å¾…ç»“æžœçš„è¿”å›žã€‚å‡å®šæˆ‘ä»¬åœ¨getDataè®¾å®šäº†æœ€é•¿ç­‰å¾…æ—¶é—´æ˜¯10ç§’ï¼Œé‚£ä¹ˆè¿™10ç§’å†…ï¼Œè®¡ç®—æœºä»€ä¹ˆä¹Ÿåšä¸äº†ã€‚è¿™æ˜¯å¯¹è®¡ç®—èµ„æºçš„æµªè´¹ï¼Œç”¨æˆ·ä½“éªŒä¹Ÿå¾ˆå·®ã€‚ å¦‚æžœä½¿ç”¨ callback åšæ³•ï¼ŒGET request å‘å‡ºåŽï¼Œè®¡ç®—æœºå°±èƒ½åŽ»å…ˆåšå…¶ä»–äº‹æƒ…ï¼Œç›´åˆ°èŽ·å– GET çš„ç»“æžœåŽï¼Œå†ç»§ç»­æ‰§è¡Œ callbackã€‚ æ¨¡æ‹Ÿ http requestå¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç æ¨¡æ‹Ÿ http request éœ€è¦ç­‰å¾…çš„ç‰¹å¾ï¼š 123456789101112function getData(url, callback) { console.log('get data from url: ' + url) setTimeout(callback, 1000)}getData('www.twitter.com/data', () =&gt; console.log('working with data'))console.log('do this first while waiting for data return')//get data from url: www.twitter.com/data//do this first while waiting for data return//working with data æˆ‘åœ¨è¿™é‡Œç”¨1ç§’é’Ÿçš„å»¶è¿Ÿæ¨¡æ‹ŸèŽ·å–æ•°æ®çš„è€—æ—¶ã€‚ ä¸Šé¢è¿™æ®µä»£ç çš„æ‰§è¡Œé¡ºåºæ˜¯ï¼š åŽ»â€œèŽ·å–æ•°æ®â€ï¼ˆå‡è£…èŽ·å–æ•°æ®ï¼‰ å…ˆè¿è¡Œç¬¬8è¡Œçš„ä»£ç  1ç§’åŽï¼Œè¿è¡Œ callback ç¬¬8è¡Œä»£ç åœ¨å¼‚æ­¥ç»“æžœè¿”å›žå‰å°±å¾—åˆ°äº†è¿è¡Œï¼Œè¿™å°±æ˜¯ callback çš„ä»·å€¼ã€‚ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"Coding","slug":"Coding","permalink":"https://yupototo.github.io/blog/categories/Coding/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://yupototo.github.io/blog/tags/JavaScript/"}]},{"title":"æ•°æ®å›¢é˜Ÿçš„ä¸‰ä¸ªè§’è‰²ï¼šæ•°æ®ç§‘å­¦å®¶ã€æ•°æ®åˆ†æžå¸ˆã€æ•°æ®å·¥ç¨‹å¸ˆ","slug":"ds-3-data-team","date":"2019-01-06T18:39:41.000Z","updated":"2020-02-03T17:14:34.339Z","comments":true,"path":"2019/01/06/ds-3-data-team/","link":"","permalink":"https://yupototo.github.io/blog/2019/01/06/ds-3-data-team/","excerpt":"ä¸€èˆ¬æ¥è¯´ï¼Œä¸€ä¸ªå®Œæ•´çš„æ•°æ®å›¢é˜Ÿåº”è¯¥ç”±3ä¸ªè§’è‰²æž„æˆï¼š æ•°æ®åˆ†æžå¸ˆ data analyst æ•°æ®å·¥ç¨‹å¸ˆ data engineer æ•°æ®ç§‘å­¦å®¶ data scientist è¿™ç¯‡æ–‡ç« æ€»ç»“ä¸‰ä¸ªè§’è‰²çš„åŒºåˆ«ï¼Œå¹¶è¯´æ˜Žä½•ç§æƒ…å†µä¸‹å›¢é˜Ÿé‡Œåº”è¯¥æœ‰è¿™äº›è§’è‰²ã€‚","text":"ä¸€èˆ¬æ¥è¯´ï¼Œä¸€ä¸ªå®Œæ•´çš„æ•°æ®å›¢é˜Ÿåº”è¯¥ç”±3ä¸ªè§’è‰²æž„æˆï¼š æ•°æ®åˆ†æžå¸ˆ data analyst æ•°æ®å·¥ç¨‹å¸ˆ data engineer æ•°æ®ç§‘å­¦å®¶ data scientist è¿™ç¯‡æ–‡ç« æ€»ç»“ä¸‰ä¸ªè§’è‰²çš„åŒºåˆ«ï¼Œå¹¶è¯´æ˜Žä½•ç§æƒ…å†µä¸‹å›¢é˜Ÿé‡Œåº”è¯¥æœ‰è¿™äº›è§’è‰²ã€‚ ä¸‰ä¸ªè§’è‰²ä¸‰ä¸ªè§’è‰²çš„å·¥ä½œæœ‰æ—¶ä¼šæœ‰ä¸€å®šç¨‹åº¦çš„äº¤é›†ï¼Œè¿™é‡Œåªè®¨è®ºä¸‰ä¸ªè§’è‰²çš„æœ€é‡è¦å·®å¼‚ã€‚ æ•°æ®åˆ†æžå¸ˆï¼š éœ€è¦äº†è§£ä¸šåŠ¡ï¼Œä½¿ç”¨å¸¸è§„çš„æ•°æ®åˆ†æžæ–¹æ³•ä¸ºæ—¥å¸¸å•†ä¸šå†³ç­–æä¾›ä¾æ® æ•°æ®å·¥ç¨‹å¸ˆï¼šåˆ›é€ å’Œç»´æŠ¤æ•°æ®åŸºç¡€è®¾æ–½ æ•°æ®ç§‘å­¦å®¶ï¼šæŽŒæ¡æœºå™¨å­¦ä¹ ç®—æ³•ï¼Œæ“…é•¿æ•°å­¦ã€ç»Ÿè®¡å­¦å’Œç¼–ç¨‹ï¼Œå¯ä»¥å¤„ç†å¤§æ•°æ®åˆ†æžéœ€æ±‚ æ•°æ®åˆ†æžå¸ˆæ•°æ®åˆ†æžå¸ˆæ˜¯æœ€å¸¸è§çš„è§’è‰²ï¼Œå·²ç»å­˜åœ¨äº†å¾ˆå¤šå¹´ã€‚æ—©æœŸçš„æ•°æ®åˆ†æžå¸ˆåªéœ€è¦æŽŒæ¡ Excel çš„ä½¿ç”¨ï¼Œç”Ÿæˆæ—¥å¸¸æ•°æ®æŠ¥è¡¨ï¼Œåšä¸€å®šçš„æ•°æ®å¯è§†åŒ–ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ•°æ®åˆ†æžå¸ˆè¿˜éœ€è¦æ‡‚ä¸šåŠ¡ï¼Œå¹¶é€šè¿‡æ•°æ®å¯¹å•†ä¸šå†³ç­–æä¾›å»ºè®®ã€‚ ç¨å¾®è¿›é˜¶çš„æ•°æ®åˆ†æžå¸ˆï¼Œè¿˜ä¼šæ‡‚ä¸€äº› inferential statisticsï¼Œä½¿ç”¨çº¿æ€§å›žå½’ç­‰æ–¹æ³•åšå½’å› å’Œé¢„æµ‹ã€‚ éšç€å¤§å®¶çš„å­¦ä¹ èƒ½åŠ›è¶Šæ¥è¶Šå¼ºï¼Œæ•°æ®åˆ†æžå·²ç»å˜æˆäº†ä¸€ä¸ªåŸºæœ¬æŠ€èƒ½ã€‚åœ¨è¿™ä¸ªçŽ¯å¢ƒä¸‹ï¼Œæ•°æ®åˆ†æžå¸ˆçš„æ ¸å¿ƒä»·å€¼æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘è®¤ä¸ºæ˜¯â€œæ‡‚ä¸šåŠ¡â€ã€‚ æ•°æ®åˆ†æžå¸ˆéœ€è¦éžå¸¸äº†è§£è‡ªå·±ä¸šåŠ¡çš„æƒ…å†µï¼Œæ‹¿æ¸¸æˆæ¥ä¸¾ä¾‹ï¼Œæ•°æ®åˆ†æžå¸ˆåº”è¯¥äº†è§£è‡ªå·±æ‰€åˆ†æžçš„æ¸¸æˆã€äº†è§£æ¸¸æˆè¡Œä¸šçš„æ•°æ®ç‰¹ç‚¹ã€‚SLG æ¸¸æˆå’Œ ARPG æ¸¸æˆå°±æ˜¯ä¸¤ä¸ªå®Œå…¨ä¸åŒçš„æ¸¸æˆç±»åž‹ï¼Œå¦‚æžœæŸä¸ªæ ¸å¿ƒæŒ‡æ ‡ç›¸åŒï¼ˆæ¯”å¦‚7æ—¥ROIï¼‰ï¼Œæ•°æ®åˆ†æžå¸ˆéœ€è¦é’ˆå¯¹ä¸¤ç§æ¸¸æˆåšä¸åŒçš„åˆ¤æ–­ã€‚åŒæ—¶ï¼Œæ•°æ®åˆ†æžå¸ˆåº”è¯¥æ·±åº¦ä½“éªŒè‡ªå·±çš„æ¸¸æˆï¼Œå¹¶èƒ½ç»“åˆæ¸¸æˆä½“éªŒæå‡ºå€¼å¾—ç ”ç©¶çš„é—®é¢˜ã€‚ å› ä¸ºâ€œæ‡‚ä¸šåŠ¡â€åŒæ—¶ä¹Ÿâ€œæ‡‚æ•°æ®â€ï¼Œæ•°æ®åˆ†æžå¸ˆåº”è¯¥æ˜¯æœ€èƒ½å½±å“é¡¹ç›®å†³ç­–çš„äººã€‚ æ•°æ®åˆ†æžå¸ˆçš„å¸¸è§å­¦ç§‘èƒŒæ™¯ï¼šå•†ç§‘ã€ç»æµŽå­¦ã€ç»Ÿè®¡å­¦ã€‚ æ•°æ®å·¥ç¨‹å¸ˆæ•°æ®å·¥ç¨‹å¸ˆå…¶å®žæ˜¯â€œéœ€è¦åšæ•°æ®ç›¸å…³å¼€å‘å·¥ä½œâ€çš„ç¨‹åºå‘˜ï¼Œæ¯”å¦‚æ•°æ®å­˜å‚¨ã€æ•°æ®è®¡ç®—ã€\b\bæ•°æ®åŽå°çš„æ­å»ºç­‰ç­‰ã€‚ åœ¨å°ä¸€äº›çš„å…¬å¸ï¼Œæ•°æ®å·¥ç¨‹å¸ˆä¸€èˆ¬ç”±åŽç«¯å¼€å‘äººå‘˜å…¼ä»»ã€‚å¤§åž‹çš„å…¬å¸ï¼Œä¼šéœ€è¦ä¸“é—¨çš„æ•°æ®å·¥ç¨‹å¸ˆã€‚ æ•°æ®å·¥ç¨‹å¸ˆçš„å¸¸è§å­¦ç§‘èƒŒæ™¯ï¼šè®¡ç®—æœºã€‚ æ•°æ®ç§‘å­¦å®¶æ•°æ®ç§‘å­¦å®¶æ˜¯æœ€è¿‘å‡ å¹´åˆç¡…è°·å¸¦åŠ¨èµ·æ¥çš„æ–°å…´å²—ä½ã€‚æ•°æ®ç§‘å­¦å®¶æœ€æ ¸å¿ƒçš„ç‰¹ç‚¹æ˜¯ï¼šèƒ½ç”¨ç§‘å­¦çš„æ–¹æ³•è§£å†³ä¼ä¸šçš„æ•°æ®åˆ†æžé—®é¢˜ã€‚ ä¸ºä»€ä¹ˆè¿™é‡Œæåˆ°â€œç§‘å­¦çš„â€æ–¹æ³•å‘¢ï¼Ÿæœ‰ä¸¤ä¸ªåŽŸå› ã€‚ ç¬¬1ï¼Œå¾ˆå¤šæ•°æ®åˆ†æžå¸ˆçš„åˆ†æžå·¥ä½œå…¶å®žå……æ»¡äº†ä¸»è§‚åˆ¤æ–­ï¼Œæ¯«æ— ç§‘å­¦æ€§å¯è¨€ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘åœ¨æŸä¸Šå¸‚æ¸¸æˆå…¬å¸çš„æ•°æ®éƒ¨é—¨ä¸Šç­æ—¶ï¼Œå‘çŽ°ä»–ä»¬çš„æ•°æ®åˆ†æžæŠ¥å‘Šä»Žæ¥ä¸ä¼šä½¿ç”¨å‡è®¾æ£€éªŒï¼Œé‡è¦å†³ç­–åªé€šè¿‡ç”»å›¾å¯»æ‰¾ç›¸å…³æ€§åŽâ€œä¸»è§‚åˆ¤æ–­â€ã€‚æ•°æ®åˆ†æžå…¶å®žæ˜¯ä¸ªæœ‰ç€ä¸¥æ ¼ç§‘å­¦åŸºç¡€çš„å·¥ä½œï¼Œä¸“ä¸šçš„æ•°æ®ç§‘å­¦å®¶ä¼šè®©å›¢é˜Ÿçš„æ•°æ®å†³ç­–æ›´åŠ å‡†ç¡®ã€‚ ç¬¬2ï¼Œå¤§æ•°æ®çš„å…´èµ·ï¼Œè®©æ•°æ®åˆ†æžå·¥ä½œä»Žä¼ ç»Ÿçš„ excel å°±èƒ½è§£å†³å˜æˆå¿…é¡»ä¾èµ–é«˜å¼ºåº¦çš„ç¼–ç¨‹èƒ½åŠ›å’Œæ•°å­¦èƒ½åŠ›ã€‚ æ•°æ®ç§‘å­¦å®¶æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š é«˜å­¦åŽ† å¼ºå¤§çš„æ•°å­¦å’Œç»Ÿè®¡å­¦èƒ½åŠ› äº†è§£æœºå™¨å­¦ä¹ ã€NLP ç­‰æ–°å…´\bæ•°æ®åˆ†æžé¢†åŸŸçš„æƒ…å†µ å¼ºå¤§çš„ï¼ˆæ•°å­¦ï¼‰ç¼–ç¨‹æ°´å¹³ ç›¸æ¯”äºŽæ•°æ®åˆ†æžå¸ˆï¼Œæ•°æ®ç§‘å­¦å®¶å¯èƒ½ä¸æ˜¯é‚£ä¹ˆæ‡‚ä¸šåŠ¡ã€‚ç›¸æ¯”äºŽæ•°æ®å·¥ç¨‹å¸ˆï¼Œæ•°æ®ç§‘å­¦å®¶åˆä¸æ˜¯é‚£ä¹ˆæ‡‚æ•°æ®åº“ã€APIã€‚ \b ä¸‰ä¸ªè§’è‰²çš„éœ€æ±‚æ•°æ®åˆ†æžå¸ˆï¼šå¤§ä¸­å°åž‹å›¢é˜Ÿéƒ½éœ€è¦çš„è§’è‰²æ•°æ®å·¥ç¨‹å¸ˆï¼šå¤§åž‹å›¢é˜Ÿéœ€è¦æ•°æ®ç§‘å­¦å®¶ï¼šå¤§åž‹å›¢é˜Ÿéœ€è¦ æˆ‘äº†è§£çš„ç¾Žå›½æŸè‘—åæ¸¸æˆå…¬å¸çš„æƒ…å†µï¼š æ¯ä¸€ä¸ªé¡¹ç›®é‡Œéƒ½æœ‰æ•°æ®åˆ†æžå¸ˆï¼Œä¸“é—¨è´Ÿè´£è¿™ä¸ªé¡¹ç›®çš„åˆ†æžå·¥ä½œå’Œå†³ç­–æ”¯æŒ æ•°æ®å·¥ç¨‹å¸ˆå’Œæ•°æ®ç§‘å­¦å®¶ï¼Œä¸è·Ÿéšé¡¹ç›®èµ°ï¼Œåœ¨é¡¹ç›®éœ€è¦çš„æ—¶å€™æä¾›å·¥ç¨‹æ”¯æŒå’Œç†è®ºæ”¯æŒ å·¥ä½œåœºæ™¯ä¸¾ä¾‹ï¼š æ•°æ®åˆ†æžå¸ˆï¼šæ—¥å¸¸åˆ†æžéœ€æ±‚ã€æ•°æ®åˆ†æžæŠ¥å‘Š æ•°æ®å·¥ç¨‹å¸ˆï¼šåˆ†æžå¸ˆæƒ³è¦å¢žåŠ 10ä¸ªåŸ‹ç‚¹ï¼Œå·¥ç¨‹å¸ˆæ»¡è¶³è¿™ä¸ªéœ€æ±‚ æ•°æ®ç§‘å­¦å®¶ï¼šå®¡æŸ¥æ•°æ®åˆ†æžå¸ˆçš„åˆ†æžæŠ¥å‘Šæ˜¯å¦ç¬¦åˆç§‘å­¦è§„èŒƒ å¯¹æœ€é¡¶çº§çš„å…¬å¸ï¼Œç«žäº‰çš„æ ¸å¿ƒç‚¹å…¶å®žæ˜¯æ•°æ®ç§‘å­¦å®¶ã€‚ä¸€ä¸ªå¼ºå¤§çš„æ•°æ®ç§‘å­¦å®¶å›¢é˜Ÿï¼Œå¯ä»¥è®©æ•°æ®å†³ç­–çš„ç²¾å‡†åº¦å¾—åˆ°å·¨å¤§æé«˜ã€‚å› ä¸ºï¼Œæ•°æ®ç§‘å­¦å®¶å¯ä»¥æŠŠç»“è®ºç”¨æ¦‚çŽ‡çš„å½¢å¼ç§‘å­¦çš„è¡¨ç¤ºå‡ºæ¥ã€‚ï¼ˆä¹Ÿè®¸æŸäº›æ•°æ®åˆ†æžå¸ˆä¹Ÿå¯ä»¥ï¼Œä½†æˆ‘ä¸æ•¢ä¿¡ä»–ä»¬å•Šï¼‰ã€‚ å¦‚æžœæ²¡æœ‰æ•°æ®ç§‘å­¦å®¶ï¼Œå¾ˆæœ‰å¯èƒ½å‡ºçŽ°ä¸¤ç§æƒ…å†µï¼š æ•°æ®åˆ†æžå¸ˆç»™å‡ºè´¨é‡æ— æ³•ä¿è¯çš„æ•°æ®åˆ†æžç»“æžœ å›¢é˜Ÿä¾é â€œæ•°æ®å¯è§†åŒ–â€çš„å›¾åƒåšå‡ºâ€œçŒœæµ‹â€ ä»€ä¹ˆå«â€œå›¢é˜Ÿä¾é å›¾åƒåšå‡ºçŒœæµ‹â€å‘¢ï¼Ÿä¸¾ä¸ªè®©æˆ‘å°è±¡æ·±åˆ»çš„ä¾‹å­å§ã€‚åœ¨æ¸¸æˆå…¬å¸ä¸Šç­æ—¶ï¼Œé¡¹ç›®è´Ÿè´£äººæ‹‰æ•°æ®ä¹‹åŽç”»ä¸¤ä¸ªæŠ˜çº¿å›¾ï¼Œå‘çŽ°ä¸¤è€…éƒ½æœ‰å‘ä¸Šçš„è¶‹åŠ¿ï¼ŒäºŽæ˜¯æŽ¨æµ‹å‡ºä¸¤è€…æ­£ç›¸å…³ï¼Œè¿›è€Œå¾—å‡ºäº†ä¸€ä¸ªè¡ŒåŠ¨ä¾æ®ã€‚åœ¨æ‡‚æ•°æ®åˆ†æžçš„äººçœ‹æ¥ï¼Œè¿™å¤§æ¦‚è·Ÿâ€œå¤œè§‚å¤©è±¡â€çš„é è°±ç¨‹åº¦å·®ä¸å¤šå§ã€‚ä¸€ä¸ªæ•°æ®ç§‘å­¦å®¶ä¼šåœ¨è¿™ä¸ªé—®é¢˜ä¸Šç»™å‡ºä¸¥è°¨çš„æ•°å­¦å…¬å¼ã€ç¼–ç¨‹è®¡ç®—å’Œç»“æžœæŠ¥å‘Šï¼Œè¿™å°±æ˜¯æ•°æ®ç§‘å­¦å®¶çš„ä»·å€¼ã€‚ ä½†æ˜¯ï¼Œåªæœ‰åœ¨å°Šé‡ç§‘å­¦çš„å…¬å¸ï¼Œæ•°æ®ç§‘å­¦å®¶çš„å£°éŸ³æ‰ä¼šè¢«é‡è§†ã€‚è¿™å¯èƒ½ä¹Ÿæ˜¯ç¡…è°·æ‰æœ‰è¿™ä¹ˆå¤šæ•°æ®ç§‘å­¦å®¶å²—ä½çš„åŽŸå› å§å•Šã€‚ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"æ•°æ®ç§‘å­¦","slug":"æ•°æ®ç§‘å­¦","permalink":"https://yupototo.github.io/blog/categories/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6/"}],"tags":[]},{"title":"ç»Ÿè®¡æŽ¨æ–­ä¹‹ anova","slug":"stat_11_anova","date":"2019-01-01T02:49:45.000Z","updated":"2020-02-03T17:14:34.351Z","comments":true,"path":"2019/01/01/stat_11_anova/","link":"","permalink":"https://yupototo.github.io/blog/2019/01/01/stat_11_anova/","excerpt":"T æ£€éªŒç”¨æ¥æ£€éªŒ1ç»„æˆ–2ç»„æ€»ä½“çš„å‡å€¼å·®å¼‚ï¼Œä½†ä¸èƒ½ç”¨æ¥æ£€éªŒ3ç»„æˆ–æ›´å¤šæ€»ä½“çš„å‡å€¼å·®å¼‚ã€‚ æƒ³è¦æ£€éªŒ3ç»„æˆ–æ›´å¤šæ€»ä½“çš„å·®å¼‚ï¼Œæˆ‘ä»¬éœ€è¦ anovaï¼šanalysis of varianceã€‚ è¿™ç¯‡æ–‡ç« ä»‹ç»å¦‚ä½•ç”¨ R åš anovaã€‚ \b","text":"T æ£€éªŒç”¨æ¥æ£€éªŒ1ç»„æˆ–2ç»„æ€»ä½“çš„å‡å€¼å·®å¼‚ï¼Œä½†ä¸èƒ½ç”¨æ¥æ£€éªŒ3ç»„æˆ–æ›´å¤šæ€»ä½“çš„å‡å€¼å·®å¼‚ã€‚ æƒ³è¦æ£€éªŒ3ç»„æˆ–æ›´å¤šæ€»ä½“çš„å·®å¼‚ï¼Œæˆ‘ä»¬éœ€è¦ anovaï¼šanalysis of varianceã€‚ è¿™ç¯‡æ–‡ç« ä»‹ç»å¦‚ä½•ç”¨ R åš anovaã€‚ \b åŽŸå‡è®¾å’Œæ¨¡åž‹å‰æAnova çš„åŽŸå‡è®¾å’Œå¤‡æ‹©å‡è®¾åˆ†åˆ«æ˜¯ï¼š H0:å„ä¸ªç»„çš„å‡å€¼ä¸€æ ·Ha:è‡³å°‘ä¸€ç»„çš„å‡å€¼è·Ÿå…¶ä»–ç»„ä¸ä¸€æ · Anova éœ€è¦æ»¡è¶³å¦‚ä¸‹å‰æï¼š éšæœºæŠ½æ · æ€»ä½“ç¬¦åˆæ­£æ€åˆ†å¸ƒ å„ä¸ªæ€»ä½“åŒåå·® æ¡ˆä¾‹æŸå¸‚é¤é¥®åä¼šæƒ³è°ƒæŸ¥æœ¬å¸‚ä¸åŒç±»åž‹é¤é¦†çš„ä»·æ ¼æ°´å¹³ï¼Œé”å®šäº†3ç§é¤é¦†ï¼š ä¸­é¤ è¥¿é¤ æ—¥å¼æ–™ç† è¯¥åä¼šéšæœºæŠ½æ ·äº†è‹¥å¹²é¤é¦†ï¼Œå¹¶è°ƒæŸ¥äº†äººå‡æ¶ˆè´¹ï¼Œç»“æžœå¦‚ä¸‹ï¼š ä¸­é¤ è¥¿é¤ æ—¥å¼æ–™ç† 12 16 24 13 18 19 15 17 23 17 26 25 18 23 21 20 15 22 17 19 27 24 18 31 æ•°æ®å…ˆæŠŠæ•°æ®æ•´ç†æˆéœ€è¦çš„å½¢å¼ï¼š 12345678910chinese_food &lt;- c(12, 13, 15, 17, 18, 20, 17, 24)western_food &lt;- c(16, 18, 17, 26, 23, 15, 19, 18)japanese_food &lt;- c(24, 19, 23, 25, 21, 22, 27, 31)price_vec &lt;- c(chinese_food, western_food, japanese_food)group_vec &lt;- c(rep('chinese', length(chinese_food)), rep('western', length(western_food)), rep('japanese', length(japanese_food)))df &lt;- data.frame(price = price_vec, group = group_vec) æŸ¥çœ‹å‡å€¼å’Œæ–¹å·®ç¬¬ä¸€ä»¶äº‹æƒ…æ˜¯æŸ¥çœ‹å„ä¸ªç»„çš„å‡å€¼å’Œæ–¹å·®ï¼š 1234df %&gt;% group_by(group) %&gt;% summarize(mean = mean(price), sd = sd(price)) group mean sd chinese 17 3.854496 japanese 24 3.741657 western 19 3.703280 å¯è§†åŒ–ç„¶åŽå¯ä»¥æŠŠä¸‰ä¸ªç»„çš„åˆ†å¸ƒç”¨ boxplot å±•ç¤ºï¼š 1234ggplot(df, aes(x = group, y = price)) + geom_boxplot() + theme_classic(14) + xlab('') \b \banovaæœ€åŽæ˜¯åš anova åˆ†æžï¼ˆæˆ‘ä»¬è¿™é‡Œçœç•¥äº† anova å‡è®¾æ˜¯å¦æ»¡è¶³çš„åˆ¤æ–­ï¼‰ã€‚ 12fit &lt;- aov(price ~ group, data = df)summary(fit) ç»“æžœå¦‚ä¸‹ï¼š Df Sum Sq Mean Sq F value Pr(&gt;F) group 2 208 104.00 7.329 0.00385 **Residuals 21 298 14.19 ---Signif. codes: 0 â€˜***â€™ 0.001 â€˜**â€™ 0.01 â€˜*â€™ 0.05 â€˜.â€™ 0.1 â€˜ â€™ 1 å¯ä»¥çœ‹åˆ° p-value = 0.00385ï¼Œå°äºŽ0.01ï¼Œæˆ‘ä»¬å¯ä»¥æ‹’ç»åŽŸå‡è®¾ã€‚ pairwise comparisonæˆ‘ä»¬æŽ¥å—äº†å¤‡æ‹©å‡è®¾ï¼šè‡³å°‘ä¸€ç»„çš„å‡å€¼è·Ÿå…¶ä»–ç»„ä¸ä¸€æ ·ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼š\bä¸¤ç»„ä¹‹é—´çš„å…³ç³»æ˜¯æ€Žæ ·çš„å‘¢ï¼Ÿä¸€å…±æœ‰ä¸‰ä¸ªç»„ï¼Œå­˜åœ¨ä¸‰ä¸ªé…å¯¹å…³ç³»ï¼š ä¸­é¤ vs. è¥¿é¤ ä¸­é¤ vs. æ—¥å¼æ–™ç† æ—¥å¼æ–™ç† vs. è¥¿é¤ æˆ‘ä»¬ç¡®å®šäº†è‡³å°‘ä¸€ç»„çš„å‡å€¼æœ‰å·®åˆ«ï¼ŒçŽ°åœ¨æˆ‘ä»¬æƒ³æ˜Žç¡®çŸ¥é“åˆ°åº•æ˜¯å“ªäº›ç»„å­˜åœ¨å‡å€¼å·®å¼‚ã€‚ è¿™æ—¶å¯ä»¥ä½¿ç”¨ Tukeyâ€™s testï¼š 1TukeyHSD(fit) ç»“æžœï¼š Tukey multiple comparisons of means 95% family-wise confidence levelFit: aov(formula = price ~ group, data = df)$group diff lwr upr p adjjapanese-chinese 7 2.252475 11.7475254 0.0035046western-chinese 2 -2.747525 6.7475254 0.5474395western-japanese -5 -9.747525 -0.2524746 0.0378404 ä¸Šé¢å±•ç¤ºäº†æ¯ä¸€ç»„ä¹‹é—´çš„å…³ç³»ï¼š diff æ˜¯ä¸¤ç»„ä¹‹é—´çš„å‡å€¼å·®å¼‚ lwr å’Œ upr åˆ†åˆ«æ˜¯ç½®ä¿¡åŒºé—´çš„ä¸Šé™å’Œä¸‹é™ p adj æ˜¯ p å€¼ å¯ä»¥çœ‹åˆ°ç¬¬1ç»„å’Œç¬¬3ç»„çš„ p å€¼éƒ½å°äºŽ0.05ï¼Œè¯´æ˜Žå­˜åœ¨ä¸¤ç»„å·®å¼‚ï¼š æ—¥å¼æ–™ç† vs ä¸­é¤ æ—¥å¼æ–™ç† vs è¥¿é¤ æˆ‘ä¸å–œæ¬¢çœ‹ä¸Šé¢é‚£æ ·çš„è¡¨æ ¼ï¼Œä¿¡æ¯èŽ·å–çš„éš¾åº¦æœ‰ç‚¹å¤§ã€‚ TukeyHSDè¿”å›žçš„å¯¹è±¡å¯ä»¥ç”¨plotæ–¹æ³•åšå›¾ã€‚ æˆ‘æ›´å–œæ¬¢ ggplot ç”Ÿæˆçš„å›¾ç‰‡ï¼Œä¸‹é¢æ˜¯ç”¨ ggplot åšå›¾çš„ä»£ç ï¼š 123456789101112131415161718192021222324# æ¸…ç†æ•°æ®pair_test &lt;- TukeyHSD(fit)pair_test_df &lt;- as.data.frame(pair_test$group)pari_test_df_2 &lt;- pair_test_df %&gt;% rename(p_value = `p adj`) %&gt;% mutate(pair = row.names(.)) %&gt;% mutate(sig = cut(p_value, c(0, 0.05, 1), label=c(\"p&lt;0.05\",\"Non-Sig\")))# åšå›¾ggplot(pari_test_df_2, aes(color = sig)) + geom_hline(yintercept=0, lty=\"11\", colour=\"grey30\") + geom_errorbar(aes(pair, ymin=lwr, ymax=upr), width=0.2) + geom_point(aes(pair, diff)) + coord_flip() + labs(colour = NULL, x = NULL, y = \"å‡å€¼å·®\", title = '95% ç½®ä¿¡åŒºé—´') + theme_classic(16) + theme(plot.title = element_text(hjust = 0.5), text=element_text(family=\"Songti TC Regular\"), legend.position = 'top') ç”Ÿæˆå›¾ç‰‡å¦‚ä¸‹ï¼š \b è¿™ä¸ªå›¾ç‰‡å°±èƒ½æ¸…æ™°åœ°çœ‹åˆ°ç½®ä¿¡åŒºé—´å’Œ p å€¼ã€‚ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"ç»Ÿè®¡å­¦","slug":"ç»Ÿè®¡å­¦","permalink":"https://yupototo.github.io/blog/categories/%E7%BB%9F%E8%AE%A1%E5%AD%A6/"}],"tags":[{"name":"R","slug":"R","permalink":"https://yupototo.github.io/blog/tags/R/"},{"name":"Statistics","slug":"Statistics","permalink":"https://yupototo.github.io/blog/tags/Statistics/"}]},{"title":"Python OOP ä¹‹ Property","slug":"coding-6-python-property","date":"2018-12-20T01:54:12.000Z","updated":"2020-02-03T17:14:34.335Z","comments":true,"path":"2018/12/20/coding-6-python-property/","link":"","permalink":"https://yupototo.github.io/blog/2018/12/20/coding-6-python-property/","excerpt":"ä»Šå¤©å­¦ä¹  Python OOP ç¼–ç¨‹çš„ä¸€ä¸ª interfaceï¼špropertyã€‚ OOP ç¼–ç¨‹æœ‰ä¸¤ä¸ªå¸¸ç”¨çš„æ¦‚å¿µï¼šgetter å’Œ setterã€‚Property è£…é¥°å™¨æ˜¯ Python å®žçŽ° getter å’Œ setter çš„æ–¹å¼ã€‚ è¿™ç¯‡æ–‡ç« ç”¨ä¸€ä¸ªä¾‹å­è¯´æ˜Žå¦‚ä½•ä½¿ç”¨ propertyã€‚ \b","text":"ä»Šå¤©å­¦ä¹  Python OOP ç¼–ç¨‹çš„ä¸€ä¸ª interfaceï¼špropertyã€‚ OOP ç¼–ç¨‹æœ‰ä¸¤ä¸ªå¸¸ç”¨çš„æ¦‚å¿µï¼šgetter å’Œ setterã€‚Property è£…é¥°å™¨æ˜¯ Python å®žçŽ° getter å’Œ setter çš„æ–¹å¼ã€‚ è¿™ç¯‡æ–‡ç« ç”¨ä¸€ä¸ªä¾‹å­è¯´æ˜Žå¦‚ä½•ä½¿ç”¨ propertyã€‚ \b \bä¸šåŠ¡ä»£ç  v1èƒŒæ™¯ï¼šåˆå‡ºèŒ…åºçš„ä½ ï¼Œåœ¨ä¸ºå…¬å¸å†™ä¸€ä¸ªè®°å½•å‘˜å·¥ä¿¡æ¯çš„ç³»ç»Ÿã€‚ ç¬¬1ç‰ˆç³»ç»Ÿé‡Œéœ€è¦è®°å½•å‘˜å·¥çš„å§“åå’Œæ”¶å…¥ã€‚ å‘˜å·¥å¯ä»¥ç”¨ä¸€ä¸ª class è¡¨ç¤ºï¼Œæ¯ä¸ª instance éƒ½åŒ…å«å‘˜å·¥çš„å§“åå’Œæ”¶å…¥ã€‚ åˆæ­¥æŽŒæ¡ OOP ç¼–ç¨‹çš„ä½ ï¼Œå¾ˆå¿«å®Œæˆäº†ç¬¬1ç‰ˆä»£ç ï¼š 1234567891011121314class Person(): def __init__(self, name, income): self.name = name self.income = income def __repr__(self): return f'Person {self.name} with income {self.income}'Tom = Person(name = 'Tom', income = 3000)print(Tom) # Person Tom with income 3000Tom.income = 5000print(Tom.income) # 5000 ç„¶åŽè€æ¿æå‡ºäº†ä¸€ä¸ªéœ€æ±‚ï¼šæˆ‘ä»¬æ˜¯ç¤¾ä¼šä¸»ä¹‰å›½å®¶çš„ä¼ä¸šï¼Œä¸ºäº†ä½“çŽ°ç¤¾ä¼šä¸»ä¹‰çš„å…ˆè¿›æ€§ï¼Œå‘˜å·¥å·¥èµ„åªèƒ½å¢žåŠ ï¼Œä¸èƒ½å‡å°‘ï¼Œä½ è¦æŠŠè¿™ä¸ªç‰¹ç‚¹å†™åˆ°ç³»ç»Ÿé‡Œã€‚ è¿™ä¸ªç¥žå¥‡çš„éœ€æ±‚å½“ç„¶å¾ˆå®¹æ˜“å®žçŽ°ï¼Œä¸éœ€è¦ä¿®æ”¹ Person è¿™ä¸ªå¯¹è±¡çš„ä»£ç ï¼Œåªéœ€è¦åœ¨å®¢æˆ·ç«¯ç”¨ POST æ–¹æ³•ä¿®æ”¹å·¥èµ„æ—¶åšä¸€ä¸ªæ¡ä»¶åˆ¤æ–­ï¼Œè¿™ä¸ªéœ€æ±‚å¤§æ¦‚åªéœ€è¦3åˆ†é’Ÿå®Œæˆã€‚ å¯æ˜¯ï¼Œä½ ä»”ç»†æ€è€ƒäº†è€æ¿çš„è¯ï¼Œå¦‚æžœåªæ˜¯åœ¨ Restful API ä¸Šåšæ£€æŸ¥ï¼Œå²‚ä¸åªæ˜¯â€œè¡¨é¢æ–‡ç« â€ï¼Œç¤¾ä¼šä¸»ä¹‰çš„å…ˆè¿›æ€§ï¼Œéš¾é“ä¸æ˜¯åº”è¯¥ä½“çŽ°åœ¨ object å±‚é¢å—ï¼Ÿ äºŽæ˜¯ï¼Œä½ å†³å®šå®žçŽ°ä¸€ä¸ªåŠŸèƒ½ï¼šä¿®æ”¹ income æ—¶ï¼Œå¦‚æžœ income ä¸å¢žåŠ ï¼Œä¼šæŠ¥é”™ã€‚ æµ‹è¯•é€»è¾‘é™¤äº†å®žçŽ°è€æ¿çš„éœ€æ±‚å¤–ï¼Œä½ è¿˜æœ‰å¦ä¸€ä¸ªè¿½æ±‚ï¼šä½ å¸Œæœ› Person å¯¹è±¡çš„ API ä¸ä¼šæ”¹å˜ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ–°ç‰ˆæœ¬çš„ Person å¯¹è±¡ä¼šå®žçŽ°å¯¹ä½Žç‰ˆæœ¬çš„å…¼å®¹ã€‚ å®Œæˆæ–°çš„PersonåŽï¼Œä½ è¦åšä¸¤ä¸ªæµ‹è¯•ã€‚ ç¬¬1ä¸ªæµ‹è¯•ï¼š 12345Tom = Person(name = 'Tom', income = 3000)print(Tom) # Person Tom with income 3000Tom.income = 5000print(Tom.income) # 5000 ä¸Šé¢è¿™æ®µä»£ç çš„è¿è¡Œç»“æžœï¼Œè¦è·Ÿç¬¬1ä¸ªç‰ˆæœ¬ä¸€æ ·ã€‚ ç¬¬2ä¸ªæµ‹è¯•ï¼š 123Tom = Person(name = 'Tom', income = 3000)Tom.income = 1000 åœ¨è¿è¡Œåˆ°Tom.income = 1000æ—¶ï¼Œä¼šæŠ¥é”™ã€‚ ä¸šåŠ¡ä»£ç  v2ç„¶åŽï¼Œä½ å¼€å§‹ç ”ç©¶æ€Žä¹ˆå®žçŽ°æ–°çš„éœ€æ±‚ã€‚èªæ˜Žçš„ä½ å¾ˆå¿«å‘çŽ°ï¼ŒProperty æ˜¯å®žçŽ°ä¸Šè¿°éœ€æ±‚çš„å¥½æ–¹æ³•ã€‚ æ–°ç‰ˆæœ¬ä»£ç å¦‚ä¸‹ï¼š 1234567891011121314151617class Person(): def __init__(self, name, income): self.name = name self._income = income #ç¬¬4è¡Œ @property #ç¬¬6è¡Œ def income(self): return self._income @income.setter #ç¬¬10è¡Œ def income(self, value): if value &lt; self.income : raise ValueError(\"æ”¶å…¥ä¸èƒ½å‡å°‘\") self._income = value def __repr__(self): return f'Person {self.name} with incom {self.income}' æˆ‘ä»¬ä¾æ¬¡æŸ¥çœ‹è¿™æ®µä»£ç é‡Œçš„æ–°ä¸œè¥¿ã€‚ ç¬¬4è¡Œï¼šself._income = incomeè¿™é‡Œç”¨ _ è¡¨ç¤º private variableã€‚ Python å…¶å®žæ²¡æœ‰çœŸæ­£çš„ private variableã€‚ä¸‹é¢è¿™æ®µä»£ç ä¼šæ­£å¸¸è¿”å›ž _incomeã€‚ 1234567class Person(): def __init__(self, name, income): self.name = name self._income = income Tom = Person(name='Tom', income = 3000)print(Tom._income) # æ‰“å°å‡º 3000 ä½¿ç”¨ _ è¡¨ç¤º private variableï¼Œå…¶å®žæ˜¯ä¸€ç§çº¦å®šä¿—æˆã€‚Python æœ‰éžå¸¸å¤šçš„çº¦å®šä¿—æˆï¼Œæ¯”å¦‚ class é‡Œçš„selfï¼Œå…¶å®žä¹Ÿå¯ä»¥ç”¨å…¶ä»–å­—æ®µä»£æ›¿ã€‚ ç¬¬6è¡Œï¼š@property@property è£…é¥°å™¨æŠŠ income å˜æˆäº†ä¸€ä¸ª getterã€‚ 12345# ....çœç•¥ class çš„ä»£ç Tom = Person(name='Tom', income = 3000)print(Tom.income) # æ‰“å°å‡º 3000 æ­¤æ—¶æˆ‘ä»¬ä¸éœ€è¦ä½¿ç”¨Tom._incomeï¼Œåªéœ€è¦åƒç¬¬1ç‰ˆä¸€æ ·ç”¨Tom.incomeå°±èƒ½èŽ·å– _incomeçš„å†…å®¹ã€‚ å¦‚æžœæ²¡æœ‰@propertyè£…é¥°å™¨ï¼Œincomeå°±å˜æˆäº†ä¸€ä¸ªæ–¹æ³•ï¼Œåªèƒ½ç”¨Tom.income()çš„æ–¹å¼è°ƒç”¨ã€‚ ç¬¬10è¡Œï¼š@income.setterè¿™æ˜¯ setter è£…é¥°å™¨ï¼ŒæŠŠä¸‹é¢çš„å‡½æ•°å˜æˆäº† income çš„ setterã€‚ setter è¿™ä¸ªåç§°å¾ˆç›´è§‚ï¼Œæˆ‘ä»¬ä¼šåœ¨æ»¡è¶³æ¡ä»¶åŽè®¾ç½® income çš„å€¼ã€‚ åœ¨ä¹‹åŽçš„å‡½æ•°é‡Œï¼Œæˆ‘ä»¬æ£€æŸ¥äº†æ–°çš„å€¼æ˜¯å¦å°äºŽåŽŸå…ˆçš„ incomeï¼Œå¦‚æžœä¸æ»¡è¶³æ¡ä»¶ï¼Œæˆ‘ä»¬å°± raise ä¸€ä¸ªé”™è¯¯ã€‚ å°ç»“ä¸€é¡¿æ“ä½œåŽï¼Œç¬¬2ç‰ˆçš„ä¸šåŠ¡ä»£ç ä½¿ç”¨ property å®žçŽ°äº†è€æ¿çš„éœ€æ±‚å’Œ API çš„å…¼å®¹ã€‚éžå¸¸å®Œç¾Žã€‚ å‚è€ƒ Geeksforgeeks: Python | property() function Programiz : Python @property document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"Coding","slug":"Coding","permalink":"https://yupototo.github.io/blog/categories/Coding/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://yupototo.github.io/blog/tags/Python/"}]},{"title":"çº¿æ€§å›žå½’çš„å‡è®¾","slug":"stat_10_lm_assumption","date":"2018-12-16T12:56:06.000Z","updated":"2020-02-03T17:14:34.351Z","comments":true,"path":"2018/12/16/stat_10_lm_assumption/","link":"","permalink":"https://yupototo.github.io/blog/2018/12/16/stat_10_lm_assumption/","excerpt":"æ•°æ®å¯ä»¥éª—äººï¼Œè¿™ä¸ªé“ç†å¤§å®¶éƒ½çŸ¥é“ã€‚æˆ‘å°è±¡æœ€æ·±çš„ç»åŽ†æ˜¯ï¼šåŒäº‹ç»™äº†ä¸€ä¸ªåŸºäºŽ linear regression çš„ç ”ç©¶æŠ¥å‘Šï¼Œä½†æŠ¥å‘Šå®Œå…¨æ²¡æœ‰å¯¹çº¿æ€§å›žå½’çš„å‡è®¾åšä»»ä½•è¯Šæ–­ã€‚ä¸åšå‡è®¾æ£€éªŒçš„åˆ†æžæŠ¥å‘Šåœ¨å¤§å­¦ä½œä¸šé‡Œä¼šè¢«åˆ¤æ–­ä¸ºä¸åŠæ ¼ã€‚ ä½†è¿™ä»½æŠ¥å‘Šåœ¨ä¸šåŠ¡éƒ¨é—¨ä¸­ä¼ é˜…ï¼Œæˆä¸ºäº†äº§å“çš„å†³ç­–ä¾æ®ã€‚è¿™æ˜¯ä¸€ä¸ªä¸Šå¸‚å…¬å¸ï¼ŒæŠ¥å‘Šåˆ†æžçš„äº§å“ä¹Ÿæ˜¯å…¬å¸çš„çŽ°é‡‘ç‰›äº§å“ã€‚ ç³Ÿç³•çš„æ•°æ®åˆ†æžï¼Œæœ€å¥½çš„ç»“æžœæ˜¯æµªè´¹äº†å¤§å®¶çš„æ—¶é—´ï¼Œæœ€åçš„ç»“æžœæ˜¯æŒ‡å¯¼å†³ç­–è€…åšå‡ºé”™è¯¯çš„å†³ç­–ã€‚ è¿™ç¯‡æ–‡ç« å°ç»“ä¸€ä¸‹ linear regression çš„å‡ ä¸ªæ ¸å¿ƒå‡è®¾ï¼Œå°±å½“æ˜¯å¤§å­¦çŸ¥è¯†çš„ä¸€æ¬¡å¤ä¹ ã€‚ \b\b\b\b\b","text":"æ•°æ®å¯ä»¥éª—äººï¼Œè¿™ä¸ªé“ç†å¤§å®¶éƒ½çŸ¥é“ã€‚æˆ‘å°è±¡æœ€æ·±çš„ç»åŽ†æ˜¯ï¼šåŒäº‹ç»™äº†ä¸€ä¸ªåŸºäºŽ linear regression çš„ç ”ç©¶æŠ¥å‘Šï¼Œä½†æŠ¥å‘Šå®Œå…¨æ²¡æœ‰å¯¹çº¿æ€§å›žå½’çš„å‡è®¾åšä»»ä½•è¯Šæ–­ã€‚ä¸åšå‡è®¾æ£€éªŒçš„åˆ†æžæŠ¥å‘Šåœ¨å¤§å­¦ä½œä¸šé‡Œä¼šè¢«åˆ¤æ–­ä¸ºä¸åŠæ ¼ã€‚ ä½†è¿™ä»½æŠ¥å‘Šåœ¨ä¸šåŠ¡éƒ¨é—¨ä¸­ä¼ é˜…ï¼Œæˆä¸ºäº†äº§å“çš„å†³ç­–ä¾æ®ã€‚è¿™æ˜¯ä¸€ä¸ªä¸Šå¸‚å…¬å¸ï¼ŒæŠ¥å‘Šåˆ†æžçš„äº§å“ä¹Ÿæ˜¯å…¬å¸çš„çŽ°é‡‘ç‰›äº§å“ã€‚ ç³Ÿç³•çš„æ•°æ®åˆ†æžï¼Œæœ€å¥½çš„ç»“æžœæ˜¯æµªè´¹äº†å¤§å®¶çš„æ—¶é—´ï¼Œæœ€åçš„ç»“æžœæ˜¯æŒ‡å¯¼å†³ç­–è€…åšå‡ºé”™è¯¯çš„å†³ç­–ã€‚ è¿™ç¯‡æ–‡ç« å°ç»“ä¸€ä¸‹ linear regression çš„å‡ ä¸ªæ ¸å¿ƒå‡è®¾ï¼Œå°±å½“æ˜¯å¤§å­¦çŸ¥è¯†çš„ä¸€æ¬¡å¤ä¹ ã€‚ \b\b\b\b\b LMçš„å‡è®¾ çº¿æ€§å…³ç³» è‡ªå˜é‡ä¹‹é—´ä¸å…·æœ‰å¤šé‡å…±çº¿æ€§ æ‰°åŠ¨é¡¹ç¬¦åˆæ­£æ€åˆ†å¸ƒ åŒæ–¹å·® æ²¡æœ‰è‡ªç›¸å…³ï¼šè¿™ç§æƒ…å†µåœ¨éžæ—¶é—´åºåˆ—é‡Œå¾ˆå°‘è§ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸è®¨è®ºäº† 1. çº¿æ€§å…³ç³»ç¬¬ä¸€ä¸ªå‡è®¾æœ€ç›´æŽ¥ï¼š\b\b\bè‡ªå˜é‡å’Œå› å˜é‡ä¹‹é—´æ˜¯çº¿æ€§å…³ç³»ã€‚ åä¾‹ï¼šy = a + b * x ^ 3ï¼Œè¿™é‡Œçš„ y å’Œ x å°±ä¸æ˜¯çº¿æ€§å…³ç³»ã€‚ åšä¸€å…ƒå›žå½’æ—¶ï¼Œæ•£ç‚¹å›¾å¯ä»¥æ­ç¤ºè‡ªå˜é‡ä¸Žå› å˜é‡ä¹‹é—´çš„å…³ç³»ã€‚ å¦‚æžœæ˜¯å¤šå…ƒå›žå½’ï¼Œå¯ä»¥ä½¿ç”¨ R çš„ lm å¯¹è±¡è‡ªå¸¦çš„ plot å‡½æ•°ã€‚å‡½æ•°è¿”å›žçš„ç¬¬1ä¸ªå›¾ç‰‡ï¼šResiduals vs Fitted èƒ½å¤Ÿç”¨æ¥æ£€æŸ¥çº¿æ€§å‡è®¾ã€‚ æˆ‘ä»¬æ¨¡æ‹Ÿæ•°æ®å¹¶ç¤ºä¾‹å¦‚ä¸‹ï¼š 12345678910111213141516size &lt;- 30x &lt;- rnorm(size, 15, 10)y1 &lt;- 3 + 5 * x + rnorm(size, 5, 3)y2 &lt;- 3 + 5 * x^3 + rnorm(size, 5, 3)fit_1 &lt;- lm(y1 ~ x)fit_2 &lt;- lm(y2 ~ x)p1 &lt;- autoplot(fit_1)p2 &lt;- autoplot(fit_2)p1_1 &lt;- p1[[1]] + ggtitle('æ»¡è¶³çº¿æ€§å‡è®¾') + theme(plot.title = element_text(size = 18))p2_1 &lt;- p2[[1]] + ggtitle('ä¸æ»¡è¶³çº¿å‡è®¾') + theme(plot.title = element_text(size = 18))ggarrange(p1_1, p2_1 + rremove('y.title'), ncol = 2, nrow = 1) æˆ‘ä½¿ç”¨äº† ggfortify åŒ…å¤„ç† lm çš„å›¾ç‰‡ï¼Œå¹¶ç”¨ ggpubr åŒ…æŠŠä¸¤ä¸ªæ¨¡åž‹çš„å›¾ç‰‡å¹¶åˆ—åœ¨ä¸€èµ·ã€‚ å›¾ç‰‡å¦‚ä¸‹ï¼š å½“æ¨¡åž‹æ»¡è¶³çº¿æ€§å‡è®¾æ—¶ï¼Œfitted value å’Œ residuals çš„å…³ç³»æŽ¥è¿‘ä¸€æ¡ç›´çº¿ï¼ˆå¦‚å·¦å›¾ï¼‰ï¼Œå³å›¾åˆ™æ˜Žæ˜¾ä¸æ˜¯ç›´çº¿ã€‚ 2. å¤šé‡å…±çº¿æ€§è¦æ±‚ï¼šè‡ªå˜é‡ä¹‹é—´æ²¡æœ‰è¿‡äºŽå¼ºçš„çº¿æ€§å…³ç³»ã€‚ æœ‰ä¸€äº›çº¿æ€§å…³ç³»æ˜¯æ²¡é—®é¢˜çš„ã€‚åœ¨ç ”ç©¶çŽ°å®žé—®é¢˜æ—¶ï¼Œæˆ‘ä»¬å¾ˆéš¾æ‰¾åˆ°å®Œå…¨æ²¡çº¿æ€§å…³ç³»çš„è‡ªå˜é‡ã€‚ æ¯”å¦‚ç ”ç©¶æ”¶å…¥çš„å½±å“å› ç´ ï¼Œæˆ‘ä»¬ä¼šè€ƒè™‘æ™ºå•†å’Œå­¦åŽ†ã€‚æ™ºå•†è¶Šé«˜ï¼Œè‡ªç„¶æ”¶å…¥è¶Šé«˜ï¼›å­¦åŽ†è¶Šé«˜ï¼Œå½“ç„¶æ”¶å…¥ä¹Ÿè¶Šé«˜ã€‚å¯æ˜¯ï¼Œå­¦åŽ†ä¹ŸåŒæ—¶è·Ÿæ™ºå•†æœ‰çº¿æ€§å…³ç³»ã€‚è¿™ä¼šæ˜¯ä¸ªé—®é¢˜å—? åªè¦è¿™ä¸¤ä¸ªå˜é‡ä¸æ˜¯å®Œå…¨çš„çº¿æ€§å…³ç³»ï¼Œæˆ‘ä»¬å°±ä¸ç”¨æ‹…å¿ƒã€‚è¿™ä¸¤ä¸ªå› ç´ å½“ç„¶ä¸æ˜¯å®Œå…¨çº¿æ€§å…³ç³»ï¼Œé™¤äº†æ™ºå•†ä¹‹å¤–ï¼Œå®¶åº­æ¡ä»¶ã€è€ƒç”Ÿçš„æ‰€å¤„çœä»½ã€ä¸ªäººå…´è¶£ç­‰å› ç´ ä¹Ÿè·Ÿå­¦åŽ†æœ‰å·¨å¤§å…³ç³»ã€‚ æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹æ‰€æœ‰è‡ªå˜é‡ä¹‹é—´çš„ç›¸å…³æ€§ã€‚ggplot ç”Ÿæ€é‡Œæœ‰ä¸ªéžå¸¸å¥½ç”¨çš„ ggcorrplot åŒ…ï¼š 1234567library(ggcorrplot)data(mtcars)corr &lt;- round(cor(mtcars), 1)ggcorrplot(corr, hc.order = TRUE, type = \"lower\", outline.col = \"white\", ggtheme = ggplot2::theme_gray, colors = c(\"#6D9EC1\", \"white\", \"#E46726\")) ç»“æžœå¦‚ä¸‹å›¾ï¼š å¦‚æžœæƒ³æ›´ä¸¥æ ¼åœ°æè¿°å¤šé‡å…±çº¿æ€§é—®é¢˜ï¼Œå¯ä»¥å‚è€ƒä¸€ä¸ªå« variance inflation factor çš„æŒ‡æ ‡ã€‚ 3. æ‰°åŠ¨é¡¹ç¬¦åˆæ­£æ€åˆ†å¸ƒæ‰°åŠ¨é¡¹ error term \b\b\bæ˜¯ä¸€ä¸ªç†è®ºæ¦‚å¿µï¼šæ²¡æœ‰è¢«è§‚å¯Ÿåˆ°çš„å½±å“å› ç´ ï¼Œéƒ½ç®—åœ¨æ‰°åŠ¨é¡¹é‡Œã€‚æ‰°åŠ¨é¡¹æ— æ³•ç›´æŽ¥è¡¡é‡ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨æ®‹å·® residuals æ¥ä»£æ›¿ã€‚æ®‹å·®æ˜¯çœŸå®žå€¼å’Œæ‹Ÿåˆå€¼ä¹‹é—´çš„å·®ã€‚ ä¸€èˆ¬ä½¿ç”¨ Normal QQ å›¾æ¥æ£€æŸ¥æ‰°åŠ¨é¡¹æ˜¯å¦ç¬¦åˆæ­£æ€åˆ†å¸ƒã€‚ æˆ‘ä»¬å…ˆ simulate ä¸¤ç»„æ•°æ®ï¼Œç„¶åŽå¯¹æ¯”å®ƒä»¬çš„ QQ å›¾ï¼š 123456789101112131415161718size &lt;- 100x &lt;- rnorm(size, 15, 10)err &lt;- rnorm(size, 5, 3) y1 &lt;- 3 + 5 * x + erry2 &lt;- 3 + 5 * x + err ^ 3fit_1 &lt;- lm(y1 ~ x)fit_2 &lt;- lm(y2 ~ x)p1 &lt;- autoplot(fit_1)p2 &lt;- autoplot(fit_2)p1_2 &lt;- p1[[2]] + ggtitle('æ‰°åŠ¨é¡¹æ­£æ€åˆ†å¸ƒ') + theme(plot.title = element_text(size = 18))p2_2 &lt;- p2[[2]] + ggtitle('éžæ­£æ€åˆ†å¸ƒ') + theme(plot.title = element_text(size = 18))ggarrange(p1_2, p2_2 + rremove('y.title'), ncol = 2, nrow = 1) æˆ‘ä»¬è®©ç¬¬1ä¸ªæ¨¡åž‹çš„æ‰°åŠ¨é¡¹å®Œç¾Žç¬¦åˆæ­£æ€åˆ†å¸ƒï¼Œè®©ç¬¬2ä¸ªæ¨¡åž‹ç¬¬æ‰°åŠ¨é¡¹ä¸¥é‡åç¦»æ­£æ€åˆ†å¸ƒã€‚å¾—åˆ°çš„ QQ å›¾å¦‚ä¸‹ï¼š åœ¨å®Œç¾Žå‡è®¾çš„æƒ…å†µä¸‹ï¼Œæ‰€æœ‰çš„ç‚¹å‡ ä¹Žè·Ÿå›¾ä¸­ç›´çº¿é‡åˆã€‚å³å›¾ä¸­çš„ç‚¹åˆ™ä¸¥é‡åç¦»äº†å›¾ä¸­ç›´çº¿ã€‚ 4. åŒæ–¹å·®åŒæ–¹å·®å‡è®¾çš„å†…å®¹æ˜¯ï¼šå¯¹ä¸åŒçš„è‡ªå˜é‡å€¼ï¼Œæ‰°åŠ¨é¡¹çš„æ–¹å·®æ˜¯ç›¸åŒçš„ã€‚å¦‚æžœè¿åäº†è¿™ä¸ªå‡è®¾ï¼Œå°±å«â€œå¼‚æ–¹å·®â€ã€‚ å…¸åž‹çš„çš„å¼‚æ–¹å·®åœºæ™¯ï¼šç ”ç©¶æ”¶å…¥å’Œå­¦åŽ†çš„å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥å¤§æ¦‚é¢„æ–™åˆ°ï¼Œå­¦åŽ†è¶Šé«˜çš„äººï¼Œæ”¶å…¥çš„åå·®è¶Šå¤§ï¼ˆæœ‰çš„äººæ··å¾—éžå¸¸å¥½ï¼Œæœ‰çš„äººæ··å¾—ä¸€èˆ¬ï¼‰ã€‚ è¿™æ˜¯çº¿æ€§å›žå½’é‡Œéžå¸¸é‡è¦çš„å‡è®¾ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ ncvTest() æ£€æµ‹å¼‚æ–¹å·®ã€‚ä¹Ÿå¯ä»¥åœ¨åšå‡ºæ¨¡åž‹åŽåšå¯è§†åŒ–æ£€æŸ¥ï¼Œå³ä½¿ç”¨ scale-location å›¾ã€‚ è·Ÿä¹‹å‰çš„æ€è·¯ä¸€æ ·ï¼Œæˆ‘åœ¨ä¸‹é¢çš„ä»£ç é‡Œæ¨¡æ‹Ÿä¸€ä¸ªæ­£å¸¸æ¨¡åž‹å’Œä¸€ä¸ªå¼‚æ–¹å·®æ¨¡åž‹ã€‚ 1234567891011set.seed(123)size &lt;- 100x &lt;- rnorm(size, 15, 10)err_1 &lt;- rnorm(size, 5, 3)err_2 &lt;- (x -1)* rnorm(size, 5, 3)y1 &lt;- 3 + 5 * x + err_1y2 &lt;- 3 + 5 * x + err_2fit_1 &lt;- lm(y1 ~ x)fit_2 &lt;- lm(y2 ~ x) è¿™é‡Œæˆ‘ä»¬æŸ¥çœ‹ scale-location å›¾ï¼Œä¸‹å›¾ä¸­åŒæ–¹å·®çš„æƒ…å†µæ˜¯ä¸€æ¡æ¯”è¾ƒç›´çš„çº¿ï¼Œå¼‚æ–¹å·®åˆ™æ¯”è¾ƒæ–œã€‚ å¦ä¸€ä¸ªæ›´ç¬¦åˆç›´æŽ¥çš„å‚è€ƒå›¾ï¼Œæ˜¯ x å’Œå¯¹åº”æ®‹å·®çš„æ•£ç‚¹å›¾ã€‚å‚è€ƒä¸‹å›¾ï¼šä¸‹å›¾çš„å¼‚æ–¹å·®çŽ°è±¡å¾ˆæ˜Žæ˜¾ï¼Œæ®‹å·®éšç€xçš„å˜å¤§è€Œå˜å¤§ã€‚ å°ç»“çº¿æ€§å›žå½’æ¨¡åž‹çš„å‰ææ˜¯æ¨¡åž‹æ»¡è¶³å‡è®¾ï¼Œè¿™æ˜¯ç§‘å­¦ç ”ç©¶çš„è§„èŒƒï¼Œåœ¨å…¬å¸é‡Œç”Ÿæˆç ”ç©¶æŠ¥å‘Šæ—¶ï¼Œä¹Ÿåº”è¯¥åšç›¸åº”çš„æ£€æŸ¥ã€‚ åœ¨ R è¯­è¨€é‡ŒæŸ¥çœ‹è¿™å‡ ä¸ªå‡è®¾å¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨ fit = lm(y ~ x)ä½¿ç”¨plot(fit)å‡½æ•°ã€‚ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"ç»Ÿè®¡å­¦","slug":"ç»Ÿè®¡å­¦","permalink":"https://yupototo.github.io/blog/categories/%E7%BB%9F%E8%AE%A1%E5%AD%A6/"}],"tags":[{"name":"R","slug":"R","permalink":"https://yupototo.github.io/blog/tags/R/"},{"name":"Statistics","slug":"Statistics","permalink":"https://yupototo.github.io/blog/tags/Statistics/"}]},{"title":"Test of Independence","slug":"stat_9_test_independence","date":"2018-11-23T11:26:24.000Z","updated":"2020-02-03T17:14:34.351Z","comments":true,"path":"2018/11/23/stat_9_test_independence/","link":"","permalink":"https://yupototo.github.io/blog/2018/11/23/stat_9_test_independence/","excerpt":"åœ¨äº§å“è¿è¥ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦å…³å¿ƒå¦‚ä¸‹é—®é¢˜ï¼š F2Pæ¸¸æˆï¼šç”¨æˆ·çš„æ˜¯å¦ä»˜è´¹ä¸Žæ€§åˆ«ç›¸å…³å—ï¼Ÿ ç”µå­æ‚å¿—ï¼šç”¨æˆ·æ˜¯å¦è®¢é˜…ä¸Žæ‰‹æœºç±»åž‹ç›¸å…³å—ï¼Ÿ æ‡‚çƒå¸ Appï¼šç”¨æˆ·æ˜¯å¦æŽ¨èæ–°é—»ä¸Žè‡ªå·±çš„çƒé˜Ÿæ˜¯å¦èµ¢çƒç›¸å…³å—ï¼Ÿ ä»¥ä¸Šé—®é¢˜æœ‰ä¸ªå…±æ€§ï¼šåˆ¤æ–­ä¸¤ä¸ª categorical variable æ˜¯å¦ç›¸å…³ã€‚ è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ chi-square test åš test of independenceã€‚ \b","text":"åœ¨äº§å“è¿è¥ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦å…³å¿ƒå¦‚ä¸‹é—®é¢˜ï¼š F2Pæ¸¸æˆï¼šç”¨æˆ·çš„æ˜¯å¦ä»˜è´¹ä¸Žæ€§åˆ«ç›¸å…³å—ï¼Ÿ ç”µå­æ‚å¿—ï¼šç”¨æˆ·æ˜¯å¦è®¢é˜…ä¸Žæ‰‹æœºç±»åž‹ç›¸å…³å—ï¼Ÿ æ‡‚çƒå¸ Appï¼šç”¨æˆ·æ˜¯å¦æŽ¨èæ–°é—»ä¸Žè‡ªå·±çš„çƒé˜Ÿæ˜¯å¦èµ¢çƒç›¸å…³å—ï¼Ÿ ä»¥ä¸Šé—®é¢˜æœ‰ä¸ªå…±æ€§ï¼šåˆ¤æ–­ä¸¤ä¸ª categorical variable æ˜¯å¦ç›¸å…³ã€‚ è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ chi-square test åš test of independenceã€‚ \b ä¾‹å­æŸæ‚å¿—è°ƒæŸ¥äº†å…¬åŠ¡å‡ºè¡Œäººç¾¤åœ¨å‡ºå·®æ—¶çš„èˆªç­é€‰æ‹©ï¼Œå¾—åˆ°æ•°æ®å¦‚ä¸‹ï¼š å›½å†…èˆªç­ å›½é™…èˆªç­ å¤´ç­‰èˆ± 29 22 å•†åŠ¡èˆ± 95 121 ç»æµŽèˆ± 518 135 æé—®ï¼šæ—…è¡Œç›®çš„åœ°ä¸Žæœºç¥¨ç±»åž‹ç›¸äº’ç‹¬ç«‹å—ï¼Ÿ å‡è®¾æ£€éªŒå¦‚ä¸‹ï¼š H0:æ—…è¡Œç›®çš„åœ°ä¸Žæœºç¥¨ç±»åž‹ç›¸äº’ç‹¬ç«‹ Haï¼šæ—…è¡Œç›®çš„åœ°ä¸Žæœºç¥¨ç±»åž‹ä¸ç›¸äº’ç‹¬ç«‹ æˆ‘ä»¬é€‰å®šçš„æ˜¾è‘—æ€§æ°´å¹³æ˜¯ 5%ã€‚ æ•°æ®æˆ‘ä»¬å…ˆç”Ÿæˆéœ€è¦çš„æ•°æ®ï¼š 1234ma &lt;- matrix(data = c(29, 95, 518, 22, 121, 135), nrow = 3)df &lt;- data.frame(ma)names(df) &lt;- c('å›½å†…èˆªç­', 'å›½é™…èˆªç­')row.names(df) &lt;- c('å¤´ç­‰èˆ±', 'å•†åŠ¡èˆ±', 'ç»æµŽèˆ±') åœ¨ R é‡Œåš chi-square test å¯ä»¥ç›´æŽ¥ç”¨ matrix å¯¹è±¡ï¼Œä½†æˆ‘ä»¬è¿˜æƒ³åšå›¾çœ‹çœ‹ï¼Œæ‰€ä»¥ç”Ÿæˆäº†ä¸€ä¸ª data.frameã€‚ åšå›¾æŒ‰ç…§ä¸€èˆ¬æ­¥éª¤ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆåšä¸ªæŸ±çŠ¶å›¾çœ‹çœ‹ã€‚ å…ˆæŠŠæ•°æ®å˜æˆ ggplot éœ€è¦çš„ long formatã€‚123df_long &lt;- df %&gt;% mutate(ticket_type = row.names(df)) %&gt;% gather('flight_type', 'value', -ticket_type) ç„¶åŽåšå›¾ï¼š123456ggplot(df_long, aes(x = ticket_type, y = value, fill = flight_type)) + geom_bar(stat = 'identity', position = 'dodge') + scale_x_discrete(limits = c('å¤´ç­‰èˆ±', 'å•†åŠ¡èˆ±', 'ç»æµŽèˆ±')) + labs(x = NULL, y = NULL, fill = NULL) + theme_classic(14) + scale_fill_brewer(palette='Set2') å¦‚ä¸‹å›¾ï¼š \b å¯ä»¥çœ‹åˆ°å¯¹ç»æµŽèˆ±æ¥è¯´ï¼Œå›½å†…èˆªç­çš„æ•°é‡æ˜Žæ˜¾é«˜äºŽå›½å†…èˆªç­ã€‚ æˆ‘ä»¬è¿˜å¯ä»¥ä»Žå¦ä¸€ä¸ªè§†è§’æŸ¥çœ‹ï¼ˆä»£ç ç•¥ï¼‰ï¼š \b è¿™é‡Œèƒ½æ›´æ¸…æ™°åœ°çœ‹åˆ°ï¼Œå›½å†…èˆªç­è·Ÿå›½å¤–èˆªç­çš„â€œå›¾ç‰‡å½¢çŠ¶â€ä¸å¤ªä¸€æ ·ã€‚ æˆ‘ä»¬å¯ä»¥æŽ¨æµ‹å‡ºï¼šä¸¤ä¸ªå˜é‡ä¸ç‹¬ç«‹ã€‚æŽ¥ä¸‹æ¥æˆ‘ä»¬åšç»Ÿè®¡æ£€éªŒã€‚ æ£€éªŒè¿™é‡Œç•¥è¿‡ chi-squre test çš„æ•°å­¦æŽ¨å¯¼ï¼Œç›´æŽ¥åšæ£€éªŒã€‚ 1chisq.test(ma) ç»“æžœï¼šp-value &lt; 2.2e-16ã€‚å³ä½¿æ˜¾è‘—æ€§æ°´å¹³æ˜¯1%ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ‹’ç»åŽŸå‡è®¾ã€‚ æˆ‘æ€€ç–‘æ˜¯å› ä¸ºå›½å†…ç»æµŽèˆ±çš„æ•°é‡å¤ªå¤šï¼Œæ‰å¯¼è‡´ä¸¤ä¸ªå˜é‡ä¸ç‹¬ç«‹ã€‚å‡è®¾å›½å†…ç»æµŽèˆ±çš„æ•°é‡ä»Ž518å˜æˆ145ï¼Œ è¿™ä¸ªæ£€éªŒè¿˜èƒ½æ‹’ç»åŽŸå‡è®¾å—ï¼Ÿ 12ma_2 &lt;- matrix(data = c(29, 95, 145, 22, 121, 135), nrow = 3)chisq.test(ma_2) ç»“æžœï¼šp-value = 0.1164ï¼Œä¸èƒ½æ‹’ç»åŽŸå‡è®¾ã€‚è·Ÿæˆ‘ä»¬çš„æŽ¨æµ‹ä¸€è‡´ã€‚ ä¼˜åŒ–ä¸€ä¸‹æŸ±çŠ¶å›¾è¿™æ˜¯ä¸€ä¸ªè·Ÿ test of independence ä¸ç›¸å…³çš„è¯é¢˜ï¼šæ„Ÿè§‰è¿™é‡Œçš„æŸ±çŠ¶å›¾å¯ä»¥ç”¨æžç®€é£Žæ ¼ä¼˜åŒ–ä¸€ä¸‹ã€‚ ä»£ç 1234567891011121314151617ggplot(df_long, aes(x = ticket_type, y = value, fill = flight_type)) + geom_bar(stat = 'identity', position = 'dodge') + geom_text(aes(label = value), color = '#444444', position = position_dodge(0.9), vjust = -0.2) + scale_x_discrete(limits = c('å¤´ç­‰èˆ±', 'å•†åŠ¡èˆ±', 'ç»æµŽèˆ±')) + scale_y_continuous(expand = c(0, 0), limits = c(0, 540)) + labs(x = NULL, y = NULL, fill = NULL) + theme_classic(14) + theme(legend.position = 'top', axis.ticks = element_blank(), axis.line = element_blank(), axis.text.y = element_blank()) + scale_fill_brewer(palette='Set2') åšäº†å¦‚ä¸‹å‡ ä¸ªäº‹æƒ…ï¼š åˆ é™¤ x è½´çš„ axis.line, axis.ticks åˆ é™¤ y è½´ ç¼©çŸ­ bar å’Œ x è½´ä¹‹é—´çš„ padding åœ¨æŸ±å­ä¸Šå¢žåŠ è¡¨ç¤ºæ•°é‡çš„ text legend ç§»åŠ¨åˆ°é¡¶éƒ¨ æ•ˆæžœ\b è¿˜ä¸é”™ ðŸ˜ƒ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"ç»Ÿè®¡å­¦","slug":"ç»Ÿè®¡å­¦","permalink":"https://yupototo.github.io/blog/categories/%E7%BB%9F%E8%AE%A1%E5%AD%A6/"}],"tags":[{"name":"R","slug":"R","permalink":"https://yupototo.github.io/blog/tags/R/"},{"name":"Statistics","slug":"Statistics","permalink":"https://yupototo.github.io/blog/tags/Statistics/"}]},{"title":"Python çš„ Generator","slug":"coding-5-python-generator","date":"2018-11-17T13:52:13.000Z","updated":"2020-02-03T17:14:34.335Z","comments":true,"path":"2018/11/17/coding-5-python-generator/","link":"","permalink":"https://yupototo.github.io/blog/2018/11/17/coding-5-python-generator/","excerpt":"é—®é¢˜ï¼šx æ˜¯ä¸€ä¸ªç”±æ•°å­—ç»„æˆçš„ listï¼Œæˆ‘ä»¬æƒ³æ±‚å‡ºæ¯ä¸ªå…ƒç´ çš„å¹³æ–¹ã€‚ ä¸€ä¸ªè§£å†³æ–¹æ³•æ˜¯ï¼š 12345678def square_numbers(nums): result = [] for i in nums: result.append(i * i) return resultmy_nums = square_numbers([1,2,3,4])print(my_nums) # [1, 4, 9, 16] è¿™æ˜¯ä¸ªæ­£ç¡®çš„ç­”æ¡ˆï¼Œä½†ä¸å®Œç¾Žã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ generator å†™å‡ºæ›´ç®€æ´çš„ç­”æ¡ˆï¼š 123456def square_numbers(nums): for i in nums: yield(i * i)my_nums = square_numbers([1,2,3,4])print(list(my_nums)) \b","text":"é—®é¢˜ï¼šx æ˜¯ä¸€ä¸ªç”±æ•°å­—ç»„æˆçš„ listï¼Œæˆ‘ä»¬æƒ³æ±‚å‡ºæ¯ä¸ªå…ƒç´ çš„å¹³æ–¹ã€‚ ä¸€ä¸ªè§£å†³æ–¹æ³•æ˜¯ï¼š 12345678def square_numbers(nums): result = [] for i in nums: result.append(i * i) return resultmy_nums = square_numbers([1,2,3,4])print(my_nums) # [1, 4, 9, 16] è¿™æ˜¯ä¸ªæ­£ç¡®çš„ç­”æ¡ˆï¼Œä½†ä¸å®Œç¾Žã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ generator å†™å‡ºæ›´ç®€æ´çš„ç­”æ¡ˆï¼š 123456def square_numbers(nums): for i in nums: yield(i * i)my_nums = square_numbers([1,2,3,4])print(list(my_nums)) \b generator å‡½æ•°æ™®é€šçš„å‡½æ•°ä½¿ç”¨ return è¿”å›žç»“æžœï¼Œgenerator å‡½æ•°ä½¿ç”¨ yield è¿”å›žç»“æžœã€‚ generator å‡½æ•°å¯ä»¥ä½¿ç”¨ next() èŽ·å–ä¸‹ä¸€ä¸ªè¿”å›žå€¼ã€‚ 1234567891011def dumb_generator(): yield 1 yield 2 yield 3a = dumb_generator()print(next(a)) # 1print(next(a)) # 2print(next(a)) # 3print(next(a)) # æŠ¥é”™ï¼šStopIteration ä¸Šé¢è¿™æ®µä»£ç ä¼šåœ¨è¿è¡Œnext(a)ä¾æ¬¡è¿”å›ž1ã€2ã€3ï¼Œç„¶åŽæŠ¥é”™ã€‚ æˆ‘ä»¬å¯ä»¥ç›´æŽ¥æŠŠ generator å‡½æ•°çš„è¿”å›žå¯¹è±¡ç”¨åœ¨ for loop é‡Œï¼š 123456789def dumb_generator(): yield 1 yield 2 yield 3a = dumb_generator()for i in a: print(i) for loop åœ¨å®Œæˆå¾ªçŽ¯åŽä¼šè‡ªåŠ¨åœæ­¢ï¼Œä¸ä¼šæŠ¥é”™ã€‚ generator comprehensionæ–‡ç« æœ€å¼€å§‹çš„é—®é¢˜ï¼Œå…¶å®žå¯ä»¥ç”¨ list comprehension å¿«é€Ÿè§£å†³ï¼š 1my_nums = [x * x for x in [1,2,3,4]] generator ä¹Ÿå¯ä»¥ç”¨ comprehension çš„å½¢å¼å¿«é€Ÿç”Ÿæˆï¼š 1my_nums = (x * x for x in [1,2,3,4]) # è¿™æ˜¯ä¸€ä¸ª generator ä¸ºä»€ä¹ˆä½¿ç”¨ generatoré™¤äº†æ–¹ä¾¿ä¹‹å¤–ï¼Œgenerator è¿˜æœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿæœ€å¤§çš„å¥½å¤„æ˜¯ï¼ŒèŠ‚çº¦å†…å­˜ã€‚ å‡è®¾ç”Ÿæˆä»Ž1åˆ°100ä¸‡çš„ listï¼Œè¿™ä¸ª list ä¼šè¢«å­˜åœ¨å†…å­˜é‡Œï¼Œå æ®å¤§é‡ç©ºé—´ã€‚å¦‚æžœç”Ÿæˆä»Ž1åˆ°100ä¸‡çš„ generatorï¼Œå†…å­˜å ç”¨é‡å‡ ä¹Žå¯ä»¥å¿½ç•¥ä¸è®¡ã€‚ å¦å¤–ï¼Œgenerator è¿˜å¯ä»¥ç”¨æ¥è¡¨è¾¾æ•°å­¦ä¸Šçš„æ— ç©·æ•°åˆ—ï¼Œæ¯”å¦‚ Finabocci æ•°åˆ—ã€‚ 12345678910def fib(): a, b = 0, 1 while 1: yield a a, b = b, a + bfor i in fib(): print(i) if i &gt; 1000: break ä¸Šé¢çš„ä»£ç ä¼šæ‰“å°å‡ºä»Ž0å¼€å§‹çš„ Finabocchi æ•°åˆ—ï¼Œç›´åˆ°æ•°åˆ—å¤§äºŽ1000ï¼ˆç¬¬18ä¸ªæ•°å­—å°±ä¼šå¤§äºŽ1000ï¼‰ã€‚ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"Coding","slug":"Coding","permalink":"https://yupototo.github.io/blog/categories/Coding/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://yupototo.github.io/blog/tags/Python/"}]},{"title":"ggplotç³»åˆ—ä¹‹8ï¼štheme","slug":"ggplot_8_theme","date":"2018-11-10T14:21:31.000Z","updated":"2020-02-03T17:14:34.347Z","comments":true,"path":"2018/11/10/ggplot_8_theme/","link":"","permalink":"https://yupototo.github.io/blog/2018/11/10/ggplot_8_theme/","excerpt":"$\\alpha$ äººé è¡£è£…ï¼Œå›¾é  theme è£…ã€‚å¥½çœ‹çš„æ•°æ®å¯è§†åŒ–ï¼Œä¼šä¸€çœ¼æŠ“ä½äººçœ¼çƒï¼Œè®©ä½ çš„æŠ¥å‘Šæ›´æœ‰è¯´æœåŠ›ã€‚ ggplot ç”Ÿæ€æä¾›äº†ä¸°å¯Œçš„ theme é€‰æ‹©ï¼Œå¦‚æžœä½ å¯¹å·²æœ‰çš„ theme ä¸æ»¡æ„ï¼Œè¿˜å¯ä»¥è‡ªå·±åˆ›é€  themeã€‚ è¿™ç¯‡æ–‡ç« ä»‹ç»å‡ ä¸ªä¸é”™çš„ themeã€‚ \b\b","text":"$\\alpha$ äººé è¡£è£…ï¼Œå›¾é  theme è£…ã€‚å¥½çœ‹çš„æ•°æ®å¯è§†åŒ–ï¼Œä¼šä¸€çœ¼æŠ“ä½äººçœ¼çƒï¼Œè®©ä½ çš„æŠ¥å‘Šæ›´æœ‰è¯´æœåŠ›ã€‚ ggplot ç”Ÿæ€æä¾›äº†ä¸°å¯Œçš„ theme é€‰æ‹©ï¼Œå¦‚æžœä½ å¯¹å·²æœ‰çš„ theme ä¸æ»¡æ„ï¼Œè¿˜å¯ä»¥è‡ªå·±åˆ›é€  themeã€‚ è¿™ç¯‡æ–‡ç« ä»‹ç»å‡ ä¸ªä¸é”™çš„ themeã€‚ \b\b æ•°æ®å’Œå›¾ç‰‡å…ˆç”¨ Gapminder æ•°æ®åšä¸€ä¸ªåŸºç¡€å›¾ã€‚ 12df &lt;- gapminder %&gt;% filter(year == 2007) Gapminder é‡Œæœ‰1950å¹´ä»£åˆ°2007å¹´å„å›½çš„é¢„æœŸå¯¿å‘½ã€äººå£ã€äººå‡ GDP ç­‰æ•°æ®ã€‚ æˆ‘ä»¬åªçœ‹2007å¹´çš„æ ·æœ¬ï¼Œå‰å‡ åˆ—æ•°æ®å¦‚ä¸‹ï¼š country continent year lifeExp pop gdpPercap Afghanistan Asia 2007 43.828 31889923 974.5803 Albania Europe 2007 76.423 3600523 5937.0295 Algeria Africa 2007 72.301 33333216 6223.3675 Angola Africa 2007 42.731 12420476 4797.2313 Argentina Americas 2007 75.320 40301927 12779.3796 Australia Oceania 2007 81.235 20434176 34435.3674 æˆ‘æ¯”è¾ƒæ„Ÿå…´è¶£çš„æ˜¯äººå‡ GDP å’Œé¢„æœŸå¯¿å‘½çš„ç›¸å…³æ€§ã€‚æ‰€ä»¥ï¼Œæˆ‘ä¼šç”»ä¸€ä¸ªäººå‡ GDP å’Œé¢„æœŸå¯¿å‘½çš„æ•£ç‚¹å›¾ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿™é‡Œè¿˜æœ‰äººå£æ•°æ®å’Œå›½å®¶æ‰€å±žçš„å¤§æ´²ï¼Œä¸ºäº†å±•ç¤ºæ›´å¤šä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨\bç‚¹çš„å¤§å°è¡¨ç¤ºäººå£ï¼Œç”¨é¢œè‰²è¡¨ç¤ºæ‰€å±žçš„å¤§æ´²ã€‚ åšå›¾ä»£ç å¦‚ä¸‹ï¼š 1234567891011121314p0 &lt;- ggplot(data = df, aes(x = gdpPercap, y = lifeExp, size = pop, color = continent)) + geom_point() + scale_x_continuous(trans = 'log', labels = round) + labs(title = 'äººå‡gdp vs. é¢„æœŸå¯¿å‘½', x = 'log(äººå‡ GDP)', y = 'é¢„æœŸå¯¿å‘½', color = 'å¤§æ´²', size = 'äººå£', caption = \"æ•°æ®æ¥æº: gapminder\") æˆ‘æ€€ç–‘äººå‡ GDP ç”¨ log å½¢å¼æ›´èƒ½å±•ç¤ºçº¿æ€§å…³ç³»ï¼Œæ‰€ä»¥è¿™é‡Œå¯¹äººå‡ GDP æ•°æ®åš log å¤„ç†ã€‚ ggplot çš„å†…ç½® themeggplot å†…ç½®äº†è‡³å°‘8ä¸ª themeï¼Œæˆ‘é€‰å‡ºäº†å‡ ä¸ªè‡ªå·±æ¯”è¾ƒå–œæ¬¢çš„ã€‚ é»˜è®¤: theme grayggplot çš„é»˜è®¤ theme æ˜¯ theme_grayï¼š è¿™ä¸ª theme å·²ç»å¯ä»¥åº”ä»˜å¤§éƒ¨åˆ†åœºåˆäº†ã€‚ theme darkæ—¢ç„¶æœ‰ grayï¼Œå½“ç„¶å°±æœ‰ darkã€‚theme_dark ä¼šæŠŠåº•è‰²å˜é»‘ï¼Œé€‚ç”¨äºŽåœ¨é»‘æš—çš„çŽ¯å¢ƒåšæŠ¥å‘Šã€‚ theme minimaltheme_minimal æ˜¯ä¸€ä¸ªè´¯å½»ç®€å•åŽŸåˆ™çš„ themeã€‚ theme classictheme_classic æ˜¯æˆ‘çš„æœ€çˆ±ï¼Œè¿™åº”è¯¥æ˜¯æ•°æ®å¯è§†åŒ–æœ€ç»å…¸çš„ä¸»é¢˜ã€‚ packageï¼šggthemesggthemes æ˜¯ä¸€ä¸ªåŒ…å«äº†åæ•°ä¸ªä¸»é¢˜çš„ packageï¼Œè¿™é‡Œä»‹ç»å…¶ä¸­çš„å‡ ä¸ªã€‚ theme fewtheme_few ä¹Ÿæ˜¯ä¸ªç®€å•åŽŸåˆ™çš„ä¸»é¢˜ã€‚ theme economisttheme_economist æ˜¯ä¸ªå‚è€ƒã€Šç»æµŽå­¦äººã€‹é£Žæ ¼è®¾è®¡çš„ä¸»é¢˜ã€‚ theme gdocstheme_gdocs æ˜¯ä¸ªå‚è€ƒ google docs é£Žæ ¼è®¾è®¡çš„ä¸»é¢˜ã€‚ theme 538theme_fivethirtyeight æ˜¯ä¸ªå‚è€ƒæ•°æ®ç½‘ç«™ fivethirtyeight è®¾è®¡çš„ä¸»é¢˜ã€‚ theme_excelpackage ä½œè€…å‡ºäºŽæžç¬‘ç›®çš„åšäº†ä¸€ä¸ªç»å…¸ excel ä¸»é¢˜ã€‚ ä½œè€…åœ¨ ggthemes çš„æ–‡æ¡£é‡Œå†™é“ï¼š Theme to replicate the ugly monstrosity that was the old gray-background Excel chart. Please neveruse this. ðŸ˜› ä¿®æ”¹ä¸»é¢˜å¦‚æžœæƒ³è¦å¾®è°ƒæŸä¸ªä¸»é¢˜ï¼Œéœ€è¦ç”¨åˆ° ggplot çš„ theme æ–¹æ³•ã€‚ æ¯”å¦‚æˆ‘ä»¬æƒ³ä¿®æ”¹é»˜è®¤ä¸»é¢˜ï¼š æ ‡é¢˜å’Œå‰¯æ ‡é¢˜å‰§ä¸­ æ ‡é¢˜æ”¹ä¸ºçº¢è‰²ã€åŠ ç²— å‰¯æ ‡é¢˜æ”¹ä¸ºæ·±ç»¿è‰²p æˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š 123# p1 æ˜¯æœ€å¼€å§‹ç”»çš„å›¾p1 + theme(plot.title = element_text(color = 'red', hjust = 0.5, size = 20), plot.subtitle = element_text(color = 'darkgreen', hjust = 0.5)) ç»“æžœå¦‚ä¸‹ï¼š \bè¿™åªæ˜¯ä¸ªè¯´æ˜Žæ€§çš„ä¾‹å­ï¼Œggplot æä¾›äº†éžå¸¸ä¸°å¯Œçš„å›¾ç‰‡ä¿®æ”¹å¯èƒ½ï¼Œå›¾ç‰‡ä¸Šçš„ä»»ä½•â€œå…ƒç´ â€éƒ½å¯ä»¥ä½¿ç”¨æŸä¸ªå‘½ä»¤ä¿®æ”¹ã€‚ bonus: theme_xkcdæœ€è¿‘åˆ·åˆ°ä¸€ä¸ªæœ‰æ„æ€çš„ä¸»é¢˜ï¼šxkcdã€‚éœ€è¦å®‰è£… package xkcdã€‚è¿™æ˜¯ä¸ªå¡é€šé£Žæ ¼çš„ä¸»é¢˜ï¼Œéœ€è¦å­—ä½“ xkcdï¼Œä¸æ”¯æŒä¸­æ–‡ã€‚ ç”¨ theme_xkcd() åšå›¾å¦‚ä¸‹ï¼š å¤ªå¯çˆ±äº† ðŸ˜† document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"æ•°æ®å¯è§†åŒ–","slug":"æ•°æ®å¯è§†åŒ–","permalink":"https://yupototo.github.io/blog/categories/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/"}],"tags":[{"name":"R","slug":"R","permalink":"https://yupototo.github.io/blog/tags/R/"}]},{"title":"å¯¹ä¸¤ä¸ªæ ·æœ¬çš„æ–¹å·®åšç»Ÿè®¡æ£€éªŒ","slug":"stat_8_two_variance","date":"2018-10-23T15:22:15.000Z","updated":"2020-02-03T17:14:34.351Z","comments":true,"path":"2018/10/23/stat_8_two_variance/","link":"","permalink":"https://yupototo.github.io/blog/2018/10/23/stat_8_two_variance/","excerpt":"æœ€è¿‘åœ¨å·¥ä½œä¸Šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼šå¦‚ä½•è¯„ä¼°ä¸¤ä¸ªä¹°é‡æ¸ é“çš„è´¨é‡ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œæœ€å¥½çš„æŒ‡æ ‡æ˜¯å¦‚ä¸‹å‡ ä¸ªï¼š LTVï¼šè¶Šé«˜è¶Šå¥½ CPIï¼šè¶Šä½Žè¶Šå¥½ é‡çº§ï¼šè¶Šå¤§è¶Šå¥½ æ¸¸æˆæœ€å…³å¿ƒçš„æ˜¯ LTVï¼ˆç”¨æˆ·ç”Ÿå‘½å‘¨æœŸä»·å€¼ï¼‰ã€‚æˆ‘ä»¬æ—¥å¸¸å®šä¹‰çš„ LTV æ˜¯ä¸ªå‡å€¼ï¼Œä½†å®žé™…ä¸Šå®ƒåº”è¯¥æ˜¯ä¸ªåˆ†å¸ƒã€‚æè¿°ä¸¤ä¸ªåˆ†å¸ƒæ—¶ï¼Œé™¤äº†æœŸæœ›ï¼ˆå‡å€¼ï¼‰ï¼Œæˆ‘ä»¬è¿˜å…³å¿ƒ\bæ–¹å·®ã€‚ å‡è®¾ä¸¤ä¸ªæ¸ é“çš„ LTV ä¸€æ ·ï¼Œåˆ™æ–¹å·®è¶Šä½Žçš„æ¸ é“æ•ˆæžœè¶Šå¥½ï¼Œå› ä¸º\bæ¸ é“å›žæ”¶çš„ä¸ç¡®å®šæ€§æ›´ä½Žã€‚ è¿™ç¯‡æ–‡ç« ä»‹ç»å¦‚ä½•åœ¨ R é‡Œå¯¹ä¸¤ä¸ªæ–¹å·®åšç»Ÿè®¡æ£€éªŒã€‚ \b","text":"æœ€è¿‘åœ¨å·¥ä½œä¸Šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼šå¦‚ä½•è¯„ä¼°ä¸¤ä¸ªä¹°é‡æ¸ é“çš„è´¨é‡ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œæœ€å¥½çš„æŒ‡æ ‡æ˜¯å¦‚ä¸‹å‡ ä¸ªï¼š LTVï¼šè¶Šé«˜è¶Šå¥½ CPIï¼šè¶Šä½Žè¶Šå¥½ é‡çº§ï¼šè¶Šå¤§è¶Šå¥½ æ¸¸æˆæœ€å…³å¿ƒçš„æ˜¯ LTVï¼ˆç”¨æˆ·ç”Ÿå‘½å‘¨æœŸä»·å€¼ï¼‰ã€‚æˆ‘ä»¬æ—¥å¸¸å®šä¹‰çš„ LTV æ˜¯ä¸ªå‡å€¼ï¼Œä½†å®žé™…ä¸Šå®ƒåº”è¯¥æ˜¯ä¸ªåˆ†å¸ƒã€‚æè¿°ä¸¤ä¸ªåˆ†å¸ƒæ—¶ï¼Œé™¤äº†æœŸæœ›ï¼ˆå‡å€¼ï¼‰ï¼Œæˆ‘ä»¬è¿˜å…³å¿ƒ\bæ–¹å·®ã€‚ å‡è®¾ä¸¤ä¸ªæ¸ é“çš„ LTV ä¸€æ ·ï¼Œåˆ™æ–¹å·®è¶Šä½Žçš„æ¸ é“æ•ˆæžœè¶Šå¥½ï¼Œå› ä¸º\bæ¸ é“å›žæ”¶çš„ä¸ç¡®å®šæ€§æ›´ä½Žã€‚ è¿™ç¯‡æ–‡ç« ä»‹ç»å¦‚ä½•åœ¨ R é‡Œå¯¹ä¸¤ä¸ªæ–¹å·®åšç»Ÿè®¡æ£€éªŒã€‚ \b åœ¨ R é‡Œåš F-testå½“ä¸¤ä¸ªæ ·æœ¬éƒ½ç¬¦åˆæ­£æ€åˆ†å¸ƒæ—¶ï¼Œå¯ä»¥ç”¨ F-test æ£€æŸ¥ä¸¤ä¸ªæ ·æœ¬çš„æ–¹å·®æ˜¯å¦ä¸€æ ·ã€‚ åœ¨ R é‡Œåš F-test çš„å‡½æ•°æ˜¯ var.testã€‚ 123x &lt;- rnorm(50, mean = 0, sd = 2)y &lt;- rnorm(30, mean = 1, sd = 1)var.test(x, y) æˆ‘ä»¬ä¼šå‘çŽ° p-value è¿œè¿œå°äºŽ0ã€‚ ä¾‹å­è¡¡é‡æœºå™¨è´¨é‡çš„é‡è¦æŒ‡æ ‡æ˜¯äº§å“çš„æ–¹å·®ä¸ä¼šå¤ªé«˜ã€‚ç»™å®šä¸¤å°æœºå™¨å’Œä¸¤å°æœºå™¨çš„ä¸€ç»„äº§å“ï¼Œæˆ‘ä»¬æƒ³åˆ¤æ–­æ˜¯å¦ä¸¤å°æœºå™¨çš„è´¨é‡ä¸€æ ·ã€‚ H0ï¼šä¸¤å°æœºå™¨äº§å“çš„æ–¹å·®ä¸€æ ·Haï¼šä¸¤å°æœºå™¨äº§å“çš„æ–¹å·®ä¸ä¸€æ · æ•°æ®1234567machine_1 &lt;- c(2.95, 3.45, 3.5, 3.75, 3.48, 3.26, 3.33, 3.2, 3.16, 3.2, 3.22, 3.38, 3.9, 3.36, 3.25, 3.28, 3.2, 3.22, 2.98, 3.45, 3.7, 3.34, 3.18, 3.35, 3.12)machine_2 &lt;- c(3.22, 3.3, 3.34, 3.28, 3.29, 3.25, 3.3, 3.27, 3.38, 3.34, 3.35, 3.19, 3.35, 3.05, 3.36, 3.28, 3.3, 3.28, 3.3, 3.2, 3.16, 3.33) ä¸Šé¢çš„æ•°æ®æ¥è‡ª Statistics for Business and Economics ä¸€ä¹¦çš„ä¹ é¢˜ã€‚ åšå›¾æˆ‘ä»¬å¯ä»¥å…ˆåšå›¾çœ‹çœ‹åˆ†å¸ƒï¼š 1234567891011df &lt;- data.frame(value = c(machine_1, machine_2), machine = c(rep('machine_1', length(machine_1)), rep('machine_2', length(machine_2))))df %&gt;% ggplot(aes(x = value, fill = machine)) + geom_density() + scale_fill_manual(values = alpha(c('blue', 'red'), 0.5)) + labs(x = NULL, fill = NULL) + theme_classic(14) + theme(legend.position = 'top') ç»“æžœå¦‚å›¾ï¼š \b åœ¨å›¾ç‰‡é‡Œå¯ä»¥çœ‹åˆ°ä¸¤ä¸ªæœºå™¨çš„åˆ†å¸ƒç¡®å®žä¸å¤ªä¸€æ ·ï¼Œæœºå™¨1çš„æ–¹å·®æ˜Žæ˜¾è¦å¤§ä¸€äº›ã€‚ F-testä½¿ç”¨ var.test å¯¹ä¸¤ç»„æ•°æ®åšæ£€æµ‹ã€‚ 1var.test(machine_1, machine_2) ç»“æžœï¼šp-value = 0.000007ï¼Œæˆ‘ä»¬éžå¸¸æœ‰æŠŠæ¡æ‹’ç»åŽŸå‡è®¾ã€‚ç»“è®ºï¼šä¸¤å°æœºå™¨çš„æ–¹å·®ä¸ä¸€æ ·ã€‚ å¼•ç”³ï¼šéžæ­£æ€åˆ†å¸ƒå‘¢ï¼Ÿ\bF-test çš„ä¸€ä¸ªé‡è¦å‰ææ˜¯ï¼šä¸¤ä¸ªæ ·æœ¬ç¬¦åˆæ­£æ€åˆ†å¸ƒã€‚å†çœ‹æˆ‘æœ€å¼€å§‹æå‡ºçš„é—®é¢˜ï¼šä¸åŒæ¸ é“ LTV çš„æ–¹å·®æ˜¯å¦ä¸€è‡´ã€‚è¿™ä¸ªé—®é¢˜èƒ½å¤Ÿç”¨ F-test å—ï¼Ÿ å¦‚æžœä½ å¯¹æ¸¸æˆç”¨æˆ·çš„ LTV æœ‰æ‰€äº†è§£å°±ä¼šçŸ¥é“ï¼ŒLTV åˆ†å¸ƒä¸æ˜¯æ­£æ€åˆ†å¸ƒã€‚æ‰€ä»¥ï¼Œæˆ‘ä¸èƒ½ç”¨ F-test å¤„ç†ä¸Šé¢çš„é—®é¢˜ã€‚ å¦‚æžœçœŸçš„æƒ³è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä¼šè¿™æ ·åšï¼š Google æŸ¥è¯¢ compare variances of non-normal data æ‰¾åˆ°æ•™ç¨‹æˆ–å¤§å®¶å¯¹è¿™ä¸ªé—®é¢˜çš„è®¨è®º å¯»æ‰¾èƒ½æ»¡è¶³è‡ªå·±éœ€æ±‚çš„æ–¹æ³•ã€å¹¶æ‰¾åˆ° R ä»£ç  æµ‹è¯• ç®€å•æœç´¢ä¹‹åŽå°±ä¼šå®šä½åˆ°è¿™ä¸ªé¡µé¢ï¼šCompare Multiple Sample Variances in Rã€‚å®ƒæä¾›äº†åç¦»æ­£æ€å‡è®¾æ—¶ä¹Ÿä¼šæ¯”è¾ƒå¥å£®çš„ testï¼š Leveneâ€™s test Fligner-Killeen test æŽ¥ä¸‹æ¥å°±æŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤èµ°å°±å¯ä»¥äº†ã€‚ é‡è¦çš„ä¸æ˜¯è§£å†³é—®é¢˜çš„æ–¹æ³•ï¼Œè€Œæ˜¯å¯»æ‰¾è§£å†³æ–¹æ³•çš„èƒ½åŠ›ã€‚ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"ç»Ÿè®¡å­¦","slug":"ç»Ÿè®¡å­¦","permalink":"https://yupototo.github.io/blog/categories/%E7%BB%9F%E8%AE%A1%E5%AD%A6/"}],"tags":[{"name":"R","slug":"R","permalink":"https://yupototo.github.io/blog/tags/R/"},{"name":"Statistics","slug":"Statistics","permalink":"https://yupototo.github.io/blog/tags/Statistics/"}]},{"title":"ggplotç³»åˆ—ä¹‹7ï¼šåˆ«ç”¨æ¼æ–—å›¾","slug":"ggplot_7_funnel","date":"2018-10-19T22:33:24.000Z","updated":"2020-02-03T17:14:34.347Z","comments":true,"path":"2018/10/19/ggplot_7_funnel/","link":"","permalink":"https://yupototo.github.io/blog/2018/10/19/ggplot_7_funnel/","excerpt":"åˆ†æžç”¨æˆ·çš„è½¬åŒ–è·¯å¾„æ—¶ï¼Œç»å¸¸éœ€è¦ä½¿ç”¨æ¼æ–—å›¾ã€‚ä½†æ˜¯ï¼Œæ¼æ–—å›¾å¹¶ä¸æ˜¯å¤šå¥½çš„æ•°æ®å¯è§†åŒ–æ–¹æ¡ˆã€‚ æ¼æ–—å›¾çš„é—®é¢˜è·Ÿé¥¼å›¾æœ‰ç‚¹ç›¸ä¼¼ï¼šç”¨é¢ç§¯è¡¨ç¤ºæ•°é‡å¤šå°‘ï¼Œè€Œäººç±»è§†è§‰å¯¹é¢ç§¯çš„æ•æ„Ÿåº¦ä¸å¤Ÿã€‚ ä¸‹é¢è¿™å¼ å›¾æ˜¯æˆ‘ä»Žç½‘ä¸Šæ‰¾åˆ°çš„æ¼æ–—å›¾ï¼Œæˆ‘ä¼šç”¨åŒæ ·çš„æ•°æ®åšä¸€ä¸ªæŸ±çŠ¶å›¾ç‰ˆæœ¬ã€‚ \b","text":"åˆ†æžç”¨æˆ·çš„è½¬åŒ–è·¯å¾„æ—¶ï¼Œç»å¸¸éœ€è¦ä½¿ç”¨æ¼æ–—å›¾ã€‚ä½†æ˜¯ï¼Œæ¼æ–—å›¾å¹¶ä¸æ˜¯å¤šå¥½çš„æ•°æ®å¯è§†åŒ–æ–¹æ¡ˆã€‚ æ¼æ–—å›¾çš„é—®é¢˜è·Ÿé¥¼å›¾æœ‰ç‚¹ç›¸ä¼¼ï¼šç”¨é¢ç§¯è¡¨ç¤ºæ•°é‡å¤šå°‘ï¼Œè€Œäººç±»è§†è§‰å¯¹é¢ç§¯çš„æ•æ„Ÿåº¦ä¸å¤Ÿã€‚ ä¸‹é¢è¿™å¼ å›¾æ˜¯æˆ‘ä»Žç½‘ä¸Šæ‰¾åˆ°çš„æ¼æ–—å›¾ï¼Œæˆ‘ä¼šç”¨åŒæ ·çš„æ•°æ®åšä¸€ä¸ªæŸ±çŠ¶å›¾ç‰ˆæœ¬ã€‚ \b å‡†å¤‡æ•°æ®åŽŸå›¾å±•ç¤ºäº†é”€å”®çš„å››ä¸ªæ­¥éª¤å„è‡ªæœ‰å¤šå°‘äººã€‚ æˆ‘ä»¬å…ˆå‡†å¤‡ä¸€ä»½æ•°æ®ï¼š 1234df &lt;- data.frame( stage = c('Prospects', 'Price Quotes', 'Negotiations', 'Closed Sales'), people = c(12000, 6800, 3000, 850)) åšå›¾æ¼æ–—å›¾æœ‰ä¸ªå€¼å¾—å€Ÿé‰´çš„è®¾è®¡æ€è·¯ï¼šä»Žä¸Šåˆ°ä¸‹å±•ç¤ºæ•°æ®çš„é˜¶æ®µæ€§å˜åŒ–ã€‚æˆ‘ä»¬æƒ³åœ¨æŸ±çŠ¶å›¾ä¸Šå€Ÿç”¨è¿™ä¸ªè®¾è®¡ã€‚ åŸºæœ¬ç‰ˆå…ˆç”»ä¸€ä¸ªåŸºæœ¬ç‰ˆ 123456789ggplot(df, aes(x = stage, y = people)) + geom_bar(stat = 'identity', width = 0.7) + geom_text(aes(label = people), hjust= -0.1) + scale_y_continuous(limits = c(0, 13000)) + labs(title = 'é”€å”®æ¼æ–—å›¾', y = 'äººæ•°', x= NULL) + coord_flip() + theme_classic(16) å‡ ä¸ªè¦ç‚¹ï¼š ä½¿ç”¨ coord_flip å¯ä»¥æŠŠæŸ±çŠ¶å›¾å˜æˆæ¨ªå‘ ä½¿ç”¨geom_textæ ‡æ³¨äººæ•° ä½¿ç”¨theme_classic ä¸»é¢˜ï¼Œå‡å°‘ç”»é¢ä¸­çš„å…ƒç´ ã€‚ ç»“æžœå¦‚å›¾ï¼š åŠ å…¥ç™¾åˆ†æ¯”æœ‰çš„æ¼æ–—å›¾ä¼šæ˜¾ç¤ºæ¯ä¸ªæ­¥éª¤è¿˜å‰©ä¸‹å¤šå°‘æ¯”ä¾‹çš„äººæ•°ã€‚æˆ‘ä¹Ÿæƒ³å€Ÿç”¨è¿™ä¸ªæ€è·¯ã€‚ å…ˆåŠ å·¥æ•°æ®ï¼š 12df_2 &lt;- df %&gt;% mutate(pct = str_c(round(people / max(people) * 100), '%')) æˆ‘æ–°å»ºäº†ä¸€åˆ—ï¼Œè®¡ç®—å„ä¸ªé˜¶æ®µç›¸å¯¹äºŽæœ€å¼€å§‹äººæ•°çš„ç™¾åˆ†æ¯”ã€‚ ç„¶åŽåšå›¾ï¼š 12345678910ggplot(df_2, aes(x = stage, y = people)) + geom_bar(stat = 'identity', width = 0.7) + geom_text(aes(label = people), hjust= 1.1, color = 'white') + geom_text(aes(y = max(people) * 1.05, label = pct), hjust= 0) + scale_y_continuous(limits = c(0, 13000)) + labs(title = 'é”€å”®æ¼æ–—å›¾', y = 'äººæ•°', x= NULL) + coord_flip() + theme_classic(16) è·Ÿä¹‹å‰ç›¸æ¯”æœ‰ä¸¤ä¸ªå˜åŒ–ï¼š äººæ•°ç§»åˆ°æŸ±å­å†…éƒ¨ï¼Œè°ƒæ•´ä¸ºç™½è‰² æ–°å¢žä¸€ä¸ª geom_textï¼Œç”¨äºŽå±•ç¤ºç™¾åˆ†æ¯” ç»“æžœå¦‚ä¸‹ï¼š è§†è§‰è°ƒæ•´ä»”ç»†çœ‹æ¼æ–—å›¾ï¼Œæˆ‘å‘çŽ°æ¼æ–—å›¾è¿˜æœ‰ä¸€ä¸ªå¥½å¤„ï¼šå›¾ç‰‡å†…çš„å…ƒç´ å¾ˆå°‘ï¼Œè®©äººæ„Ÿè§‰èˆ’æœã€‚ å‚è€ƒæ¼æ–—å›¾ï¼Œæˆ‘ä»¬ä¿®æ”¹è‡ªå·±çš„æŸ±çŠ¶å›¾è®¾è®¡ã€‚ ä»£ç ï¼š 1234567# p1 æ˜¯ä¸Šä¸€ä¸ªå›¾ç‰‡p1 + theme(axis.title.x=element_blank(), axis.text.x=element_blank(), axis.ticks =element_blank(), axis.line = element_blank(), plot.title = element_text(hjust = 0.3)) + scale_y_continuous(limits = c(0, 14500), expand = c(0,0)) è¦ç‚¹ï¼š éšè— x è½´å’Œ y è½´çš„çº¿ã€åˆ»åº¦ å›¾ç‰‡çš„æ ‡é¢˜ç›¸å¯¹å±…ä¸­ å‡å°‘æŸ±å­å’Œ y è½´ä¹‹é—´çš„ padding ç»“æžœå¦‚ä¸‹ï¼š èƒ½å¤Ÿä¿®æ”¹çš„åœ°æ–¹è¿˜æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚æŸ±å­æ˜¯ä¸æ˜¯å¤ªçŸ­å¤ªç²—ï¼Œé¢œè‰²æ˜¯ä¸æ˜¯å¯ä»¥ä¼˜åŒ–ï¼Œç™¾åˆ†æ¯”çš„å±•ç¤ºæ˜¯ä¸æ˜¯å¯ä»¥æ›´æ˜Žç¡®ã€‚è¿™é‡Œå°±ä¸å†ç»†ç©¶äº†ã€‚ å‚è€ƒ Bad Graphics â€“ Funnel Chart Funnel Charts Suck and You Shouldnâ€™t Use Them document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"æ•°æ®å¯è§†åŒ–","slug":"æ•°æ®å¯è§†åŒ–","permalink":"https://yupototo.github.io/blog/categories/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/"}],"tags":[{"name":"R","slug":"R","permalink":"https://yupototo.github.io/blog/tags/R/"}]},{"title":"æœºå™¨å­¦ä¹  vs. ç»Ÿè®¡å­¦","slug":"ds-2-ml-vs-stat","date":"2018-10-18T07:47:56.000Z","updated":"2020-02-03T17:14:34.339Z","comments":true,"path":"2018/10/18/ds-2-ml-vs-stat/","link":"","permalink":"https://yupototo.github.io/blog/2018/10/18/ds-2-ml-vs-stat/","excerpt":"æœºå™¨å­¦ä¹ å’Œç»Ÿè®¡å­¦ä¸æ˜¯ä¸€å›žäº‹ï¼Œå¯æ˜¯æœºå™¨å­¦ä¹ é‡Œå’Œç»Ÿè®¡å­¦é‡Œåˆæœ‰å¾ˆå¤šäº¤é›†ï¼Œæ¯”å¦‚çº¿æ€§å›žå½’ã€‚ä¸¤è€…éƒ½ä½¿ç”¨äº†ç›¸åŒçš„ç†è®ºæ¡†æž¶ï¼Œä½†å¼ºè°ƒçš„ä¸œè¥¿å®Œå…¨ä¸ä¸€æ ·ã€‚ åœ¨å…·ä½“çš„å…¬å¸ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ˜Žç¡®ï¼Œè‡ªå·±éœ€è¦çš„åˆ°åº•æ˜¯ç»Ÿè®¡å­¦ï¼Œè¿˜æ˜¯æœºå™¨å­¦ä¹ ã€‚ä¸¤è€…ä¼šå¯¹åˆ†æžåœºæ™¯æœ‰ä¸åŒçš„éœ€æ±‚ã€‚ è¿™ç¯‡æ–‡ç« æ€»ç»“ä¸¤ä¸ªå­¦ç§‘çš„éœ€æ±‚ã€‚ \b","text":"æœºå™¨å­¦ä¹ å’Œç»Ÿè®¡å­¦ä¸æ˜¯ä¸€å›žäº‹ï¼Œå¯æ˜¯æœºå™¨å­¦ä¹ é‡Œå’Œç»Ÿè®¡å­¦é‡Œåˆæœ‰å¾ˆå¤šäº¤é›†ï¼Œæ¯”å¦‚çº¿æ€§å›žå½’ã€‚ä¸¤è€…éƒ½ä½¿ç”¨äº†ç›¸åŒçš„ç†è®ºæ¡†æž¶ï¼Œä½†å¼ºè°ƒçš„ä¸œè¥¿å®Œå…¨ä¸ä¸€æ ·ã€‚ åœ¨å…·ä½“çš„å…¬å¸ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ˜Žç¡®ï¼Œè‡ªå·±éœ€è¦çš„åˆ°åº•æ˜¯ç»Ÿè®¡å­¦ï¼Œè¿˜æ˜¯æœºå™¨å­¦ä¹ ã€‚ä¸¤è€…ä¼šå¯¹åˆ†æžåœºæ™¯æœ‰ä¸åŒçš„éœ€æ±‚ã€‚ è¿™ç¯‡æ–‡ç« æ€»ç»“ä¸¤ä¸ªå­¦ç§‘çš„éœ€æ±‚ã€‚ \b ç»Ÿè®¡å­¦ç»Ÿè®¡å­¦è‡³å°‘æœ‰ä¸¤ä¸ªå…¸åž‹çš„ä½¿ç”¨åœºæ™¯ï¼š ä½¿ç”¨æ ·æœ¬ä¼°è®¡æ€»ä½“ å»ºç«‹è§£é‡Šæ€§æ¨¡åž‹ æ ·æœ¬ä¼°è®¡æ€»ä½“é—®å·è°ƒæŸ¥æ˜¯å…¬å¸äº†è§£ç”¨æˆ·çš„é‡è¦æ‰‹æ®µã€‚æˆ‘æœ€å–œæ¬¢çš„ä¾‹å­æ˜¯ä¹é«˜ã€‚2004å¹´æ—¶ï¼Œä¹é«˜äºæŸä¸¥é‡ã€‚ä¹é«˜çš„ç¾Žå›½åˆ†å…¬å¸è€å¤§è·Ÿã€Šæ˜Ÿçƒå¤§æˆ˜ã€‹çš„ç‰ˆæƒæ–¹è°ˆå¦¥äº†åˆä½œæ„å‘ï¼ŒäºŽæ˜¯é£žåˆ°ä¸¹éº¦æ€»éƒ¨è·Ÿå…¬å¸æå‡ºè¿™ä¸ªæ–¹æ¡ˆã€‚ä¹é«˜å…¬å¸çš„é«˜å±‚å¯¹è¿™ä¸ªæè®®éžå¸¸â€œéœ‡æ€’â€ï¼Œå› ä¸ºè¿™è¿èƒŒäº†ä¹é«˜ä¸€ç›´ä»¥æ¥â€œåå¯¹æš´åŠ›â€çš„ç†å¿µï¼šä¹é«˜çš„äº§å“é‡Œä¸€å®šä¸ä¼šæœ‰æš´åŠ›å…ƒç´ ï¼Œæ›´åˆ«è¯´è¦å‡ºä¸€ä¸ªåå­—é‡Œå¸¦â€œwarâ€çš„äº§å“ç³»åˆ—äº†ã€‚ æå‡ºè¿™ä¸ªæ–¹æ¡ˆçš„ç¾Žå›½è€å¤§åŠ¨ç”¨äº†ä¸€ä¸ªæ€æ‰‹é”ï¼šè¦ä¸æˆ‘ä»¬å¯¹å®¶é•¿åšä¸ªé—®å·è°ƒæŸ¥ï¼Œçœ‹çœ‹å®¶é•¿ä»¬æ˜¯å¦æ„¿æ„ä¸ºå­©å­ä»¬è´­ä¹°æ˜Ÿæˆ˜é¢˜æçš„ä¹é«˜ã€‚é—®å·è°ƒæŸ¥çš„ç»“æžœè¯´æœäº†ä¿å®ˆçš„ä¹é«˜é«˜å±‚ã€‚ã€Šæ˜Ÿçƒå¤§æˆ˜ã€‹ç³»åˆ—å¼€å¯äº†ä¹é«˜çš„æ–°æ—¶ä»£ï¼Œä¹é«˜å¼€å§‹é¢‘ç¹ä¸Žå…¨çƒå¤§IPåˆä½œï¼Œå„å¤§ IP ä¸ºä¹é«˜å¸¦æ¥äº†æŒç»­åå‡ å¹´çš„é«˜é€Ÿå¢žé•¿ã€‚ è¿™é‡Œçš„é—®å·è°ƒæŸ¥ï¼Œå…¶å®žå°±æ˜¯ç»Ÿè®¡å­¦çš„é‡è¦åº”ç”¨ï¼šé—®å·è°ƒæŸ¥çš„æ ·æœ¬æ•°æ®æ˜¯æ•´ä½“å¸‚åœºæ•°æ®çš„æœ‰æ•ˆä»£è¡¨å—ï¼ŸæŠŠè¿™ä¸ªé—®é¢˜æ›´æŠ½è±¡åœ°è¡¨è¾¾ï¼šæˆ‘åªæœ‰ x ä¸ªæ ·æœ¬ï¼Œæˆ‘æ˜¯å¦èƒ½ç”¨è¿™ x ä¸ªæ ·æœ¬åŽ»æœ‰æ•ˆçš„ä¼°è®¡æ€»ä½“ã€‚ å•†ä¸šè°ƒæŸ¥å¯ä»¥é€šè¿‡èŠ±é’±è§£å†³æ ·æœ¬æ•°é‡é—®é¢˜ï¼Œæ¯•ç«Ÿä¸€ä»½é—®å·ä¹Ÿæ²¡å¤šè´µï¼Œä½†åœ¨åŒ»å­¦è¯ç‰©å®žéªŒé‡Œï¼Œä¸€ä¸ªæ ·æœ¬å°±æ²¡é‚£ä¹ˆä¾¿å®œäº†ã€‚ä¸€è½®è¯ç‰©å®žéªŒç»å¸¸åªæœ‰å‡ åä¸ªæ ·æœ¬ã€‚ç”¨è¿™å‡ åä¸ªæ ·æœ¬åŽ»ä¼°è®¡æ€»ä½“ï¼Œéš¾åº¦è¦å¤§å¾—å¤šã€‚ åœ¨äº’è”ç½‘å…¬å¸ï¼Œæœ€ç»å¸¸ä½¿ç”¨çš„ç»Ÿè®¡å­¦çš„åœºæ™¯æ˜¯ A/B æµ‹è¯•ï¼Œè¿™é‡Œçš„æ ¸å¿ƒé—®é¢˜æ˜¯ï¼šA/B æµ‹è¯•çš„æ ·æœ¬æ•°æ®ï¼Œæ˜¯æœ‰æ•ˆçš„æ€»ä½“ä»£è¡¨å—ï¼Ÿæ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™å‡ åƒä¸ªæ ·æœ¬ï¼Œåˆ¤æ–­ A ç‰ˆæœ¬æ¯” B ç‰ˆæœ¬æ›´å¥½å—ï¼Ÿ å»ºç«‹è§£é‡Šæ€§æ¨¡åž‹ç¤¾ä¼šç§‘å­¦çš„è®ºæ–‡éœ€è¦åˆ©ç”¨ç»Ÿè®¡å­¦è¯æ˜Žè‡ªå·±æƒ³æè¿°çš„ç†è®ºå…³ç³»ã€‚ æ¯”å¦‚ï¼š æ”¶å…¥çš„å†³å®šå› ç´ æ˜¯ä»€ä¹ˆï¼Ÿ æ˜¯å¦å­˜åœ¨æ”¶å…¥ä¸Šçš„æ€§åˆ«/ç§æ—æ­§è§†ï¼Ÿ \bR&amp;DæŠ•å…¥å’Œå¸‚åœºæŠ•å…¥å¯¹å…¬å¸é•¿æœŸç›ˆåˆ©èƒ½åŠ›çš„å½±å“åˆ†åˆ«æœ‰å¤šå¤§ï¼Ÿ â€¦â€¦ æ‰€æœ‰è¿™äº›é—®é¢˜ï¼Œéƒ½éœ€è¦å»ºç«‹ä¸€ä¸ªæ¨¡åž‹åŽ»æè¿°çŽ°è±¡ï¼Œç„¶åŽé€šè¿‡æ•°æ®éªŒè¯è¿™ä¸ªæ¨¡åž‹çš„å‡†ç¡®æ€§ã€‚è¿™é‡Œæ—¢å­˜åœ¨æ ·æœ¬ä»£è¡¨æ€§çš„é—®é¢˜ï¼ˆæ ·æœ¬ä¼°è®¡æ€»ä½“ï¼‰ï¼Œè¿˜æœ‰æ¨¡åž‹è§£é‡ŠåŠ›çš„é—®é¢˜ã€‚ æ¯”å¦‚åœ¨çº¿æ€§å›žå½’é‡Œï¼Œæˆ‘ä»¬å…³æ³¨ R-squareï¼Œä¸€ä¸ªå¥½çš„æ¨¡åž‹ï¼Œåº”è¯¥æœ‰æ¯”è¾ƒå¥½çš„ R-squareã€‚åŒæ—¶ï¼Œè¿™ä¸ªæ¨¡åž‹åº”è¯¥æ˜¯â€œå¯è§£é‡Šâ€çš„ã€‚ç›¸æ¯”æœºå™¨å­¦ä¹ ï¼Œ\bç»Ÿè®¡å­¦çš„æ¨¡åž‹ä¸èƒ½æ˜¯ä¸ªâ€œé»‘ç®±å­â€ã€‚æœºå™¨å­¦ä¹ å¯ä»¥æŽ¥å—æ¨¡åž‹çš„â€œä¸å¯è§£é‡Šâ€ï¼Œç»Ÿè®¡å­¦åˆ™è¦æ±‚æ¨¡åž‹ make senseã€‚ æœºå™¨å­¦ä¹ æœºå™¨å­¦ä¹ ä¸Žç»Ÿè®¡å­¦æœ‰ä¸¤ä¸ªå¤§çš„åŒºåˆ«ï¼š å¤§æ ·æœ¬ ä»¥é¢„æµ‹ä¸ºç›®çš„ å¤§æ ·æœ¬ç»Ÿè®¡å­¦é‡Œæœ‰100ä¸ªæ ·æœ¬å¯èƒ½å°±æ˜¯å¾ˆå¤§äº†ï¼Œä¸€ä¸ª excel è¡¨æ ¼å°±èƒ½è½»æ¾è£…ä¸‹ã€‚æœºå™¨å­¦ä¹ åˆ©ç”¨äº†äº’è”ç½‘æ—¶ä»£çš„æ•°æ®çˆ†å‘ï¼Œæœ‰æµ·é‡çš„æ•°æ®å¯ä¾›ä½¿ç”¨ã€‚å®žé™…ä¸Šï¼Œæœºå™¨å­¦ä¹ å·²ç»å­˜åœ¨äº†å‡ åå¹´ï¼Œä½†å› ä¸ºæ²¡æœ‰è¶³å¤Ÿâ€œå–‚å…»â€æ¨¡æ ·çš„æ•°æ®å’Œç®—åŠ›ï¼Œä¸€ç›´æ²¡èƒ½å‘å±•ï¼Œç›´åˆ°äº’è”ç½‘æ—¶ä»£ã€‚ ç»Ÿè®¡å­¦éœ€è¦è€ƒè™‘â€œæ ·æœ¬å°‘â€çš„é—®é¢˜ï¼Œæœºå™¨å­¦ä¹ ä¸åªä¸ç”¨æ‹…å¿ƒæ ·æœ¬é‡ï¼Œæœ‰æ—¶ç”šè‡³èƒ½ç”¨â€œæ€»ä½“â€åšè®¡ç®—ã€‚ åœ¨å¤§æ•°æ®çš„å‰æä¸‹ï¼Œå¾ˆå¤šç»Ÿè®¡å­¦éœ€è¦æ‹…å¿ƒçš„é—®é¢˜ä¸å­˜åœ¨äº†ã€‚æ¯”å¦‚å°æ ·æœ¬ä¸‹ä¸é€‚åˆä½¿ç”¨æŸäº› testã€‚ ä»¥é¢„æµ‹ä¸ºç›®çš„æœºå™¨å­¦ä¹ çš„æœ€æ ¸å¿ƒç‰¹å¾ï¼Œæ˜¯ä»¥é¢„æµ‹ä¸ºç›®çš„ï¼Œé¢„æµ‹å‡†ç¡®åº¦è¶Šé«˜è¶Šå¥½ï¼Œè¿‡ç¨‹å¹¶ä¸é‡è¦ã€‚ æœºå™¨å­¦ä¹ ä¸å…³å¿ƒæ¨¡åž‹çš„è§£é‡Šæ•ˆåŠ›ã€‚æ³¨æ„ï¼Œè¿™é‡Œè¯´çš„æ˜¯â€ä¸å…³å¿ƒâ€œã€‚æœ‰çš„æ¨¡åž‹ï¼Œæ¯”å¦‚çº¿æ€§å›žå½’ï¼Œå…è®¸äººå¯¹æ¨¡åž‹è¿‡ç¨‹åšè§£é‡Šï¼Œä½†å¦å¤–ä¸€äº›æ¨¡åž‹ï¼Œæ¯”å¦‚ç¥žç»ç½‘ç»œï¼Œå¾ˆéš¾è§£é‡Šã€‚ åœ¨åº”ç”¨å±‚é¢ï¼Œæœºå™¨å­¦ä¹ éžå¸¸çš„â€œåŠ¡å®žâ€ï¼šåˆ«è·Ÿæˆ‘æ‰¯ç†è®ºï¼Œshow me the accuracyã€‚ åŒæ ·æ˜¯çº¿æ€§å›žå½’ï¼Œå³ä½¿ç”¨åŒæ ·çš„æ•°æ®é›†ï¼Œæˆ‘ä»¬ä¹Ÿå¯èƒ½å› ä¸ºç›®æ ‡è€Œä¸åŒè€Œæœ‰å„è‡ªçš„ä¾§é‡ã€‚æƒ³è±¡æˆ‘ä»¬æ˜¯ä¸€å®¶è¿žé”è›‹ç³•å…¬å¸ï¼Œæ——ä¸‹æœ‰100å®¶åº—é“ºã€‚æˆ‘ä»¬æœé›†äº†è¿‡åŽ»å‡ å¹´è¿™äº›åº—é“ºçš„äººæµé‡ã€è¥ä¸šæ”¶å…¥ã€å•†åœˆç«žäº‰å¯¹æ‰‹æ•°é‡ç­‰ä¿¡æ¯ã€‚æˆ‘ä»¬å¯ä»¥ï¼š ç ”ç©¶å“ªäº›å› ç´ æœ€å½±å“è¥ä¸šæ”¶å…¥ã€‚ é¢„æµ‹è¿™äº›åº—é“ºæœªæ¥çš„æ”¶å…¥ã€‚ ä¸Šé¢ä¸¤ä¸ªä»»åŠ¡éƒ½æ˜¯å¯ä»¥ç”¨çº¿æ€§å›žå½’æ¥åšï¼Œä½†å‰è€…ä¼šåé‡ç»Ÿè®¡å­¦ï¼Œéœ€è¦è§£é‡ŠåŠ›ï¼ŒåŽè€…ä¼šåé‡æœºå™¨å­¦ä¹ ï¼Œéœ€è¦é¢„æµ‹åŠ›ã€‚ å¦‚ä½•é€‰æ‹©æŠ€èƒ½ç‚¹å•çº¯çš„ç»Ÿè®¡å­¦ä½¿ç”¨è€…ï¼Œå¯ä»¥é€‰æ‹©å¿½ç•¥æœºå™¨å­¦ä¹ ã€‚ç»Ÿè®¡å­¦ä½¿ç”¨è€…åŒ…æ‹¬ï¼š ç¤¾ä¼šç§‘å­¦é¢†åŸŸçš„å­¦è€… å’¨è¯¢å…¬å¸çš„æ•°æ®åˆ†æžå¸ˆ å¤§å…¬å¸çš„ç”¨æˆ·è°ƒæŸ¥å›¢é˜Ÿ åŒ»è¯å­¦ç ”ç©¶è€… â€¦ æ•°æ®å·¥ä½œè€…æˆåƒä¸Šä¸‡ï¼ŒçœŸæ­£æœ‰æœºä¼šç”¨åˆ°æœºå™¨å­¦ä¹ è§£å†³é—®é¢˜çš„å¹¶ä¸å¤šã€‚ ä½†æ˜¯ï¼Œåœ¨äº’è”ç½‘å…¬å¸å·¥ä½œçš„æ•°æ®å·¥ä½œè€…ï¼Œæˆ–è€…å¸Œæœ›åœ¨äº’è”ç½‘å…¬å¸åšæ•°æ®å·¥ä½œçš„äººï¼Œå¤§æ¦‚çŽ‡æœ‰æœºä¼šä½¿ç”¨æœºå™¨å­¦ä¹ ï¼Œè¿™ä¸ªæ—¶å€™äº†è§£æœºå™¨å­¦ä¹ å°±ä¼šéžå¸¸å¿…è¦äº†ã€‚ä»Žå­¦ç§‘è„‰ç»œæ¥çœ‹ï¼Œæœºå™¨å­¦ä¹ çš„éƒ¨åˆ†ç†è®ºåŸºç¡€å°±æ˜¯ç»Ÿè®¡å­¦ï¼Œæ‰€ä»¥æžæœºå™¨å­¦ä¹ çš„äººï¼Œæ˜¯é€ƒä¸è¿‡å­¦ä¹ ç»Ÿè®¡å­¦çš„ã€‚æ‰€ä»¥ï¼Œå¦‚æžœä½ æƒ³å†äº’è”ç½‘å…¬å¸åšæ•°æ®å·¥ä½œï¼Œç»Ÿè®¡å­¦å’Œæœºå™¨å­¦ä¹ éƒ½æ˜¯è¦æœ‰æ‰€äº†è§£çš„ã€‚ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"æ•°æ®ç§‘å­¦","slug":"æ•°æ®ç§‘å­¦","permalink":"https://yupototo.github.io/blog/categories/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6/"}],"tags":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"https://yupototo.github.io/blog/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"}]},{"title":"ç†è§£ JavaScript çš„ this","slug":"coding-4-js-this","date":"2018-10-01T16:53:05.000Z","updated":"2020-02-03T17:14:34.335Z","comments":true,"path":"2018/10/01/coding-4-js-this/","link":"","permalink":"https://yupototo.github.io/blog/2018/10/01/coding-4-js-this/","excerpt":"12345678var myObject = { name: 'Harry Potter', myMethod: () =&gt; { console.log(this.name) }}myObject.myMethod() // undefined ä¸Šé¢è¿™æ®µä»£ç ä¸ºä»€ä¹ˆä¼šè¿”å›žundefinedå‘¢ï¼Ÿå› ä¸ºä¸‡æ¶çš„thisã€‚ MDN å¯¹ this çš„å®šä¹‰æ˜¯ï¼šä»£ç è¿è¡Œçš„çŽ¯å¢ƒã€‚è¿™å¥è¯ç»™æˆ‘çš„æœ€å¤§æ„Ÿè§‰æ˜¯ï¼šwhat the ** is this? è¿™é‡Œæ€»ç»“ä¸‹ this çš„å‡ ä¸ªç”¨æ³•ã€‚ \b","text":"12345678var myObject = { name: 'Harry Potter', myMethod: () =&gt; { console.log(this.name) }}myObject.myMethod() // undefined ä¸Šé¢è¿™æ®µä»£ç ä¸ºä»€ä¹ˆä¼šè¿”å›žundefinedå‘¢ï¼Ÿå› ä¸ºä¸‡æ¶çš„thisã€‚ MDN å¯¹ this çš„å®šä¹‰æ˜¯ï¼šä»£ç è¿è¡Œçš„çŽ¯å¢ƒã€‚è¿™å¥è¯ç»™æˆ‘çš„æœ€å¤§æ„Ÿè§‰æ˜¯ï¼šwhat the ** is this? è¿™é‡Œæ€»ç»“ä¸‹ this çš„å‡ ä¸ªç”¨æ³•ã€‚ \b Default Bindingåœ¨ Chrome æµè§ˆå™¨æ‰“å¼€ inspector çš„ consoleï¼Œè¾“å…¥å¦‚ä¸‹ä»£ç ï¼š 12345var count = 5function Func() { console.log(this.count)}Func() console ä¼šæ˜¾ç¤º5ã€‚ å› ä¸ºæˆ‘ä»¬çš„ä»£ç åœ¨çŽ¯å¢ƒä¸‹è¿è¡Œï¼Œthis é»˜è®¤ç»‘å®šåˆ°äº†å…¨å±€çŽ¯å¢ƒã€‚ åœ¨use strictæ¨¡å¼ä¸‹ï¼Œé»˜è®¤ç»‘å®šä¸ä¼šå‘ç”Ÿã€‚ 123456var count = 5function Func() { `use strict` console.log(this.count)}Func() æ­¤æ—¶ Chrome ä¼šæŠ¥é”™ã€‚ Implicit Bindingåœ¨ object é‡Œåˆ›å»ºå‡½æ•°æ—¶ï¼Œè¿è¡Œå‡½æ•°æ—¶çš„\bthiså°±æ˜¯è¿™ä¸ªå¯¹è±¡ã€‚ 12345678var anObj = { name: 'Harry Potter', callName: function() { console.log(this.name) }}anObj.callName() æ­¤æ—¶å±å¹•ä¼šæ‰“å° Harry Potterã€‚ Explicit Bindingå¦‚æžœä¸æƒ³åœ¨ object åˆ›å»ºå‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨æŠŠå‡½æ•°çš„thisç»‘å®šåˆ°å¯¹è±¡ä¸Šã€‚ å¯ä»¥ä½¿ç”¨bindã€callæˆ–applyã€‚ 12345678910111213var anObj = { name: 'Harry Potter',}function callName() { console.log(this.name)}callName.call(anObj) // Harry PottercallName.apply(anObj) // Harry PotternewCallname = callName.bind(anObj)newCallname() // Harry Potte call å’Œ apply å¯ä»¥ç›´æŽ¥ä»¥ object ä½œä¸º argumentã€‚bind éœ€è¦æŒ‡å‘ä¸€ä¸ªæ–°çš„å˜é‡ã€‚ new Bindingåˆ›å»º class çš„ instance æ—¶ï¼Œthis ä¼šæŒ‡å‘è¿™ä¸ª instance 12345678910111213141516class Point { constructor(x, y) { this.x = x this.y = y } showCoord() { console.log(this.x + ', ' + this.y) }}p1 = new Point(1, 2)p1.showCoord() // 1, 2p2 = new Point(3, 4)p2.showCoord() // 3, 4 æ¯ä¸ª instance éƒ½ä¼šæœ‰è‡ªå·±çš„ contextã€‚ ç®­å¤´å‡½æ•°ç®­å¤´å‡½æ•°çš„thisè·Ÿæ™®é€šå‡½æ•°ä¸ä¸€æ ·ï¼Œç®­å¤´å‡½æ•°ä¼šç»§æ‰¿ parent scope çš„thisã€‚ 12345678910var name = 'Ron Weasley'var myObject = { name: 'Harry Potter', myMethod: () =&gt; { console.log(this.name) }}myObject.myMethod() // Ron Weasley åœ¨ä¸Šé¢è¿™æ®µä»£ç é‡Œï¼Œæˆ‘ä»¬ç”¨ç®­å¤´å‡½æ•°å®šä¹‰äº† myMethodï¼Œ\b\bç»“æžœå±å¹•æ‰“å°çš„æ˜¯ global context é‡Œçš„ nameï¼Œå› ä¸º myObject ä½äºŽ global contextã€‚ å¦‚æžœæ˜¯åœ¨use strictä¸‹ï¼Œä¸Šé¢è¿™æ®µä»£ç ä¼šæ‰“å°undifinedã€‚ æ‰€ä»¥ï¼Œè°¨æ…Žåœ¨ç®­å¤´å‡½æ•°é‡Œä½¿ç”¨thisï¼Œéžå¸¸å®¹æ˜“å‡ºé”™å•Šã€‚ æ—¢ç„¶ä¸èƒ½ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œä¸Šé¢è¿™æ®µçš„ä»£ç è¦æ€Žä¹ˆå†™æ‰æ›´ç®€æ´å‘¢ï¼Ÿç”¨ ES6 çš„å‡½æ•°å†™å†™æ³•ï¼š 12345678var myObject = { name: 'Harry Potter', myMethod() { console.log(this.name) }}myObject.myMethod() // Harry Potter æžæ¸…æ¥šä¸Šé¢è¿™äº›ç”¨æ³•åŽï¼Œthis å°±æ²¡é‚£ä¹ˆå¥‡æ€ªäº†ã€‚ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"Coding","slug":"Coding","permalink":"https://yupototo.github.io/blog/categories/Coding/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://yupototo.github.io/blog/tags/JavaScript/"}]},{"title":"ç»Ÿè®¡æŽ¨æ–­ä¹‹ t æ£€éªŒ","slug":"stat_7_t_test","date":"2018-09-23T16:49:49.000Z","updated":"2020-02-03T17:14:34.351Z","comments":true,"path":"2018/09/23/stat_7_t_test/","link":"","permalink":"https://yupototo.github.io/blog/2018/09/23/stat_7_t_test/","excerpt":"T-test \båº”è¯¥æ˜¯ç»Ÿè®¡å­¦é‡Œå­¦ä¹ çš„ç¬¬1ä¸ªæ£€éªŒï¼Œå¯è°“å¤§å®¶çš„ç»Ÿè®¡æŽ¨æ–­åˆæ‹ã€‚ T-test å¯ä»¥ç”¨æ¥ï¼š æ¯”è¾ƒä¸€ä¸ªæ€»ä½“çš„å‡å€¼å’Œä¸€ä¸ªå¸¸æ•° æ¯”è¾ƒä¸¤ä¸ªæ€»ä½“çš„å‡å€¼ è¿™ç¯‡æ–‡ç« ä»‹ç»å¦‚ä½•ç”¨ R åš t-testã€‚ \b","text":"T-test \båº”è¯¥æ˜¯ç»Ÿè®¡å­¦é‡Œå­¦ä¹ çš„ç¬¬1ä¸ªæ£€éªŒï¼Œå¯è°“å¤§å®¶çš„ç»Ÿè®¡æŽ¨æ–­åˆæ‹ã€‚ T-test å¯ä»¥ç”¨æ¥ï¼š æ¯”è¾ƒä¸€ä¸ªæ€»ä½“çš„å‡å€¼å’Œä¸€ä¸ªå¸¸æ•° æ¯”è¾ƒä¸¤ä¸ªæ€»ä½“çš„å‡å€¼ è¿™ç¯‡æ–‡ç« ä»‹ç»å¦‚ä½•ç”¨ R åš t-testã€‚ \b æ¨¡æ‹ŸR æä¾›äº† t.test å‡½æ•°æ¥åš t-testï¼Œéžå¸¸ç›´è§‚ã€‚ t-test: åŒæ–¹å·®æˆ‘ä»¬éšæœºç”Ÿæˆä¸¤ä¸ªæ ‡å‡†æ­£æ€åˆ†å¸ƒï¼Œç„¶åŽè°ƒç”¨ t.test åšä¸ªæ£€æµ‹ã€‚ åŽŸå‡è®¾ï¼šä¸¤ä¸ªåˆ†å¸ƒçš„å‡å€¼ç›¸ç­‰å¤‡æ‹©å‡è®¾ï¼šä¸¤ä¸ªåˆ†å¸ƒçš„å‡å€¼ä¸åŒ 1234x &lt;- rnorm(50)y &lt;- rnorm(30)ts &lt;- t.test(x, y, var.equal = TRUE) ts æ³¨æ„ t.test å‡½æ•°é‡Œçš„ var.equal = TRUEï¼Œæˆ‘ä»¬çš„æ£€æµ‹å‡è®¾ä¸¤ä¸ªåˆ†å¸ƒçš„æ–¹å·®ç›¸åŒã€‚ è¿”å›žç»“æžœå¦‚ä¸‹ï¼š Two Sample t-testdata: x and yt = -0.83616, df = 78, p-value = 0.4056alternative hypothesis: true difference in means is not equal to 095 percent confidence interval: -0.5532166 0.2259611sample estimates:mean of x mean of y 0.1215518 0.2851795 å¯ä»¥çœ‹åˆ° p-value å¾ˆå¤§ï¼Œæˆ‘ä»¬ä¸èƒ½æ‹’ç»åŽŸå‡è®¾ã€‚ t-testï¼šå¼‚æ–¹å·®ä¸Šé¢çš„ t.test å‡è®¾ä¸¤ä¸ªåˆ†å¸ƒçš„æ–¹å·®ç›¸åŒï¼Œæˆ‘ä»¬çŸ¥é“è¿™ä¸ªå‡è®¾æˆç«‹ï¼Œå› ä¸ºæ˜¯æˆ‘ä»¬è‡ªå·±ç”Ÿæˆçš„éšæœºæ•°ã€‚ å¦‚æžœä¸¤ä¸ªåˆ†å¸ƒçš„æ–¹å·®ä¸ç›¸åŒå‘¢ï¼Ÿ 1234x &lt;- rnorm(50, mean = 0, sd = 3)y &lt;- rnorm(30, mean = 0, sd = 10)ts &lt;- t.test(x, y) ts æˆ‘ä»¬åˆ é™¤äº† t.test é‡Œçš„ var.equal = TRUEã€‚ ç»“æžœå¦‚ä¸‹ï¼šè¿”å›žç»“æžœå¦‚ä¸‹ï¼š Welch Two Sample t-testdata: x and yt = 0.8916, df = 32.443, p-value = 0.3792alternative hypothesis: true difference in means is not equal to 095 percent confidence interval: -1.964907 5.027061sample estimates: mean of x mean of y 0.4192239 -1.1118530 æ³¨æ„ç¬¬ä¸€è¡Œçš„æ£€æµ‹åç§°è·Ÿä¹‹å‰ä¸ä¸€æ ·äº†ã€‚ å¦‚æžœæƒ³è¦å‡è®¾ä¸¤ä¸ªæ ·æœ¬çš„æ–¹å·®æ˜¯å¦ä¸€æ ·ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ F-testï¼Œåœ¨ R é‡Œæ˜¯ var.test å‡½æ•°ã€‚ æ¡ˆä¾‹èƒŒæ™¯çˆ¶æ¯çš„å­¦åŽ†ï¼ˆåªç®—æœ€é«˜ä¸€æ–¹ï¼‰ä¼šå½±å“å­©å­çš„æˆç»©å—ï¼Ÿç ”ç©¶è€…æœé›†äº†ç›¸å…³æ•°æ®ï¼š 12colleage_grads &lt;- c(485, 534, 650, 554, 550, 572, 497, 592, 487, 533, 526, 410, 515, 578, 448, 469)high_school_grads &lt;- c(442, 580, 479, 486, 528, 524, 492, 478, 425, 485, 390, 535) æ³¨æ„ï¼Œä¸Šé¢ä¸¤ç»„ vector çš„é•¿åº¦ä¸ä¸€æ ·ã€‚ é’ˆå¯¹ç ”ç©¶é—®é¢˜ï¼Œæˆ‘ä»¬çš„åŽŸå‡è®¾æ˜¯ï¼š H0ï¼šçˆ¶æ¯æ˜¯é«˜ä¸­å­¦åŽ†çš„å­¦ç”Ÿçš„è€ƒè¯•æˆç»©å‡å€¼ = çˆ¶æ¯æ˜¯å¤§å­¦å­¦åŽ†çš„å­¦ç”Ÿçš„è€ƒè¯•æˆç»©å‡å€¼Haï¼šçˆ¶æ¯æ˜¯é«˜ä¸­å­¦åŽ†çš„å­¦ç”Ÿçš„è€ƒè¯•æˆç»©å‡å€¼ != çˆ¶æ¯æ˜¯å¤§å­¦å­¦åŽ†çš„å­¦ç”Ÿçš„è€ƒè¯•æˆç»©å‡å€¼ æˆ‘ä»¬é€‰å®šæ˜¾è‘—æ€§æ°´å¹³ä¸º 5%ã€‚ æ•°æ®å¯è§†åŒ–åœ¨åšè¿›ä¸€æ­¥ç ”ç©¶å‰ï¼Œæˆ‘ä»¬åº”è¯¥å…ˆçœ‹çœ‹ä¸¤ç»„æ•°æ®çš„åˆ†å¸ƒï¼š 123456789101112131415# æ•´ç†åšå›¾éœ€è¦çš„ long formatdf &lt;- data.frame( value = c(colleage_grads, high_school_grads), parent_deg = c( rep('å¤§å­¦', length(colleage_grads)), rep('é«˜ä¸­', length(high_school_grads)) ))# ä½¿ç”¨ ggplot2 åšå›¾ggplot(df, aes(x = parent_deg, y = value)) + geom_boxplot() + theme_classic(14) + labs(x = 'çˆ¶æ¯æœ€é«˜å­¦åŽ†', y = 'å°å­©çš„SATæˆç»©') å›¾ç‰‡å¦‚ä¸‹ï¼š \b å¯ä»¥çœ‹åˆ°â€œå¤§å­¦â€ç»„çš„ box æ¯”â€œé«˜ä¸­â€ç»„æ›´é«˜ï¼Œä½†è¿™ä¸ªå·®è·æ˜¯å¦å…·æœ‰ç»Ÿè®¡æ˜¾è‘—æ€§å‘¢ï¼Ÿ æ£€éªŒ1t.test(colleage_grads, high_school_grads) 12345678910 Welch Two Sample t-testdata: colleage_grads and high_school_gradst = 1.8038, df = 25.34, p-value = 0.08317alternative hypothesis: true difference in means is not equal to 095 percent confidence interval: -5.359164 81.359164sample estimates:mean of x mean of y 525 487 p-value = 0.08ï¼Œå¤§äºŽæˆ‘ä»¬å•†é‡å¥½çš„æ˜¾è‘—æ€§æ°´å¹³ 0.05ï¼Œæ‰€ä»¥æˆ‘ä»¬æ— æ³•æ‹’ç»åŽŸå‡è®¾ã€‚ è™½ç„¶ä»Žå›¾ç‰‡æ¥çœ‹ï¼Œå­¦åŽ†ä¼šå¯¹å°å­©æˆç»©æœ‰å½±å“ï¼Œä½†æ•°æ®è¡¨çŽ°å‡ºçš„å·®å¼‚å¹¶ä¸èƒ½é€šè¿‡æ˜¾è‘—æ€§æ£€éªŒã€‚æˆ‘ä»¬æ— æ³•åšå‡ºâ€œçˆ¶æ¯å­¦åŽ†ä¼šå¯¹å°å­©æˆç»©æœ‰å½±å“â€çš„åˆ¤æ–­ã€‚ è¿™ä¸ªä¾‹å­å¾ˆå¥½ï¼Œå®ƒè¯´æ˜Žäº†ä¸€ä¸ªé‡è¦çš„é“ç†ï¼šä¸è¦ä»…ä»…ä¾é æ•°æ®å¯è§†åŒ–åšåˆ¤æ–­ã€‚ æ•°æ®å¯è§†åŒ–ä»£æ›¿ä¸äº†ç»Ÿè®¡æ£€éªŒã€‚ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"ç»Ÿè®¡å­¦","slug":"ç»Ÿè®¡å­¦","permalink":"https://yupototo.github.io/blog/categories/%E7%BB%9F%E8%AE%A1%E5%AD%A6/"}],"tags":[{"name":"R","slug":"R","permalink":"https://yupototo.github.io/blog/tags/R/"},{"name":"Statistics","slug":"Statistics","permalink":"https://yupototo.github.io/blog/tags/Statistics/"}]},{"title":"JavaScript å…¶å®žå¾ˆåƒ Python","slug":"coding-3-js-like-py","date":"2018-09-18T12:21:29.000Z","updated":"2020-02-03T17:14:34.335Z","comments":true,"path":"2018/09/18/coding-3-js-like-py/","link":"","permalink":"https://yupototo.github.io/blog/2018/09/18/coding-3-js-like-py/","excerpt":"åœ¨æˆ‘åˆšå…¥é—¨ JavaScript çš„æ—¶å€™ï¼Œæ„Ÿè§‰ JavaScript æ˜¯ä¸ªèŽ«åå…¶å¦™çš„è¯­è¨€ã€‚åœ¨é‚£ä¹‹å‰ï¼Œæˆ‘çœŸæ­£ç§°å¾—ä¸Šäº†è§£çš„è¯­è¨€åªæœ‰ pythonã€‚å†™ python æ˜¯ä¸€ç§äº«å—ï¼Œç›¸æ¯”ä¹‹ä¸‹ï¼Œå†™ JavaScript çš„ä½“éªŒå¾ˆâ€œæ€ªå¼‚â€ã€‚ åŽæ¥æˆ‘æ‰ç›´åˆ°ï¼ŒJavaScript æ˜¯ä¸€ä¸ªåœ¨å¾ˆçŸ­æ—¶é—´å†…åˆ›é€ çš„è¯­è¨€ï¼Œæ˜¯ä¸ºäº†åœ¨æµè§ˆå™¨ä¸Šè¿è¡Œã€‚æˆ‘æ‰€å­¦ä¹ çš„ JavaScriptï¼Œè¿˜æ˜¯20å¤šå¹´å‰çš„ç‰ˆæœ¬ã€‚æ‹¿è€ç‰ˆæœ¬çš„ JavaScript å’Œä»Šå¤©çš„ python3 åŽ»æ¯”è¾ƒï¼Œæ˜¯æŒºä¸åˆç†çš„ã€‚ åœ¨äº†è§£åˆ°æœ€æ–°çš„ JS åŠŸèƒ½åŽï¼ŒJavaScript çªç„¶å˜å¾—â€œå¯çˆ±â€äº†ï¼Œç”šè‡³åœ¨æŸäº›åœ°æ–¹å¾ˆåƒ pythonã€‚ \b\b\b\b\b","text":"åœ¨æˆ‘åˆšå…¥é—¨ JavaScript çš„æ—¶å€™ï¼Œæ„Ÿè§‰ JavaScript æ˜¯ä¸ªèŽ«åå…¶å¦™çš„è¯­è¨€ã€‚åœ¨é‚£ä¹‹å‰ï¼Œæˆ‘çœŸæ­£ç§°å¾—ä¸Šäº†è§£çš„è¯­è¨€åªæœ‰ pythonã€‚å†™ python æ˜¯ä¸€ç§äº«å—ï¼Œç›¸æ¯”ä¹‹ä¸‹ï¼Œå†™ JavaScript çš„ä½“éªŒå¾ˆâ€œæ€ªå¼‚â€ã€‚ åŽæ¥æˆ‘æ‰ç›´åˆ°ï¼ŒJavaScript æ˜¯ä¸€ä¸ªåœ¨å¾ˆçŸ­æ—¶é—´å†…åˆ›é€ çš„è¯­è¨€ï¼Œæ˜¯ä¸ºäº†åœ¨æµè§ˆå™¨ä¸Šè¿è¡Œã€‚æˆ‘æ‰€å­¦ä¹ çš„ JavaScriptï¼Œè¿˜æ˜¯20å¤šå¹´å‰çš„ç‰ˆæœ¬ã€‚æ‹¿è€ç‰ˆæœ¬çš„ JavaScript å’Œä»Šå¤©çš„ python3 åŽ»æ¯”è¾ƒï¼Œæ˜¯æŒºä¸åˆç†çš„ã€‚ åœ¨äº†è§£åˆ°æœ€æ–°çš„ JS åŠŸèƒ½åŽï¼ŒJavaScript çªç„¶å˜å¾—â€œå¯çˆ±â€äº†ï¼Œç”šè‡³åœ¨æŸäº›åœ°æ–¹å¾ˆåƒ pythonã€‚ \b\b\b\b\b å¤šè¡Œ stringé—®é¢˜ï¼šå¦‚ä½•ç»™ string æ¢è¡Œå‘¢ï¼Ÿ python123poem = \"\"\"Programming is funExcept for syntax errorsMissing curly brace\"\" è€ç‰ˆæœ¬çš„ JavaScript ä¸æ”¯æŒï¼Œä½†çŽ°åœ¨æ”¯æŒäº†ï¼š JavaScript123var poem = `Programming is funExcept for syntax errorsMissing curly brace`; Expression Interpolationé—®é¢˜ï¼šå¦‚ä½•æ–¹ä¾¿åœ°åœ¨ string ä¸­ä½¿ç”¨å˜é‡å‘¢ï¼Ÿ python123a = 5b = 10print(f'Fifteen is {a + b} and not {2 * a + b}.') ä¸Šé¢è¿™ä¸ªåŠŸèƒ½å¾ˆå®žç”¨ï¼Œè®©ä»£ç çš„å¯è¯»æ€§æé«˜äº†å‡ ä¸ªæ¡£æ¬¡ã€‚JavaScript ä¹Ÿæœ‰ç±»ä¼¼çš„å†™æ³•ï¼š JavaScript123var a = 5var b = 10console.log(`Fifteen is ${a + b} and not ${2 * a + b}.`) Destructuringé—®é¢˜ï¼šå¦‚ä½•åŒæ—¶ assign å‡ ä¸ªå˜é‡çš„å€¼å‘¢ï¼Ÿ python12numbers = (1, 2, 3)x, y, z = numbers Destructuring åœ¨æŸäº›åœºåˆæœ‰ç”¨ï¼ŒES2017 é‡Œæœ‰äº†ç±»ä¼¼çš„è®¾è®¡ï¼š JavaScript12var numbers = [1, 2, 3]var [x, y, z] = numbers Spread Operatoré—®é¢˜ï¼šå¦‚ä½• assign æ•°ç»„é‡Œçš„ä¸€ä¸ªå˜é‡ï¼Œå¹¶å¿½ç•¥å…¶ä»–å˜é‡å‘¢ï¼Ÿ python12numbers = [1, 2, 3, 4]first, *remaining = numbers ä¸‹é¢æ˜¯ JavaScript çš„å†™æ³•ï¼š JavaScript12var numbers = [1, 2, 3, 4]var [first, ...remaining] = numbers Rest Operatoré—®é¢˜ï¼šå¦‚ä½•ç»™å‡½æ•°ä»»æ„å¤šä¸ª argument å‘¢ï¼Ÿ python12345def myFun(*argv): for arg in argv: print (arg)myFun('a', 'b', 'c') åœ¨ python é‡Œè¿™ä¸ªè§„åˆ™å« wargsã€‚åœ¨ JavaScript é‡Œï¼Œä½¿ç”¨ ...ï¼Œè¿™ä¸‰ä¸ªç‚¹å« *rest operator JavaScript12345678function product(...args) { var arg for (arg of args) { console.log(arg) }}product('a', 'b', 'c') ç®­å¤´å‡½æ•°é—®é¢˜ï¼šå¦‚ä½•æŠŠä¸€ä¸ªæ•°ç»„é‡Œçš„æ•°å­—å…¨éƒ¨å¼€æ–¹ python1234numbers = [1, 2, 3, 4]list(map(lambda x: x * 2, numbers))# or [x * 2 for x in numbers] JavaScript é‡Œä½¿ç”¨ç®­å¤´å‡½æ•°ï¼š=&gt; JavaScript12var numbers = [1, 2, 3, 4]numbers.map(v =&gt; v * 2) ç›¸æ¯” lambdaï¼Œç®­å¤´å‡½æ•°ç”šè‡³æ›´åŠ  elegantã€‚ Classé—®é¢˜ï¼šå¦‚ä½•åˆ›å»ºä¸€ä¸ª class python123456class Point: def __init__(self, x, y): self.x = x self.y = y def __str__(self): return \"({x}, {y})\".format(x=self.x, y=self.y) åœ¨ ES2017 ä¹‹å‰ï¼ŒJavaScript çš„åšæ³•ï¼š JavaScript12345678function Point(x, y) { this.x = x this.y = y}Point.prototype.toString = function () { return '(' + this.x + ', ' + this.y + ')';}; ç¬¬ä¸€æ¬¡çœ‹åˆ°ä¸Šé¢è¿™æ®µä»£ç æ—¶æˆ‘éžå¸¸è´¹è§£ï¼Œè¿™æ˜¯ä»€ä¹ˆé¬¼ðŸ˜°ï¼ŸçŽ°åœ¨æœ‰æ–°çš„å†™æ³•äº†ï¼š JavaScript12345678910class Point { constructor(x, y) { this.x = x; this.y = y; } toString() { return '(' + this.x + ', ' + this.y + ')'; }} ä¹ æƒ¯ python çš„å¼€å‘è€…å¯ä»¥æ— ç¼ç†è§£äº†ðŸ˜†ã€‚ å°ç»“åœ¨ Hacker News ä¸Šçœ‹åˆ°è¿‡ä¸€å¥è¯ï¼š æˆ‘æ‹›äººçš„æ—¶å€™ä»Žæ¥ä¸é—®å¯¹æ–¹ä¼šä»€ä¹ˆç¼–ç¨‹è¯­è¨€ï¼Œå› ä¸ºåªè¦ä½ ä¼šä¸€é—¨è¯­è¨€ï¼ŒæŽŒæ¡å…¶ä»–è¯­è¨€éƒ½å¾ˆå®¹æ˜“ã€‚ä½œä¸ºä¸€ä¸ªå·¥ç¨‹å¸ˆï¼ŒçœŸæ­£é‡è¦çš„ä¸æ˜¯ä½ ä¼šä»€ä¹ˆè¯­è¨€æˆ–æ¡†æž¶ï¼Œè€Œæ˜¯â€¦â€¦ è¿™å¥è¯æˆ‘åªè®°å¾—å‰åŠå¥ï¼ŒçŽ°åœ¨æœ‰ç‚¹ç†è§£ä¸ºä»€ä¹ˆç¼–ç¨‹è¯­è¨€ä¸é‡è¦äº†ã€‚ä¸è¿‡é‡è¦çš„åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿè™½ç„¶æˆ‘ä¸æ˜¯è½¯ä»¶å·¥ç¨‹å¸ˆï¼Œä¸è¿‡è¿˜æ˜¯å¯¹è¿™ä¸ªç­”æ¡ˆå¾ˆå¥½å¥‡ã€‚ å¦‚æžœæˆ‘éœ€è¦æ‹›ä¸€ä¸ªè½¯ä»¶å·¥ç¨‹å¸ˆï¼Œæˆ‘ä¼šå¸Œæœ›ä»–/å¥¹æœ‰ä»€ä¹ˆç‰¹è´¨ï¼Ÿ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"Coding","slug":"Coding","permalink":"https://yupototo.github.io/blog/categories/Coding/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://yupototo.github.io/blog/tags/JavaScript/"},{"name":"Python","slug":"Python","permalink":"https://yupototo.github.io/blog/tags/Python/"}]},{"title":"æ•°æ®ç§‘å­¦ï¼šç”¨ R è¿˜æ˜¯ Python?","slug":"ds-1-r-or-py","date":"2018-09-05T08:05:05.000Z","updated":"2020-02-03T17:14:34.339Z","comments":true,"path":"2018/09/05/ds-1-r-or-py/","link":"","permalink":"https://yupototo.github.io/blog/2018/09/05/ds-1-r-or-py/","excerpt":"ç½‘ä¸Šç»å¸¸çœ‹åˆ°äººè®¨è®ºï¼šR å’Œ Pythonï¼Œå“ªä¸ªæ›´å¥½å‘¢ï¼Ÿ æˆ‘ä¸å¤ªå–œæ¬¢è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºâ€œå¥½â€çš„æ ‡å‡†å®žåœ¨å¤ªå¤šï¼Œä¸åŒåœºæ™¯æœ‰ä¸åŒçš„æ ‡å‡†ã€‚åˆå­¦è€…ä¸ºäº†å¿«é€Ÿäº†è§£ç»Ÿè®¡å­¦ï¼Œæœ€åˆé€‚çš„è‚¯å®šæ˜¯ Rï¼›åšäººå·¥æ™ºèƒ½çš„å›¢é˜Ÿä¸ºäº†ä½¿ç”¨ Tensorflow ç­‰å¼€æºå·¥å…·ï¼Œæœ€é€‚åˆçš„è‚¯å®šæ˜¯ pythonã€‚ æ‰€ä»¥åœ¨è®¨è®ºè¿™ä¸ªè¯é¢˜ä¹‹å‰ï¼Œæˆ‘å…ˆé™å®šå¥½åœºæ™¯ï¼šä¸€ä¸ªå¤§å…¬å¸å†…éœ€è¦è¿›è¡Œåºžå¤§ä¸šåŠ¡åˆ†æžçš„æ•°æ®å›¢é˜Ÿã€‚åœ¨è¿™ä¸ªåœºæ™¯å†…ï¼Œåº”è¯¥ä½¿ç”¨å“ªä¸ªå·¥å…·å‘¢ï¼Ÿ æˆ‘çš„æ–¹æ¡ˆæ˜¯ï¼šR å’Œ python éƒ½ä½¿ç”¨ï¼Œä½†ä¸¤è€…æœ‰ä¸åŒçš„ä½¿ç”¨åœºåˆã€‚","text":"ç½‘ä¸Šç»å¸¸çœ‹åˆ°äººè®¨è®ºï¼šR å’Œ Pythonï¼Œå“ªä¸ªæ›´å¥½å‘¢ï¼Ÿ æˆ‘ä¸å¤ªå–œæ¬¢è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºâ€œå¥½â€çš„æ ‡å‡†å®žåœ¨å¤ªå¤šï¼Œä¸åŒåœºæ™¯æœ‰ä¸åŒçš„æ ‡å‡†ã€‚åˆå­¦è€…ä¸ºäº†å¿«é€Ÿäº†è§£ç»Ÿè®¡å­¦ï¼Œæœ€åˆé€‚çš„è‚¯å®šæ˜¯ Rï¼›åšäººå·¥æ™ºèƒ½çš„å›¢é˜Ÿä¸ºäº†ä½¿ç”¨ Tensorflow ç­‰å¼€æºå·¥å…·ï¼Œæœ€é€‚åˆçš„è‚¯å®šæ˜¯ pythonã€‚ æ‰€ä»¥åœ¨è®¨è®ºè¿™ä¸ªè¯é¢˜ä¹‹å‰ï¼Œæˆ‘å…ˆé™å®šå¥½åœºæ™¯ï¼šä¸€ä¸ªå¤§å…¬å¸å†…éœ€è¦è¿›è¡Œåºžå¤§ä¸šåŠ¡åˆ†æžçš„æ•°æ®å›¢é˜Ÿã€‚åœ¨è¿™ä¸ªåœºæ™¯å†…ï¼Œåº”è¯¥ä½¿ç”¨å“ªä¸ªå·¥å…·å‘¢ï¼Ÿ æˆ‘çš„æ–¹æ¡ˆæ˜¯ï¼šR å’Œ python éƒ½ä½¿ç”¨ï¼Œä½†ä¸¤è€…æœ‰ä¸åŒçš„ä½¿ç”¨åœºåˆã€‚ PythonPython æ˜Žæ˜¾å¼ºè¿‡ R çš„åœ°æ–¹æœ‰ä¸‰ç‚¹ï¼š Python æ˜¯é€šç”¨è¯­è¨€ï¼Œèƒ½è§£å†³æ•°æ®åˆ†æžä¹‹å¤–çš„å„ç§é—®é¢˜ å¯¹æœºå™¨å­¦ä¹ å’Œäººå·¥æ™ºèƒ½çš„æ”¯æŒ Python æ˜¯æ›´â€œä¼˜é›…â€çš„è¯­è¨€ Python æ˜¯é€šç”¨åž‹è¯­è¨€ï¼Œå¯ä»¥ç”¨æ¥è§£å†³å„ç§é—®é¢˜ã€‚å› ä¸ºç”¨ python è§£å†³ä¸åŒé—®é¢˜çš„äººå¾ˆå¤šï¼Œæ‰€ä»¥ç¨‹åºå‘˜ä»¬åŸºäºŽ python å¼€å‘äº†å¤§é‡çš„å·¥å…·ã€‚æƒ³åš http è®¿é—®ï¼Œå¯ä»¥ä½¿ç”¨ requests åŒ…ã€‚æƒ³å†™çˆ¬è™«ï¼Œæœ‰ scrapy åŒ…ã€‚æƒ³è¿žæŽ¥ SQL æ•°æ®åº“ï¼Œæœ‰ SQLAlchemy åŒ…â€¦..å¤§éƒ¨åˆ†é—®é¢˜éƒ½èƒ½åœ¨ python ä¸Šæ‰¾åˆ°å¯¹åº”çš„å·¥å…·ã€‚è€Œä¸”ï¼Œè¿™äº›å·¥å…·å¤§æ¦‚çŽ‡æ¯” R è¯­è¨€çš„ library è¦å¼ºå¤§ã€‚æ¯•ç«Ÿï¼Œç»™ R è¯­è¨€å†™å·¥å…·çš„ï¼Œä¸€èˆ¬æ˜¯ç»Ÿè®¡å­¦å®¶ï¼Œç»™ python å†™å·¥å…·çš„ï¼Œä¸€èˆ¬æ˜¯ coderï¼ŒåŽè€…çš„å·¥å…·å¼€å‘èƒ½åŠ›ã€æ–‡æ¡£çš„å¯è¯»æ€§éƒ½å¼ºäºŽå‰è€…ã€‚ å†è¯´æœºå™¨å­¦ä¹ å’Œäººå·¥æ™ºèƒ½ï¼Œpython æ˜¯è¿™ä¸ªé¢†åŸŸçš„é»˜è®¤è¯­è¨€ï¼Œtensorflowã€pytorch ç­‰å¼€æºæ–¹æ¡ˆéƒ½ä¼˜å…ˆæ”¯æŒ pythonã€‚ Python åˆ›å»ºä¹‹åˆï¼Œå°±æ˜¯åœ¨è®¾è®¡ä¸€ä¸ªâ€œç®€å•æ˜“ç”¨â€çš„è¯­è¨€ï¼ˆè¿™é‡Œçš„â€œç®€å•æ˜“ç”¨â€è¦æ‰“ä¸€ä¸ªåŒå¼•å·ï¼Œå› ä¸ºç‰ºç‰²äº†å…¶ä»–çš„ä¸œè¥¿ï¼Œä½†è¿™å¯¹æ•°æ®åˆ†æžå½±å“ä¸å¤§ï¼‰ã€‚å†™ python ä»£ç æ˜¯ä¸€ç§äº«å—ã€‚é˜…è¯»å†™å¾—å¥½çš„ python ä»£ç ä¹Ÿæ˜¯ä¸€ç§äº«å—ã€‚ RR æ¯” python å¼ºå¤§çš„åœ°æ–¹ä¹Ÿæœ‰ï¼š Ræ˜¯ä¸“é—¨ä¸ºç»Ÿè®¡å­¦è®¾è®¡çš„è¯­è¨€ å¼ºå¤§çš„ç»Ÿè®¡ç”Ÿæ€ å¼ºå¤§çš„æ•°æ®ç›¸å…³è¾…åŠ©å·¥å…· \bR æ˜¯ä¸“é—¨ä¸ºç»Ÿè®¡å­¦è®¾è®¡çš„è¯­è¨€ï¼Œpython æ˜¯æ›´åº•å±‚çš„è¯­è¨€ï¼Œæ‰€ä»¥åšç»Ÿè®¡åˆ†æžæ—¶ï¼Œpython éœ€è¦ä½¿ç”¨ pandas ç­‰ packageï¼Œè€Œ R å¯ä»¥å¿«é€Ÿä¸Šæ‰‹ï¼Œç›´æŽ¥å¼€å§‹åˆ†æžã€‚æƒ³è¦ä½¿ç”¨ python åšæ•°æ®åˆ†æžï¼Œå…¶å®žéœ€è¦å­¦ä¹ ä¸¤ä¸ªä¸œè¥¿ï¼špython å’Œ pandasã€‚Pandas æ˜¯å¼€å‘è€…å‚è€ƒ R è¯­è¨€å¼€å‘çš„ã€‚ Python æœ‰å¼ºå¤§çš„æ•´ä½“ç”Ÿæ€ï¼ŒR åˆ™æœ‰å¼ºå¤§çš„ç»Ÿè®¡ç”Ÿæ€ã€‚è‡³å°‘åœ¨æˆ‘å†™è¿™ç¯‡æ–‡ç« æ—¶ï¼Œç»Ÿè®¡å­¦å±Šçš„é»˜è®¤åˆ†æžè¯­è¨€åŸºæœ¬æ˜¯ R è¯­è¨€ã€‚\bä¸–ç•Œä¸Šæœ€æ–°çš„ç»Ÿè®¡æ–¹æ³•ï¼Œéƒ½èƒ½åœ¨ R è¯­è¨€ä¸­æ‰¾åˆ°ã€‚ å¦å¤–ï¼ŒR è¯­è¨€çš„æ•°æ®æ¸…æ´—å·¥å…·ã€æ•°æ®å¯è§†åŒ–å·¥å…·å’Œæ•°æ®æŠ¥å‘Šå·¥å…·éƒ½å¼ºè¿‡ pythonã€‚ æ•°æ®æ¸…æ´—ï¼šHadly Wickham å¤§ç¥žçš„ tidyverse ç³»åˆ—ç®€ç›´æ˜¯äººç±»æ™ºæ…§çš„ç»“æ™¶ï¼Œè¿™å¥—å·¥å…·é›†æŠŠæ•°æ®æ¸…æ´—å˜æˆäº†ä¸€ç§äº«å—ã€‚ æ•°æ®å¯è§†åŒ–ï¼šè¿˜æ˜¯ Hadly Wickham å¤§ç¥žï¼Œä»–çš„ ggplot å·¥å…·ï¼Œ\bå¸®åŠ©æˆ‘ä»¬é‡æ–°é‡æž„äº†æ•°æ®å¯è§†åŒ–çš„æ€è€ƒæ¨¡å¼ã€‚ æ•°æ®æŠ¥å‘Šå·¥å…·ï¼šè¿™è¦æ„Ÿè°¢ä¸­å›½çš„ Yihui å¤§ç¥žï¼Œä»–çš„ knitrã€rmarkdown ç­‰å·¥å…·ï¼Œè®©æ•°æ®æŠ¥å‘Šçš„äº§å‡ºå˜å¾—æ›´è½»æ¾ã€ç®€å•ä¸”ç§‘å­¦è§„èŒƒã€‚ 1 + 1 &gt; 2\b\bè¯´å®Œäº†ä¸¤è€…çš„ä¼˜ç‚¹ï¼ŒçŽ°åœ¨æ¥è¯´è¯´å¦‚ä½•ç»“åˆä¸¤è€…ã€‚ æˆ‘ä½¿ç”¨ python çš„åœºåˆï¼š ä¸Žæ•°æ®åº“çš„æ²Ÿé€šï¼Œå› ä¸º python è¿žæŽ¥æ•°æ®åº“çš„å·¥å…·éžå¸¸å¥½ç”¨ Restful API è®¿é—®ï¼Œä½¿ç”¨ requests åŒ… \béžç»“æž„åŒ–æ•°æ®çš„èŽ·å–å’Œæ¸…æ´— æœºå™¨å­¦ä¹  æˆ‘ä½¿ç”¨ R çš„åœºåˆï¼š è§„èŒƒæ€§æ•°æ®çš„æ¸…æ´— ç»Ÿè®¡å­¦å‡è®¾æ£€éªŒ æ•°æ®å¯è§†åŒ–å’Œæ•°æ®æŠ¥å‘Š ä¸Šé¢çš„ä½¿ç”¨åœºæ™¯åº”è¯¥æ˜¯æœ€èƒ½å‘æŒ¥ä¸¤è€…ä¼˜åŠ¿çš„ã€‚ä¸è¿‡æŒ‰ç…§ python ç”Ÿæ€çš„å‘å±•é€Ÿåº¦ï¼Œä¹Ÿè®¸å¾ˆå¿« python å°±ä¼šåœ¨ç»Ÿè®¡å­¦ã€å¯è§†åŒ–å’ŒæŠ¥å‘Šäº§å‡ºä¸Šè¶…è¿‡ R è¯­è¨€ã€‚å¦‚æžœåˆ°äº†é‚£ä¸€å¤©ï¼Œä¹Ÿè®¸åªä½¿ç”¨ python å°±å¤Ÿäº†ã€‚ å¦‚æžœå¿…é¡»äºŒé€‰ä¸€å‘¢ï¼Ÿ å°å­©å­æ‰åšé€‰æ‹©é¢˜ï¼Œæˆå¹´äººå…¨éƒ½è¦ã€‚ å½“ç„¶ï¼Œå­¦ä¹  python å’Œ R éƒ½æŒºå®¹æ˜“çš„ï¼Œå¦‚æžœåªæ˜¯åšæ•°æ®åˆ†æžçš„è¯ï¼Œä¼š python çš„äººå¯ä»¥åœ¨ä¸¤å‘¨å†…æŽŒæ¡ Rï¼Œåä¹‹ä¹Ÿæˆç«‹ã€‚ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"æ•°æ®ç§‘å­¦","slug":"æ•°æ®ç§‘å­¦","permalink":"https://yupototo.github.io/blog/categories/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://yupototo.github.io/blog/tags/Python/"},{"name":"R","slug":"R","permalink":"https://yupototo.github.io/blog/tags/R/"}]},{"title":"ggplotç³»åˆ—ä¹‹6ï¼šé¥¼å›¾","slug":"ggplot_6_pie","date":"2018-09-01T05:20:15.000Z","updated":"2020-02-03T17:14:34.343Z","comments":true,"path":"2018/09/01/ggplot_6_pie/","link":"","permalink":"https://yupototo.github.io/blog/2018/09/01/ggplot_6_pie/","excerpt":"è¯´åˆ°æ•°æ®å¯è§†åŒ–ï¼Œå°±é€ƒä¸äº†é¥¼å›¾ã€‚æˆ‘è¿˜è®°å¾—åœ¨å­¦æ ¡é‡Œåš presentation çš„æ—¶å€™ï¼Œé¥¼å›¾å¤§æ¦‚æ˜¯æœ€å¸¸è§çš„å›¾ç‰‡ç±»åž‹ã€‚ è¿™ç¯‡æ–‡ç« è°ˆè°ˆé¥¼å›¾ã€‚ \b\b","text":"è¯´åˆ°æ•°æ®å¯è§†åŒ–ï¼Œå°±é€ƒä¸äº†é¥¼å›¾ã€‚æˆ‘è¿˜è®°å¾—åœ¨å­¦æ ¡é‡Œåš presentation çš„æ—¶å€™ï¼Œé¥¼å›¾å¤§æ¦‚æ˜¯æœ€å¸¸è§çš„å›¾ç‰‡ç±»åž‹ã€‚ è¿™ç¯‡æ–‡ç« è°ˆè°ˆé¥¼å›¾ã€‚ \b\b åˆ«ç”¨é¥¼å›¾å…¶å®žï¼Œé¥¼å›¾æ˜¯ç³Ÿç³•çš„æ•°æ®å¯è§†åŒ–æ–¹æ³•ï¼Œåˆ«ç”¨é¥¼å›¾ã€‚ åŽŸå› ï¼šé¥¼å›¾ç”¨é¢ç§¯è¡¨ç¤ºæ•°é‡çš„å¤§å°ï¼Œä½†è§†è§‰å¯¹é¢ç§¯çš„æ„ŸçŸ¥èƒ½åŠ›å¾ˆå¼±ï¼Œä½¿ç”¨é¥¼å›¾ä¼šå¯¼è‡´è¾ƒä½Žçš„ä¿¡æ¯ä¼ é€’æ•ˆçŽ‡ã€‚ å…ˆçœ‹ä¸‹é¢è¿™ä¸ªé¥¼å›¾ï¼š ä¸Šé¢è¿™ä¸ªå›¾è®©äººæœ‰è‡³å°‘ä¸¤ä¸ªå›°æƒ‘ï¼š ç¬¬2å’Œç¬¬4ä½æ˜¯ä¸æ˜¯ä¸€æ ·å¤šå‘¢ï¼Ÿ ç¬¬1ä½åˆ°åº•æ¯”ç¬¬2ä½å¤šå¤šå°‘å‘¢ï¼Ÿ ä¸€ä¸ªæ›´å¥½çš„å¯è§†åŒ–ï¼Œæ˜¯ä½¿ç”¨æŸ±çŠ¶å›¾ï¼š æŸ±çŠ¶å›¾ç¬¦åˆäººç±»è¿›åŒ–çš„ç»“æžœï¼šçœ¼ç›å¯¹é•¿åº¦çš„æ•é”åº¦è¿œè¿œé«˜äºŽé¢ç§¯ã€‚ Less is Moreæœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½æƒ³é€šè¿‡é¥¼å›¾å¼ºè°ƒæŸä¸€ä¸ªåˆ†ç±»çš„å æ¯”æœ€å¤§ã€‚å…¶å®žè¿™é‡Œä¹Ÿå¯ä»¥ç”¨æŸ±çŠ¶å›¾ã€‚ å…ˆçœ‹ä¸‹å›¾ï¼š ä½¿ç”¨é¥¼å›¾å·²ç»è¶³å¤Ÿç»™äººå›°æ‰°äº†ï¼Œä½¿ç”¨3Då½¢å¼ç®€ç›´å°±æ˜¯åœ¨çŠ¯ç½ªã€‚ çœ‹çœ‹Joey Cherdarchukçš„ä¼˜åŒ–æˆæžœï¼š æ¸…æ™°ï¼Œç®€æ´ï¼Œç¾Žè§‚ï¼Œèˆ’æœã€‚ Joey Cherdarchuk çš„åŽŸæ–‡ä¸€æ­¥æ­¥æŠŠå‰é¢é‚£ä¸ªä¸‘é™‹çš„é¥¼å›¾ç®€åŒ–æˆäº†åŽé¢çš„æ ·å­ï¼Œéžå¸¸éœ‡æ’¼ã€‚ å¦‚ä½•ç”¨ ggplot åšé¥¼å›¾å›žç­”æœ€å¼€å§‹æå‡ºçš„é—®é¢˜ï¼Œå¦‚ä½•ç”¨ ggplot åšé¥¼å›¾å‘¢ï¼Ÿç­”æ¡ˆï¼šåˆ«åšé¥¼å›¾ï¼Œæ”¹ç”¨æŸ±çŠ¶å›¾ã€‚ å¦‚æžœä½ çœŸçš„éžé¥¼å›¾ä¸ç”»ï¼Œggplot å¯èƒ½ä¸æ˜¯ä¸ªå¥½å·¥å…·ã€‚é¥¼å›¾çš„ç¼ºç‚¹åŸºæœ¬å·²ç»æ˜¯ç»Ÿè®¡å­¦å±Šçš„å…±è¯†ï¼Œæ‰€ä»¥ ggplot å®Œå…¨æ²¡æœ‰æä¾›åˆ¶ä½œé¥¼å›¾çš„ geom_pieã€‚ å½“ç„¶ï¼Œggplot çµæ´»çš„è¯­æ³•è¿˜æ˜¯å¯ä»¥ç”»å‡ºé¥¼å›¾çš„ï¼Œå¯ä»¥å…ˆç”¨geom_barï¼Œç„¶åŽåšä¸€ä¸ªåæ ‡å˜æ¢coord_polarã€‚å…·ä½“ä»£ç å¯ä»¥å‚è€ƒè¿™é‡Œã€‚ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"æ•°æ®å¯è§†åŒ–","slug":"æ•°æ®å¯è§†åŒ–","permalink":"https://yupototo.github.io/blog/categories/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/"}],"tags":[{"name":"R","slug":"R","permalink":"https://yupototo.github.io/blog/tags/R/"}]},{"title":"æ¨¡æ‹Ÿâ€œä¸­å¿ƒæžé™å®šç†â€ - æ¯”ä¾‹ç¯‡","slug":"stat_6_clt_proportion","date":"2018-08-23T19:13:45.000Z","updated":"2020-02-03T17:14:34.351Z","comments":true,"path":"2018/08/23/stat_6_clt_proportion/","link":"","permalink":"https://yupototo.github.io/blog/2018/08/23/stat_6_clt_proportion/","excerpt":"ä¸Šä¸€ç¯‡æ¨¡æ‹Ÿäº†å‡å€¼çš„ä¸­å¿ƒæžé™å®šç†ï¼Œè¿™ä¸€ç¯‡å†æ‰©å±•ä¸€ä¸‹ã€‚ ä¸­å¿ƒæžé™å®šç†ä¸åªé€‚ç”¨äºŽå‡å€¼ï¼Œè¿˜å¯ç”¨äºŽå¯¹â€œå æ¯”â€çš„æè¿°ã€‚ä»€ä¹ˆæ˜¯å æ¯”å‘¢ï¼Ÿ ä¾‹å­ï¼š æ€»ç»Ÿé€‰ä¸¾ä¸­å€™é€‰äºº A çš„æ”¯æŒçŽ‡ \bApp Store è½åœ°é¡µçš„ä¸‹è½½è½¬åŒ–çŽ‡ \b\bè®¤ä¸º Google è‚¡ç¥¨ä¼šä¸Šæ¶¨çš„è‚¡æ°‘æ¯”ä¾‹ â€¦ åœ¨äº’è”ç½‘è¡Œä¸šï¼Œè¿™ä¸ªæŒ‡æ ‡æœ€é‡è¦çš„åº”ç”¨åº”è¯¥æ˜¯å„ç§è½¬åŒ–çŽ‡ã€‚ ä¸­å¿ƒæžé™å®šç†å…¬è¯‰æˆ‘ä»¬ï¼Œå½“æ ·æœ¬è¶³å¤Ÿå¤§æ—¶ï¼Œæ ·æœ¬çš„æ¯”ä¾‹ç¬¦åˆæ­£æ€åˆ†å¸ƒã€‚ è¯¥åˆ†å¸ƒçš„å‡å€¼ç­‰äºŽæ€»ä½“çš„åˆ†å¸ƒï¼š \b è¯¥åˆ†å¸ƒçš„æ ‡å‡†å·®å¯ä»¥ç”¨å¦‚ä¸‹å…¬å¼è®¡ç®—ï¼š\b æŽ¥ä¸‹æ¥æˆ‘ä»¬æ¨¡æ‹Ÿ proportion çš„ä¸­å¿ƒæžé™å®šç†ã€‚ \b","text":"ä¸Šä¸€ç¯‡æ¨¡æ‹Ÿäº†å‡å€¼çš„ä¸­å¿ƒæžé™å®šç†ï¼Œè¿™ä¸€ç¯‡å†æ‰©å±•ä¸€ä¸‹ã€‚ ä¸­å¿ƒæžé™å®šç†ä¸åªé€‚ç”¨äºŽå‡å€¼ï¼Œè¿˜å¯ç”¨äºŽå¯¹â€œå æ¯”â€çš„æè¿°ã€‚ä»€ä¹ˆæ˜¯å æ¯”å‘¢ï¼Ÿ ä¾‹å­ï¼š æ€»ç»Ÿé€‰ä¸¾ä¸­å€™é€‰äºº A çš„æ”¯æŒçŽ‡ \bApp Store è½åœ°é¡µçš„ä¸‹è½½è½¬åŒ–çŽ‡ \b\bè®¤ä¸º Google è‚¡ç¥¨ä¼šä¸Šæ¶¨çš„è‚¡æ°‘æ¯”ä¾‹ â€¦ åœ¨äº’è”ç½‘è¡Œä¸šï¼Œè¿™ä¸ªæŒ‡æ ‡æœ€é‡è¦çš„åº”ç”¨åº”è¯¥æ˜¯å„ç§è½¬åŒ–çŽ‡ã€‚ ä¸­å¿ƒæžé™å®šç†å…¬è¯‰æˆ‘ä»¬ï¼Œå½“æ ·æœ¬è¶³å¤Ÿå¤§æ—¶ï¼Œæ ·æœ¬çš„æ¯”ä¾‹ç¬¦åˆæ­£æ€åˆ†å¸ƒã€‚ è¯¥åˆ†å¸ƒçš„å‡å€¼ç­‰äºŽæ€»ä½“çš„åˆ†å¸ƒï¼š \b è¯¥åˆ†å¸ƒçš„æ ‡å‡†å·®å¯ä»¥ç”¨å¦‚ä¸‹å…¬å¼è®¡ç®—ï¼š\b æŽ¥ä¸‹æ¥æˆ‘ä»¬æ¨¡æ‹Ÿ proportion çš„ä¸­å¿ƒæžé™å®šç†ã€‚ \b åœºæ™¯å‡è®¾æŸ app æœ‰100ä¸‡ä¸ªç”¨æˆ·ï¼Œè¯¥ app æƒ³ä¸Šçº¿ä¸€ä¸ªæ–°åŠŸèƒ½ï¼Œä½†ç›´æŽ¥å…¨é‡ä¸Šçº¿æ˜¯ä¸å¤ªå¥½ï¼Œé£Žé™©å¤ªå¤§ã€‚ ä¸ºäº†æµ‹è¯•è¿™ä¸ªæ–°åŠŸèƒ½æ˜¯å¦å—æ¬¢è¿Žï¼Œäº§å“ç»ç†å†³å®šå…ˆè®©ä¸€éƒ¨åˆ†ç”¨æˆ·è¯•ç”¨ï¼Œç„¶åŽå†å¯¹ä»–ä»¬åšè°ƒæŸ¥ï¼Œæé—®ä»–ä»¬æ˜¯å¦å–œæ¬¢è¿™ä¸ªåŠŸèƒ½ã€‚ æ ¹æ®ä¸­å¿ƒæžé™å®šç†ï¼Œæ ·æœ¬é‡è¶Šå¤§è¶Šç¬¦åˆæ­£æ€åˆ†å¸ƒï¼Œä¸”æ–¹å·®è¶Šå°ã€‚æˆ‘ä»¬æ¨¡æ‹Ÿä¸åŒæ ·æœ¬é‡ä¸‹çš„ä¼°è®¡å€¼çš„åˆ†å¸ƒã€‚ R ä»£ç ä»£ç è·Ÿä¸Šä¸€ç¯‡å·®ä¸å¤šã€‚ å‡†å¤‡1234567library(tidyverse)library(ggpubr)set.seed(123)pop_size &lt;- 1000000pop_player &lt;- c(rep(\"like\", 0.7 * pop_size), rep(\"dislike\", 0.3 * pop_size)) å‡†å¤‡éœ€è¦çš„ packageï¼Œå¹¶å®šå¥½éšæœºæ•°ã€‚ç„¶åŽåˆ›å»º100ä¸‡åç”¨æˆ·ï¼Œå…¶ä¸­æœ‰70%çš„äººä¼šå–œæ¬¢æ–°åŠŸèƒ½ï¼Œæœ‰30%çš„äººä¼šä¸å–œæ¬¢ã€‚ å‡½æ•°ï¼šæŠ½æ ·ã€æ¨¡æ‹Ÿã€åšå›¾è¿™æ®µä»£ç è·Ÿä¸Šä¸€ç¯‡å·®ä¸å¤šï¼š sample_player è¿›è¡Œä¸€æ¬¡æŠ½æ ·ï¼Œå¯ä»¥é€‰æ‹©æŠ½æ ·äººæ•° simulate_df æ¨¡æ‹Ÿ n æ¬¡å®žéªŒ draw_plot å¯¹ n æ¬¡å®žéªŒçš„ç»“æžœåšå›¾ simulate_and_draw å°è£…äº†ä¸Šé¢å‡ ä¸ªå‡½æ•° é’ˆå¯¹è¿™ç¯‡çš„ä¸»é¢˜ï¼ŒæŸäº›åœ°æ–¹åšäº†è°ƒæ•´ã€‚ 1234567891011121314151617181920212223242526272829sample_player &lt;- function(size) { sample_vec &lt;- sample(pop_player, size = size) sum(sample_vec == \"like\") / size}simulate_df &lt;- function(size, n) { df &lt;- data.frame(sample_prop = rep(0, n)) for (i in 1:n) { df[i, 1] &lt;- sample_player(size) } df}draw_plot &lt;- function(df, size, bin_width=0.1) { stan_dev &lt;- round(sd(df$sample_prop), 2) ggplot(df, aes(x = sample_prop)) + geom_histogram(binwidth = bin_width) + scale_x_continuous(labels = scales::percent, limits = c(0: 1)) + labs(title = str_c('è°ƒæŸ¥', size, 'ä¸ªçŽ©å®¶'), subtitle = str_c('ç‚¹ä¼°è®¡æ ‡å‡†å·® = ', stan_dev), x = 'è¡¨ç¤º\"å–œæ¬¢çš„\"çŽ©å®¶å æ¯”', y = 'é¢‘æ•°') }simulate_and_draw &lt;- function(size, n = 5000, bin_width = 0.1) { simulate_df(size, n) %&gt;% draw_plot(size, bin_width)} åšå›¾ä¸‹é¢è®¡ç®—æŠ½æ ·5äººã€10äººã€20äººã€40äººã€100äººå’Œ1000äººçš„æƒ…å†µï¼Œä¸ºäº†èŠ‚çº¦è¿ç®—æ—¶é—´ï¼Œæ¨¡æ‹Ÿ5000è½®ï¼š 123456789p1 &lt;- simulate_and_draw(5, bin_width = 0.1)p2 &lt;- simulate_and_draw(10, bin_width = 0.05)p3 &lt;- simulate_and_draw(20, bin_width = 0.05)p4 &lt;- simulate_and_draw(40, bin_width = 0.025)p5 &lt;- simulate_and_draw(100, bin_width = 0.01)p6 &lt;- simulate_and_draw(1000, bin_width = 0.003)ggarrange(p1, p2, p3, p4, p5, p6, nrow = 3, ncol = 2) ç»“æžœåšå›¾ç»“æžœå¦‚ä¸‹ï¼š \b å¯ä»¥çœ‹åˆ°ï¼š æ ·æœ¬æ•°é‡è¶³å¤Ÿå¤§æ—¶ï¼Œæ ·æœ¬å†… proportion çš„åˆ†å¸ƒæŽ¥è¿‘æ­£æ€åˆ†å¸ƒ æ ·æœ¬æ•°é‡è¶Šå¤§ï¼Œåˆ†å¸ƒçš„æ ‡å‡†å·®è¶Šå° å¯¹äºŽä¸€ä¸ª100ä¸‡ç”¨æˆ·çš„äº§å“ï¼Œå¦‚æžœæ–°åŠŸèƒ½å—åˆ°70%äººå–œæ¬¢ï¼Œè°ƒæŸ¥1000ä¸ªç”¨æˆ·å°±è¶³ä»¥çŸ¥é“æ–°åŠŸèƒ½æ˜¯å¦å—æ¬¢è¿Žäº†ã€‚ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"ç»Ÿè®¡å­¦","slug":"ç»Ÿè®¡å­¦","permalink":"https://yupototo.github.io/blog/categories/%E7%BB%9F%E8%AE%A1%E5%AD%A6/"}],"tags":[{"name":"R","slug":"R","permalink":"https://yupototo.github.io/blog/tags/R/"},{"name":"Statistics","slug":"Statistics","permalink":"https://yupototo.github.io/blog/tags/Statistics/"}]},{"title":"æ¨¡æ‹Ÿâ€œä¸­å¿ƒæžé™å®šç†â€ - å‡å€¼ç¯‡","slug":"stat_5_clt_mean","date":"2018-08-22T17:39:54.000Z","updated":"2020-02-03T17:14:34.351Z","comments":true,"path":"2018/08/22/stat_5_clt_mean/","link":"","permalink":"https://yupototo.github.io/blog/2018/08/22/stat_5_clt_mean/","excerpt":"\b\bä¸­å¿ƒæžé™å®šç†æ˜¯ç»Ÿè®¡å­¦é‡Œæœ€é‡è¦çš„å®šç†ï¼Œå¯èƒ½æ²¡æœ‰ä¹‹ä¸€ã€‚ æŒ‰ç…§ä¸­å¿ƒæžé™å®šç†ï¼Œåœ¨æ ·æœ¬é‡è¶³å¤Ÿå¤§çš„æ—¶å€™ï¼Œä»»ä½•åˆ†å¸ƒçš„æ ·æœ¬å‡å€¼ï¼Œéƒ½\bä¼šæŽ¥è¿‘æ­£æ€åˆ†å¸ƒã€‚ ä¸ç®¡åŽŸå…ˆçš„åˆ†å¸ƒæ˜¯äºŒé¡¹åˆ†å¸ƒã€æ³Šæ¾åˆ†å¸ƒæˆ–ä»»ä½•åƒå¥‡ç™¾æ€ªçš„åˆ†å¸ƒï¼Œå¦‚æžœæˆ‘ä»¬å¯¹è¿™ä¸ªåˆ†å¸ƒåšæŠ½æ ·ï¼Œåªè¦æ ·æœ¬é‡å¤Ÿå¤§ï¼Œä½œä¸ºéšæœºå˜é‡çš„æ ·æœ¬å‡å€¼ä¼šå‘ˆçŽ°æ­£æ€åˆ†å¸ƒã€‚ ä¸‹å›¾æ˜¯ä¸ªå½¢è±¡çš„è¯´æ˜Žï¼š \b è¿™ä¸ªå®šç†åœ¨æ•°å­¦ä¸Šæœ‰ä¸¥è°¨çš„è¯æ˜Žã€‚æ•°å­¦è¯æ˜Žå¤ªæŠ½è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ simulation æ›´å¥½åœ°å±•ç¤ºè¿™ä¸ªå®šç†ã€‚ \b","text":"\b\bä¸­å¿ƒæžé™å®šç†æ˜¯ç»Ÿè®¡å­¦é‡Œæœ€é‡è¦çš„å®šç†ï¼Œå¯èƒ½æ²¡æœ‰ä¹‹ä¸€ã€‚ æŒ‰ç…§ä¸­å¿ƒæžé™å®šç†ï¼Œåœ¨æ ·æœ¬é‡è¶³å¤Ÿå¤§çš„æ—¶å€™ï¼Œä»»ä½•åˆ†å¸ƒçš„æ ·æœ¬å‡å€¼ï¼Œéƒ½\bä¼šæŽ¥è¿‘æ­£æ€åˆ†å¸ƒã€‚ ä¸ç®¡åŽŸå…ˆçš„åˆ†å¸ƒæ˜¯äºŒé¡¹åˆ†å¸ƒã€æ³Šæ¾åˆ†å¸ƒæˆ–ä»»ä½•åƒå¥‡ç™¾æ€ªçš„åˆ†å¸ƒï¼Œå¦‚æžœæˆ‘ä»¬å¯¹è¿™ä¸ªåˆ†å¸ƒåšæŠ½æ ·ï¼Œåªè¦æ ·æœ¬é‡å¤Ÿå¤§ï¼Œä½œä¸ºéšæœºå˜é‡çš„æ ·æœ¬å‡å€¼ä¼šå‘ˆçŽ°æ­£æ€åˆ†å¸ƒã€‚ ä¸‹å›¾æ˜¯ä¸ªå½¢è±¡çš„è¯´æ˜Žï¼š \b è¿™ä¸ªå®šç†åœ¨æ•°å­¦ä¸Šæœ‰ä¸¥è°¨çš„è¯æ˜Žã€‚æ•°å­¦è¯æ˜Žå¤ªæŠ½è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ simulation æ›´å¥½åœ°å±•ç¤ºè¿™ä¸ªå®šç†ã€‚ \b æ ·æœ¬æ•°é‡ä¸Žå‡å€¼çš„åˆ†å¸ƒæ ¹æ®ä¸­å¿ƒæžé™å®šç†ï¼Œæ ·æœ¬å‡å€¼åœ¨æ ·æœ¬é‡è¶³å¤Ÿå¤§æ—¶ç¬¦åˆæ­£æ€åˆ†å¸ƒï¼Œä¸”è¯¥æ­£æ€åˆ†å¸ƒçš„å‡å€¼æ˜¯ï¼š \b å¦å¤–ï¼Œæ ·æœ¬å‡å€¼çš„æ­£æ€åˆ†å¸ƒçš„æ ‡å‡†å·®æ˜¯ï¼š \b æ‰€ä»¥ï¼Œéšç€æ ·æœ¬é€æ¸å¢žå¤§ï¼Œæˆ‘ä»¬åº”è¯¥èƒ½è§‚å¯Ÿåˆ°ï¼š \bå‡å€¼çš„åˆ†å¸ƒé€æ¸æŽ¥è¿‘æ­£æ€åˆ†å¸ƒ è¯¥æ­£æ€åˆ†å¸ƒçš„æ ‡å‡†å·®è¶Šæ¥è¶Šå° æ‰”éª°å­æ‰”éª°å­æ˜¯ä¸ªç»å…¸çš„æ¦‚çŽ‡çŽ°è±¡ã€‚ä»Ž1åˆ°6ï¼Œæ¦‚çŽ‡éƒ½æ˜¯1/6ã€‚è¿™ä¸ªåˆ†å¸ƒçš„æ•°å­¦æœŸæœ›æ˜¯3.5ï¼ˆæœ‰å…´è¶£çš„å°ä¼™ä¼´å¯ä»¥æ‰‹åŠ¨ç®—ç®—ï¼‰ã€‚ å¦‚æžœæŠ•1æ¬¡éª°å­ï¼Œç›¸å½“äºŽæŠ½å–ä¸€ä¸ªæ ·æœ¬ï¼Œè™½ç„¶æ•°å­¦æœŸæœ›ä»ç„¶æ˜¯3.5ï¼Œä½†æˆ‘ä»¬åªä¼šè§‚å¯Ÿåˆ°æœ‰1/6çš„æ¦‚çŽ‡è½åœ¨1åˆ°6ä¸­ä»»æ„ä¸€ä¸ªæ•°å­—ä¸Šã€‚æˆ‘ä»¬é‡å¤10000æ¬¡æŠ½æ ·ï¼Œå¹¶è®°å½•æ¯æ¬¡çš„å‡å€¼ï¼ˆå…¶å®žå°±æ˜¯æŠ•åˆ°çš„æ•°å­—ï¼Œå› ä¸ºåªæœ‰1æ¬¡ï¼‰ï¼Œåº”è¯¥ä¼šçœ‹åˆ°1åˆ°6çš„æ•°å­—éƒ½å 1/6ã€‚ å¦‚æžœæŠ•10æ¬¡éª°å­ï¼Œç›¸å½“äºŽæŠ½å–10ä¸ªæ ·æœ¬ï¼Œå‡å€¼ä¼šç›¸å¯¹é›†ä¸­ã€‚æˆ‘ä»¬é‡å¤10000æ¬¡æŠ½æ ·ï¼Œå¹¶è®°å½•æ¯æ¬¡çš„å‡å€¼ï¼Œåº”è¯¥ä¼šçœ‹åˆ°å‡å€¼ç›¸å¯¹ä¹‹å‰é›†ä¸­ã€‚ å¦‚æžœæŠ•100æ¬¡éª°å­ï¼Œç›¸å½“äºŽæŠ½å–100ä¸ªæ ·æœ¬ï¼Œå‡å€¼ä¼šéžå¸¸æŽ¥è¿‘3.5.æˆ‘ä»¬é‡å¤10000æ¬¡æŠ½æ ·ï¼Œå¹¶è®°å½•æ¯æ¬¡çš„å‡å€¼ï¼ŒæŒ‰ç…§ä¸­å¿ƒæžé™å®šç†ï¼Œå‡å€¼çš„åˆ†å¸ƒä¼šæ˜¯ä¸ªæ–¹å·®å¾ˆå°çš„æ­£æ€åˆ†å¸ƒã€‚ åœ¨çŽ°å®žç”Ÿæ´»é‡Œï¼Œå¦‚æžœæ¨¡æ‹Ÿ10000æ¬¡æŠ½æ ·ï¼Œä¸”æ¯æ¬¡æŠ½æ ·è¦æŠ•100æ¬¡éª°å­ï¼Œæˆ‘ä»¬ä¸€å…±è¦æŠ•ä¸ª100ä¸‡æ¬¡éª°å­ã€‚å®žåœ¨ä¸å¯èƒ½ã€‚å¥½åœ¨çŽ°åœ¨æœ‰äº†è®¡ç®—æœºï¼Œæˆ‘ä»¬å¯ä»¥è®©è®¡ç®—æœºæ¨¡æ‹ŸæŠ•æŽ·éª°å­çš„è¿‡ç¨‹ã€‚ R ä»£ç ç”¨ R è¯­è¨€æ¨¡æ‹ŸæŠ•æŽ·ç»“æžœå¹¶åšå›¾ã€‚ \bå‡†å¤‡Rä»£ç 1234library(tidyverse)library(ggpubr)set.seed(123) ä½¿ç”¨ tidyverse åŒ…ï¼Œä¸»è¦æ˜¯ä¸ºäº†ä½¿ç”¨ dplyr å’Œ ggplot2ã€‚ggpubr åŒ…æ˜¯ä¸ºäº†åˆå¹¶å›¾ç‰‡ã€‚ä¸ºäº†ä¿è¯åˆ†æžçš„å¯é‡å¤æ€§ï¼Œéœ€è¦å…ˆè®¾å®šä¸€ä¸ªéšæœºæ•°ç§å­ï¼Œè¿™æ ·èƒ½ä¿è¯æ¯æ¬¡â€œéšæœºâ€çš„ç»“æžœæ˜¯ä¸€æ ·çš„ã€‚ å‡½æ•°ï¼šæŽ·éª°å­Rä»£ç 12345simu_dice_mean &lt;- function(size) { dice_vec &lt;- 1:6 sample_mean &lt;- sum(sample(dice_vec, size, replace = T)) / size sample_mean} simu_dice_mean å‡½æ•°æ¨¡æ‹Ÿäº†æŽ·éª°å­åŽè®¡ç®—å‡å€¼çš„è¿‡ç¨‹ï¼Œæˆ‘ç»™äº†ä¸€ä¸ªå‚æ•°sizeï¼Œè¡¨ç¤ºæŽ·éª°å­çš„æ¬¡æ•°ã€‚è¿™é‡Œä¼šè¿”å›žæœ¬æ¬¡æŠ•æŽ·çš„å‡å€¼ã€‚ å‡½æ•°ï¼šé‡å¤å®žéªŒ n æ¬¡Rä»£ç 1234567simulate_df &lt;- function(size, n) { df_mean &lt;- data.frame(sample_mean = rep(0, n)) for (i in 1:n) { df_mean[i, 1] &lt;- simu_dice_mean(size) } df_mean} simulate_df é‡å¤äº† n æ¬¡ simu_dice_meanï¼Œç”Ÿæˆä¸€ä¸ª data frameï¼ŒåŒ…å« n ä¸ªå‡å€¼ã€‚å¦‚æžœéœ€è¦ç»å¸¸åšæ¨¡æ‹Ÿï¼Œè¿™ä¸€æ­¥ä»£ç å¯ä»¥å¤§å¤§ä¼˜åŒ–ã€‚ä¸è¿‡æˆ‘åªæ¨¡æ‹Ÿè¿™ä¸€æ¬¡ï¼Œæ‰€ä»¥ç”¨äº†æœ€ç›´æŽ¥çš„ for loopã€‚ å‡½æ•°ï¼šåšå›¾Rä»£ç 12345678910draw_plot &lt;- function(df, size, bin_width) { stan_dev &lt;- round(sd(df$sample_mean), 2) ggplot(df, aes(x = sample_mean)) + geom_histogram(binwidth = bin_width) + scale_x_continuous(limits = c(0.5, 6.5)) + labs(title = str_c('æŠ•æŽ·éª°å­', size, 'æ¬¡'), subtitle = str_c('ç‚¹ä¼°è®¡æ ‡å‡†å·® = ', stan_dev), x = 'å‡å€¼', y = 'é¢‘æ•°') } å‰ä¸€æ­¥è¿”å›žäº†å‡å€¼çš„ data frameï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å…¶ç”»å‡ºç›´æ–¹å›¾ï¼Œå±•ç¤ºåˆ†å¸ƒæƒ…å†µã€‚åŒæ—¶æˆ‘åœ¨è¿™ä¸€æ­¥è®¡ç®—äº†è¿™ç»„åˆ†å¸ƒçš„æ ‡å‡†å·®ã€‚ å‡½æ•°ï¼šæ±‡æ€»Rä»£ç 1234simulate_and_draw &lt;- function(size, n = 10000, bin_width) { simulate_df(size, n) %&gt;% draw_plot(size, bin_width)} æŠŠ simulate_df å’Œ draw_plot ä¸¤ä¸ªå‡½æ•°ç»“åˆï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„å‡½æ•°simulate_and_drawã€‚å‡†å¤‡å·¥ä½œç»“æŸã€‚ è°ƒç”¨å‡½æ•°æˆ‘ä»¬ä¾æ¬¡è®¡ç®—å¹¶ç”»å‡ºæŽ·éª°å­1æ¬¡ã€5æ¬¡ã€10æ¬¡ã€20æ¬¡ã€50æ¬¡å’Œ100æ¬¡çš„æ¨¡æ‹Ÿç»“æžœï¼ˆæ¨¡æ‹Ÿ10000æ¬¡å®žéªŒï¼‰ï¼š Rä»£ç 12345678910p1 &lt;- simulate_and_draw(size = 1, bin_width = 0.2)p2 &lt;- simulate_and_draw(size = 5, bin_width = 0.2)p3 &lt;- simulate_and_draw(size = 10, bin_width = 0.2)p4 &lt;- simulate_and_draw(size = 20, bin_width = 0.15)p5 &lt;- simulate_and_draw(size = 50, bin_width = 0.1)p6 &lt;- simulate_and_draw(size = 200, bin_width = 0.03)# ç»“åˆ6ä¸ªå›¾ç‰‡ggarrange(p1, p2, p3, p4, p5, p6, nrow = 3, ncol = 2) æ¨¡æ‹Ÿç»“æžœå¦‚ä¸‹å›¾ï¼š \b å¯ä»¥æ¸…æ™°åœ°çœ‹åˆ°ï¼š åˆ†å¸ƒçš„å‡å€¼è¶Šæ¥è¶Šé›†ä¸­åœ¨3.5 åˆ†å¸ƒçš„æ ‡å‡†å·®è¶Šæ¥è¶Šå° ç±»ä¼¼çš„æ¨¡æ‹Ÿï¼Œä¸åªæ˜¯æŽ·éª°å­æ‰€å±žçš„ç¦»æ•£å‡åŒ€åˆ†å¸ƒèƒ½åšï¼Œå…¶ä»–åˆ†å¸ƒä¹Ÿèƒ½åšã€‚å¦‚æžœæˆ‘æ˜¯è€å¸ˆï¼Œå°±ä¼šåœ¨è¿™é‡Œå¸ƒç½®ä¸€é—¨ä½œä¸šï¼šåœ¨æ€»ä½“åˆ†å¸ƒç¬¦åˆæ³Šæ¾åˆ†å¸ƒçš„æƒ…å½¢ä¸‹æ¨¡æ‹Ÿä¸­å¿ƒæžé™å®šç†ã€‚ ä»¥ä¸Šå°±æ˜¯ä¸­å¿ƒæžé™å®šç†çš„ç›´è§‚å±•ç¤ºäº†ã€‚æœ‰äº†ä¸­å¿ƒæžé™å®šç†ï¼Œå¯¹å‡å€¼åšç»Ÿè®¡æŽ¨æ–­æ‰æˆä¸ºå¯èƒ½ã€‚ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"ç»Ÿè®¡å­¦","slug":"ç»Ÿè®¡å­¦","permalink":"https://yupototo.github.io/blog/categories/%E7%BB%9F%E8%AE%A1%E5%AD%A6/"}],"tags":[{"name":"R","slug":"R","permalink":"https://yupototo.github.io/blog/tags/R/"},{"name":"Statistics","slug":"Statistics","permalink":"https://yupototo.github.io/blog/tags/Statistics/"}]},{"title":"Closure: ä»¥ Python å’Œ JavaScript ä¸ºä¾‹","slug":"coding-2-closure","date":"2018-08-04T16:17:33.000Z","updated":"2020-02-03T17:14:34.335Z","comments":true,"path":"2018/08/04/coding-2-closure/","link":"","permalink":"https://yupototo.github.io/blog/2018/08/04/coding-2-closure/","excerpt":"\b\bè®¡ç®—æœºè¯­è¨€é‡Œæœ‰ä¸ªå¸¸ç”¨çš„æ¦‚å¿µï¼Œå« closureï¼ˆé—­åŒ…ï¼‰ã€‚è¿™é‡Œç”¨ python å’Œ JavaScript ä½œä¸ºå¯¹ç…§ä¾‹å­ï¼Œè§£é‡Šä¸€ä¸‹ closure çš„å«ä¹‰ã€‚ å…ˆçœ‹ä¸€ä¸ªé—®é¢˜ï¼Œä¸‹é¢ä¸€æ®µ python ä»£ç ï¼Œä¼šåœ¨ terminal ä¸Šæ‰“å°ä»€ä¹ˆå‘¢ï¼Ÿ 123456789a = 2def outer(): a = 1 def inner(): print(a) return innerfunc = outer()func()","text":"\b\bè®¡ç®—æœºè¯­è¨€é‡Œæœ‰ä¸ªå¸¸ç”¨çš„æ¦‚å¿µï¼Œå« closureï¼ˆé—­åŒ…ï¼‰ã€‚è¿™é‡Œç”¨ python å’Œ JavaScript ä½œä¸ºå¯¹ç…§ä¾‹å­ï¼Œè§£é‡Šä¸€ä¸‹ closure çš„å«ä¹‰ã€‚ å…ˆçœ‹ä¸€ä¸ªé—®é¢˜ï¼Œä¸‹é¢ä¸€æ®µ python ä»£ç ï¼Œä¼šåœ¨ terminal ä¸Šæ‰“å°ä»€ä¹ˆå‘¢ï¼Ÿ 123456789a = 2def outer(): a = 1 def inner(): print(a) return innerfunc = outer()func() ä¸Šé¢çš„ä»£ç å‡ºçŽ°äº†è‹¥å¹²æ¬¡ aï¼Œç¬¬1ä¸ª a åœ¨â€œæœ€å¤–é¢â€ï¼Œç¬¬2ä¸ª a åœ¨ outer å‡½æ•°é‡Œï¼Œç¬¬3ä¸ª a å‡ºçŽ°åœ¨ inner å‡½æ•°é‡Œï¼Œè€Œ inner å‡½æ•°åˆåœ¨ outer å‡½æ•°é‡Œã€‚ ä¸Šé¢è¿™æ®µè¯å¯ä»¥ç”¨ scope çš„æ¦‚å¿µé‡æ–°æè¿°ï¼š ç¬¬1ä¸ª a åœ¨ global scope ä¸­ï¼Œæ•´æ®µä»£ç éƒ½å¯ä»¥ä½¿ç”¨ ç¬¬2ä¸ª a åœ¨ outer å‡½æ•°çš„ scope ä¸­ ç¬¬3ä¸ª a ä¸æ˜¯ä¸ªå˜é‡ï¼Œæ˜¯å¯¹å˜é‡çš„ä½¿ç”¨ï¼Œé‚£ä¹ˆå®ƒä¼šä½¿ç”¨ç¬¬1ä¸ªaã€è¿˜æ˜¯ç¬¬2ä¸ªaã€è¿˜æ˜¯æŠ¥é”™å‘¢ï¼Ÿ ç­”æ¡ˆï¼šterminal å›žæ‰“å°å‡º 1ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œinner å‡½æ•°ä½¿ç”¨äº† outer å‡½æ•°é‡Œçš„ aã€‚ è¿™é‡Œæœ‰ä¸¤ä¸ªå€¼å¾—æ·±ç©¶çš„åœ°æ–¹ã€‚æˆ‘ä»¬ä¸€ä¸ªä¸ªçœ‹ã€‚ 1. å‘ä¸ŠæŸ¥è¯¢å…ˆçœ‹ä¸‹é¢è¿™æ®µä»£ç ã€‚ 123456a = 1def func(): print(a)func() åœ¨è¿è¡Œ func å‡½æ•°æ—¶ï¼Œè®¡ç®—æœºä¼šçŽ°åœ¨ func çš„ scope å¯»æ‰¾ a å˜é‡ï¼Œä½†æˆ‘ä»¬æ²¡æœ‰å®šä¹‰ a å˜é‡ï¼Œ\bè¿™æ—¶è®¡ç®—æœºä¼šâ€œå‘ä¸Šä¸€å±‚â€æŸ¥è¯¢ï¼Œä¸Šä¸€å±‚å°±æ˜¯ global scopeï¼Œ\bæˆ‘ä»¬åœ¨ä¸Šä¸€å±‚å®šä¹‰äº† a å¹¶ä»¤å®ƒä¸º 1ï¼Œè®¡ç®—æœºå°±è®¤ä¸ºè‡ªå·±æ‰¾åˆ°äº† aï¼ŒäºŽæ˜¯æ‰“å°å‡º a çš„å†…å®¹ï¼š1ã€‚ åŒæ ·ä¸€æ®µä»£ç ï¼Œå¯ä»¥åœ¨ JavaScript ä¸­è½»æ¾å®žçŽ°ï¼š 1234567var a = 1function myFunc() { console.log(a);}myFunc() R ä¸­ä¹Ÿæœ‰ç±»ä¼¼çš„è®¾è®¡ï¼š 1234567a = 1my_function &lt;- function() { print(a)}my_function() æˆ‘ä»¬è¿è¡Œä¸Šé¢3æ®µä»£ç æ—¶ï¼Œéƒ½ä¼šå¾—åˆ° 1ã€‚ åœ¨æœ€å¼€å§‹çš„ä»£ç æ®µé‡Œï¼Œä¸Šä¸€å±‚çš„ a åœ¨ outer å‡½æ•°é‡Œï¼Œæ˜¯1ï¼Œæ­¤æ—¶è®¡ç®—æœºä¸å†å¾€ä¸Šå¯»æ‰¾ aï¼Œæ‰€ä»¥å°±æ‰“å°å‡ºäº† 1ã€‚å¦‚æžœæˆ‘ä»¬æŠŠ outer å‡½æ•°é‡Œçš„ a = 1 åˆ æŽ‰å‘¢ï¼Ÿæ­¤æ—¶ä»£ç å¦‚ä¸‹ï¼š 12345678a = 2def outer(): def inner(): print(a) return innerfunc = outer()func() å› ä¸ºæ‰¾ä¸åˆ°è®¡ç®—æœºåœ¨ outer é‡Œæ‰¾ä¸åˆ° aï¼Œå®ƒç»§ç»­å¾€ä¸Šå¯»æ‰¾ï¼Œåœ¨ global scope é‡Œæ‰¾åˆ°äº† aï¼ŒäºŽæ˜¯æ‰“å°å‡ºäº† 2ã€‚ è¿™æ ·çš„è®¾è®¡ä¹çœ‹ä¹‹ä¸‹ä¸å¤ªå‹å¥½ï¼šå¦‚æžœæˆ‘ä»¬ä¸å°å¿ƒåœ¨å‡½æ•°é‡Œä½¿ç”¨äº†æŸä¸ª global scope çš„å˜é‡ï¼Œè®¡ç®—æœºå°±ä¸ä¼šæŠ¥é”™ï¼Œè€Œæ˜¯ä¼šç»§ç»­è¿è¡Œç¨‹åºã€‚è¿™å²‚ä¸æ˜¯ä¸åˆ©äºŽä»£ç çš„ç¨³å®šæ€§ã€‚ è™½ç„¶æœ‰è¿™ä¸ªæ½œåœ¨é£Žé™©ï¼Œå¾ˆå¤šè¯­è¨€è¿˜æ˜¯é€‰æ‹©äº†è¿™ä¸ªè®¾è®¡ï¼Œè‡ªç„¶æ˜¯å› ä¸ºè¿™ä¸ªè®¾è®¡æ˜¯æœ‰ä»·å€¼çš„ã€‚ä»·å€¼åœ¨å“ªå„¿å‘¢ï¼Ÿè¿™å°±æ¶‰åŠåˆ°ç¤ºä¾‹ä»£ç ä¸­ç¬¬2ä¸ªå€¼å¾—æ·±ç©¶çš„åœ°æ–¹äº†ã€‚ 2. å‡½æ•°å¯ä»¥è¿”å›žå‡½æ•°åœ¨ pythonã€R å’Œ JavaScript é‡Œï¼Œå‡½æ•°éƒ½å¯ä»¥è¿”å›žå‡½æ•°ã€‚ 12345678def outer(): a = 1 def inner(): print(a) return innerfunc = outer()func() æˆ‘ä»¬çš„ outer å‡½æ•°çš„ return å€¼æ˜¯ä¸€ä¸ª inner å‡½æ•°ã€‚é€šè¿‡ func = outer()ï¼Œæˆ‘ä»¬è®© func å˜æˆäº† inner å‡½æ•°ã€‚ è¿™é‡Œå€¼å¾—æ³¨æ„çš„åœ°æ–¹æ˜¯ï¼Œæˆ‘ä»¬ return çš„æ˜Žæ˜Žåªæ˜¯ inner å‡½æ•°ï¼Œä»£ç é‡Œåªæœ‰ print(a)è¿™è¡Œï¼Œä¸ºä»€ä¹ˆè¿™ä¸ª inner å‡½æ•°ä¼šè®°ä½è‡ªå·±æ‰€åœ¨çš„ scope é‡Œæœ‰ä¸ª a å˜é‡å‘¢ï¼Ÿè¿™å°±æ˜¯ closure è¿™ä¸ªæ¦‚å¿µäº†ã€‚ å½“æˆ‘ä»¬åœ¨ outer å‡½æ•°é‡Œè¿”å›ž inner å‡½æ•°æ—¶ï¼Œä¸Ž inner å‡½æ•°åœ¨åŒä¸€ä¸ª scope é‡Œé¢çš„å˜é‡ä¹Ÿä¼šè¢«â€œåŒ…â€è¿› inner å‡½æ•°ä¸­ï¼Œå˜æˆ inner å‡½æ•°çš„ private variableã€‚ è¿™æ˜¯ä¸€ä¸ªéžå¸¸æœ‰ç”¨çš„æ¦‚å¿µã€‚ closure çš„åº”ç”¨æˆ‘æœ€å–œæ¬¢çš„ closure åº”ç”¨åœºæ™¯ï¼Œæ˜¯æ‰¹é‡ç”Ÿæˆå‡½æ•°ã€‚ é—®é¢˜åœºæ™¯ï¼šæˆ‘éœ€è¦ç”Ÿæˆä¸€ç»„å¹‚å‡½æ•°çš„å€¼ï¼ŒæŒ‡æ•°åˆ†åˆ«ä¸º 2ã€3ã€4, x åˆ†åˆ«æ˜¯ -10 åˆ° 10 ä¹‹é—´çš„æ•´æ•°ã€‚ åœ¨æˆ‘ä¸çŸ¥é“ closure æ—¶ï¼Œæˆ‘ä¼šæƒ³ç”Ÿæˆä¸€ä¸ªå¸¦æœ‰2ä¸ªå‚æ•°çš„å‡½æ•°ï¼Œç„¶åŽä½¿ç”¨ list comprehensionã€‚ 123456def power_func(x, power): return x ** power[ power_func(i, 2) for i in list(range(-10, 10))][ power_func(i, 3) for i in list(range(-10, 10))][ power_func(i, 4) for i in list(range(-10, 10))] è¿™æ˜¯ä¸€ä¸ªçœ‹ä¸ŠåŽ»ç®€å•çš„è§£ç­”ï¼Œä½†å¹¶ä¸æ˜¯ä¸€ä¸ªä»£ç å±‚é¢æ›´â€œå¥½â€çš„è§£ç­”ã€‚å› ä¸ºï¼Œæœ‰å¯èƒ½æˆ‘ä»¬æƒ³è¦åœ¨å¤šç§åœºåˆé‡å¤ä½¿ç”¨æŸå‡ ä¸ªå¹‚æŒ‡æ•°çš„å‡½æ•°ï¼Œæ¯”å¦‚å¹‚æŒ‡æ•°ä¸º2çš„å‡½æ•°ï¼Œå¯èƒ½åœ¨æˆ‘ä»¬çš„è®¡ç®—é‡Œéžå¸¸å¸¸ç”¨ï¼Œè¿™æ—¶æœ€å¥½çš„åšæ³•æ˜¯ç”Ÿæˆä¸€ä¸ªå¹‚æŒ‡æ•°ä¸º2çš„å‡½æ•°ï¼Œç„¶åŽé‡å¤ä½¿ç”¨å®ƒã€‚ è¿™æ—¶å°±éœ€è¦ä½¿ç”¨ closureäº†ã€‚å¦‚æžœä½¿ç”¨ closureï¼Œä¸Šé¢çš„é—®é¢˜ä¼šè¿™æ ·è§£ç­”ï¼š 12345678910111213def power_func(power): def inner_func(x): return x ** power return inner_funcpower_two = power_func(2)power_three = power_func(3)power_four = power_func(4)[ power_two(i) for i in list(range(-10, 10))][ power_three(i) for i in list(range(-10, 10))][ power_four(i) for i in list(range(-10, 10))] è¿™æ®µä»£ç çœ‹ä¸ŠåŽ»æ›´é•¿ï¼Œä½†ä»Žâ€œæ€è·¯â€ä¸Šå…¶å®žæ–¹ä¾¿ï¼Œä»£ç çš„å¯è¯»æ€§ä¹Ÿå¼ºäº†éžå¸¸å¤šã€‚ ç±»ä¼¼çš„æ€è€ƒæ–¹å¼å…¶å®žæ˜¯å†™ä»£ç åˆ°ä¸€å®šé˜¶æ®µåŽå¿…ç„¶ä¼šç¢°åˆ°çš„ï¼šå¦‚ä½•æŠ½è±¡åœ°è®¾è®¡å‡ºä¸€ä¸ªç”Ÿæˆå‡½æ•°çš„å‡½æ•°ï¼Œè®©æˆ‘ä»¬çš„ä»£ç å¯è¯»æ€§æ›´é«˜ï¼Œæ›´åŠ  DRYï¼ˆ donâ€™t repeat yourself ï¼‰ã€‚ åŒæ ·ä¸€æ®µä»£ç ï¼Œå¦‚æžœä½¿ç”¨ JavaScriptï¼Œå¯ä»¥è¿™æ ·å†™ï¼š 1234567891011121314151617function powerFunc(power) { function innerFunc(x) { return Math.pow(x, power) } return innerFunc}var powerTwo = powerFunc(2)var powerThree = powerFunc(3)var powerFour = powerFunc(4)var numRange = Array.from(new Array(21), (x,i) =&gt; i - 10)console.log(numRange.map(el =&gt; powerTwo(el)))console.log(numRange.map(el =&gt; powerThree(el)))console.log(numRange.map(el =&gt; powerFour(el))) JavaScript çš„è¿žç»­ç®­å¤´å‡½æ•°ç†è§£äº† closure çš„æ¦‚å¿µåŽï¼Œä¸‹é¢è¿™æ®µ JavaScript ä»£ç å°±å¾ˆå¥½ç†è§£äº†ï¼š 1const makeAddFunc = adder =&gt; x =&gt; x + adder è¿™å…¶å®žå°±æ˜¯ closure çš„ç®­å¤´å‡½æ•°å†™æ³•ï¼Œè¿™é‡Œè¿žç»­ä½¿ç”¨äº†ä¸¤ä¸ªç®­å¤´å‡½æ•°ã€‚å®Œæ•´å†™æ³•å¦‚ä¸‹ï¼š 123456function makeAddFunc(adder) { function innerFunc(x) { return x + adder } return innerFunc} æˆ‘ä»¬å¯ä»¥ç”¨ä¸Šé¢çš„ makeAddFunc ç”Ÿæˆè‹¥å¹²è‡ªå·±éœ€è¦çš„å‡½æ•°ï¼š 12345addTwo = makeAddFunc(2)addThree = makeAddFunc(3)console.log(addTwo(5)) // print 7console.log(addThree(5)) // print 8 å°ç»“ä¸ªäººç»éªŒæ¥è¯´ï¼Œclosure æ˜¯ä¸€ä¸ªâ€œåˆ†æ°´å²­â€ï¼ŒåŒºåˆ†å¼€æ–°æ‰‹ coder å’Œä¸­çº§ coderã€‚ å¦‚æžœæˆ‘ä»¬å¯¹ closure è¶³å¤Ÿç†Ÿæ‚‰ï¼Œæˆ‘ä»¬ä¼šå‘çŽ°æŸäº›ç‰¹å®šçš„åœºåˆç®€ç›´æ˜¯ä¸º closure å¤©ç„¶è€Œç”Ÿã€‚å­¦ä¼šåœ¨è¿™äº›åœºåˆä½¿ç”¨ closureï¼Œä¼šè®©æˆ‘ä»¬çš„ä»£ç è´¨é‡ä¸Šä¸€ä¸ªå°é˜¶ã€‚ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"Coding","slug":"Coding","permalink":"https://yupototo.github.io/blog/categories/Coding/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://yupototo.github.io/blog/tags/JavaScript/"},{"name":"Python","slug":"Python","permalink":"https://yupototo.github.io/blog/tags/Python/"}]},{"title":"1ç±»é”™è¯¯å’Œ2ç±»é”™è¯¯","slug":"stat_4_type_1_and_2","date":"2018-07-15T11:45:10.000Z","updated":"2020-02-03T17:14:34.351Z","comments":true,"path":"2018/07/15/stat_4_type_1_and_2/","link":"","permalink":"https://yupototo.github.io/blog/2018/07/15/stat_4_type_1_and_2/","excerpt":"ç»Ÿè®¡å­¦é‡Œæœ‰ä¸¤ä¸ªåŸºçŸ³ä¸€æ ·çš„æ¦‚å¿µï¼šä¸€ç±»é”™è¯¯å’ŒäºŒç±»é”™è¯¯ã€‚è¿™ä¸¤ä¸ªæ¦‚å¿µæ˜¯ç»Ÿè®¡æ£€éªŒçš„åŸºç¡€ã€‚ \b","text":"ç»Ÿè®¡å­¦é‡Œæœ‰ä¸¤ä¸ªåŸºçŸ³ä¸€æ ·çš„æ¦‚å¿µï¼šä¸€ç±»é”™è¯¯å’ŒäºŒç±»é”™è¯¯ã€‚è¿™ä¸¤ä¸ªæ¦‚å¿µæ˜¯ç»Ÿè®¡æ£€éªŒçš„åŸºç¡€ã€‚ \b åŽŸå‡è®¾åœ¨å®šä¹‰è¿™ä¸¤ç±»é”™è¯¯å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå¤ä¹ å‡è®¾æ£€éªŒã€‚ åœ¨æ£€éªŒæ£€éªŒé‡Œï¼Œæˆ‘ä»¬å®šä¹‰äº†åŽŸå‡è®¾ null hypothesisã€‚åŽŸå‡è®¾æ˜¯æˆ‘ä»¬å¸Œæœ›é€šè¿‡æ•°æ®åŽ»â€œè¯ä¼ªâ€çš„å‡è®¾ï¼Œä¹ æƒ¯è¢«è¡¨è¿°ä¸º H0ã€‚ ä¸€ä¸ªå…¸åž‹çš„ H0 æ˜¯ï¼šæœ¬å¸‚çš„äººå‡æ”¶å…¥å¤§äºŽæˆ–ç­‰äºŽ8000å…ƒã€‚ åŽŸå‡è®¾çš„å¯¹ç«‹é¢ï¼Œæ˜¯å¤‡æ‹©å‡è®¾ alternative hypothesisï¼Œä¹ æƒ¯è¢«è¡¨è¿°ä¸º Haã€‚ ä¸Šé¢çš„ H0 å¯¹åº”çš„ Ha æ˜¯ï¼šæœ¬å¸‚çš„äººå‡æ”¶å…¥å°äºŽ8000å…ƒã€‚ æˆ‘ä»¬å¯¹æœ¬å¸‚å¸‚æ°‘åšäº†ä¸€æ¬¡é—®å·è°ƒæŸ¥ï¼Œæœé›†äº†10000ä»½é—®å·ï¼Œæ ¹æ®æ•°æ®è°ƒæŸ¥ç»“æžœï¼Œæˆ‘ä»¬ä¼šæœ‰ä¸¤ç§ç»“è®ºï¼š æ‹’ç» H0ï¼Œå³æŽ¥å— Ha æ— æ³•æ‹’ç» H0 åœ¨ä¸Šé¢çš„è¡¨è¿°é‡Œï¼Œæˆ‘ä»¬æ²¡æœ‰è¯´â€œæŽ¥å— H0â€ã€‚è¿™æ˜¯å¤–è¡Œæœ€å¸¸ç”¨é”™çš„è¡¨è¾¾ã€‚ ä¸ºå•¥ä¸èƒ½è¯´â€œæŽ¥å—â€åŽŸå‡è®¾åœ¨è§£ç­”è¿™ä¸ªé—®é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆäº†è§£å‡è®¾æ£€éªŒçš„æ–¹æ³•è®ºã€‚ å¯¹æ¯ä¸€ä¸ªç ”ç©¶è¯¾é¢˜ï¼Œæˆ‘ä»¬çš„å·¥ä½œæµç¨‹æ˜¯ï¼š ç¡®å®š H0 å’Œ Ha æ ¹æ®è¿‡å¾€çš„ç ”ç©¶å’Œç†è®ºï¼Œç¡®å®šè¦ä½¿ç”¨çš„å‡è®¾æ£€éªŒæ–¹æ³• é€‰å¥½ä¸€ä¸ªæ˜¾è‘—æ€§æ°´å¹³ significance levelï¼Œæ¯”å¦‚ alhpa = 0.05 æœé›†æ•°æ®ï¼Œå¹¶è®¡ç®— p å€¼ å¦‚æžœ p å€¼ &lt; alphaï¼Œæˆ‘ä»¬è¯´æ‹’ç»åŽŸå‡è®¾ï¼Œå¦åˆ™ï¼Œæˆ‘ä»¬è¯´æ— æ³•æ‹’ç»åŽŸå‡è®¾ æ˜¯å¦æ‹’ç»åŽŸå‡è®¾ï¼Œå—åˆ°æˆ‘ä»¬é€‰æ‹©çš„ significance level å½±å“ã€‚å¦‚æžœ p å€¼ç­‰äºŽ 0.06ï¼Œè€Œæˆ‘ä»¬çš„ significance level é€‰äº†0.05ï¼Œå› ä¸º0.06 &gt; 0.1ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬ä¼šâ€œæ— æ³•æ‹’ç»åŽŸå‡è®¾â€ã€‚è€Œå¦‚æžœ significance level é€‰äº†0.1ï¼Œå› ä¸º0.06 &lt; 0.1ï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿæ‹’ç»åŽŸå‡è®¾ã€‚ å½“æˆ‘ä»¬åšå‡è®¾æ£€éªŒæ—¶ï¼Œæˆ‘ä»¬å…¶å®žæ˜¯åœ¨ç ”ç©¶è¿™ä¸ªé—®é¢˜ï¼šç»™å®šåŽŸå‡è®¾ä¸ºçœŸï¼Œæˆ‘ä»¬æœ‰å¤šå¤§çš„å¯èƒ½è§‚å¯Ÿåˆ°è‡ªå·±æ‰€æœé›†çš„æ•°æ®ï¼Œå¦‚æžœè¿™ä¸ªå¯èƒ½æ€§å¾ˆå°ï¼Œæˆ‘ä»¬å°±æ‹’ç»åŽŸå‡è®¾ã€‚å½“æˆ‘ä»¬ p å€¼ &gt; alpha æ—¶ï¼Œæœ¬è´¨ä¸Šç­‰ä»·äºŽï¼šæˆ‘ä»¬æ‰€æœé›†åˆ°çš„æ•°æ®å¹¶æ²¡æœ‰æžç«¯åˆ°èƒ½è¯´æ˜ŽåŽŸå‡è®¾æ˜¯é”™çš„ã€‚è¿™é‡Œçš„æžç«¯ç¨‹åº¦æ ‡å‡†ï¼Œå°±æ˜¯æˆ‘ä»¬é€‰å¥½çš„ significance levelã€‚ ä»¥è¿™ä¸ª H0 ä¸ºä¾‹ï¼šæœ¬å¸‚çš„äººå‡æ”¶å…¥å¤§äºŽæˆ–ç­‰äºŽ8000å…ƒã€‚ æˆ‘ä»¬å‘çŽ°è°ƒæŸ¥1ä¸‡äººçš„å¹³å‡æ”¶å…¥æ˜¯7990å…ƒï¼Œè¿™ä¸ªæ•°å­—æ¯”8000å°ï¼Œçœ‹ä¸ŠåŽ»äººå‡æ”¶å…¥ä¼¼ä¹Žä½ŽäºŽ8000äº†ï¼Œä½†è¦æ³¨æ„ï¼ŒæŠ½æ ·è°ƒæŸ¥å­˜åœ¨éšæœºæ€§ï¼Œè¿™10å…ƒçš„å·®è·å¾ˆæœ‰å¯èƒ½æ˜¯éšæœºçŽ°è±¡å¯¼è‡´ã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ°çš„æ•°æ®ä¸è¶³ä»¥è¯æ˜ŽåŽŸå‡è®¾æ˜¯é”™çš„ã€‚ ä½†æˆ‘ä»¬æ˜¯å¦èƒ½æŽ¥å—â€œäººå‡æ”¶å…¥å¤§äºŽæˆ–ç­‰äºŽ8000â€çš„è¯´æ³•å‘¢ï¼Ÿæ˜¾ç„¶ä¸èƒ½ï¼Œ7990 çš„è°ƒæŸ¥ç»“æžœå½“ç„¶æ”¯æ’‘ä¸äº†è¿™ä¸ªè¯´æ³•ã€‚ å¦‚æžœæˆ‘ä»¬æƒ³è¦è¯æ˜Žäººå‡æ”¶å…¥å¤§äºŽ8000ï¼Œæˆ‘ä»¬çš„åŽŸå‡è®¾å°±åº”è¯¥æ˜¯ï¼šäººå‡æ”¶å…¥å°äºŽæˆ–ç­‰äºŽ8000ï¼ˆåŽŸå‡è®¾é‡Œä¸€å®šè¦æœ‰ç­‰å·ï¼‰ã€‚ ç¬¬1ç±»é”™è¯¯å’Œç¬¬2ç±»é”™è¯¯ç†è®ºéƒ¨åˆ†æžæ¸…æ¥šåŽï¼Œæˆ‘ä»¬å¼€å§‹ä»‹ç»ç¬¬1ç±»é”™è¯¯å’Œç¬¬2ç±»é”™è¯¯ã€‚ ç¬¬1ç±»é”™è¯¯ï¼šåŽŸå‡è®¾ä¸ºçœŸï¼Œä½†æˆ‘ä»¬æ‹’ç»äº†åŽŸå‡è®¾ã€‚è¿™ç±»é”™è¯¯å«åŽ»çœŸï¼Œè‹±æ–‡æ–‡çŒ®é‡Œè¯´ false positiveã€‚ç¬¬2ç±»é”™è¯¯ï¼šåŽŸå‡è®¾ä¸ºå‡ï¼Œä½†æˆ‘ä»¬æ²¡æœ‰æ‹’ç»åŽŸå‡è®¾ã€‚è¿™ç±»é”™è¯¯å«å­˜ä¼ªï¼Œè‹±æ–‡æ–‡çŒ®é‡Œå« false negativeã€‚ å¦‚ä¸‹å›¾ï¼š çŠ¯ç¬¬1ç±»é”™è¯¯çš„æ¦‚çŽ‡ï¼Œå°±æ˜¯ä¹‹å‰å‡ºçŽ°çš„ significance levelã€‚å¦‚æžœæˆ‘ä»¬ç¡®å®šäº† alpha = 0.05ï¼Œé‚£ä¹ˆåœ¨100æ¬¡å‡è®¾æ£€éªŒä¸­ï¼Œå°±ä¼šæœ‰5æ¬¡å‡ºçŽ°ç¬¬1ç±»é”™è¯¯ã€‚ çŠ¯ç¬¬2ç±»é”™è¯¯çš„æ¦‚çŽ‡ï¼Œè¢«ç§°ä¸º betaï¼Œå¦ä¸€ä¸ªå¸¸ç”¨ç»Ÿè®¡å­¦æ¦‚å¿µ powerï¼ˆç»Ÿè®¡åŠŸæ•ˆï¼‰å°±ç­‰äºŽ 1 - betaã€‚çŠ¯ç¬¬2ç±»é”™è¯¯çš„æ¦‚çŽ‡è¶Šä½Žï¼Œå»ºè®¾æ£€éªŒçš„ power å°±è¶Šé«˜ã€‚ åœ¨è¿™ä¸¤ç±»é”™è¯¯ä¸­ï¼Œæˆ‘ä»¬æ›´å…³å¿ƒå“ªä¸€ç±»å‘¢ï¼Ÿæœ‰çš„ä¹¦ç±ä¼šå‘Šè¯‰æˆ‘ä»¬ç¬¬1ç±»é”™è¯¯æ›´é‡è¦ï¼Œå®ƒä»¬ä¼šç”¨æ³•åº­å®¡åˆ¤çš„ä¾‹å­ï¼Œè¯´å®¡åˆ¤ä¸€ä¸ªæ— ç½ªçš„äººæœ‰ç½ªï¼ˆç¬¬1ç±»é”™è¯¯ï¼‰æ˜¯æ›´å¤§çš„é£Žé™©ï¼Œè¿™å…¶å®žåªæ˜¯ä¸ªæ¯”å–»ï¼Œä¸æ˜¯ä¸ªå¥½ä¾‹å­ã€‚ä¸‹é¢æˆ‘ä»¬çœ‹ä¸¤ä¸ªä¾‹å­ã€‚ ä¾‹å­1æˆ‘ä»¬ç”¨ç»Ÿè®¡å­¦ä½¿ç”¨çš„æœ€ä¸¥æ ¼çš„åœºæ™¯åšä¾‹å­ï¼šè¯ç‰©æ•ˆæžœçš„åˆ¤æ–­ã€‚æ–°è¯ä¸Šå¸‚å‰ï¼Œè¦ç»è¿‡ä¸€ç³»åˆ—ä¸¥æ ¼çš„åŒ»å­¦è¯•éªŒã€‚ H0ï¼šè¯ç‰© A å¯¹æ²»ç–—æŸç–¾ç—…æ²¡æœ‰å¸®åŠ©Haï¼šè¯ç‰© A å¯¹æ²»ç–—æŸç–¾ç—…æœ‰å¸®åŠ© ç›¸å…³é”™è¯¯å’Œç»“æžœå¦‚ä¸‹ï¼š ç¬¬1ç±»é”™è¯¯ï¼šè¯ç‰© A æ˜¯æ²¡ç”¨çš„ï¼Œä½†æˆ‘ä»¬æ‹’ç»äº†åŽŸå‡è®¾ï¼Œç»™å‡ºäº†è¯ç‰© A æ˜¯æœ‰ç”¨çš„çš„åˆ¤æ–­ã€‚è¯ç‰©ä¸Šå¸‚ï¼Œæ‚£è€…è´­ä¹°åŽæ²¡æœ‰å¸®åŠ©ï¼Œæ‚£è€…å› ä¸ºä½¿ç”¨ A è¯ç‰©å¯èƒ½æ²¡æœ‰ä½¿ç”¨å…¶ä»–æœ‰æ•ˆçš„è¯ç‰©ï¼Œæœ€åŽå¯èƒ½æœ‰è´Ÿé¢ç»“æžœï¼ˆç”šè‡³æ­»äº¡ï¼‰ï¼Œè¿›ä¸€æ­¥ç ”ç©¶å‘çŽ°è¯ç‰© A æ˜¯æ— æ•ˆçš„ï¼Œå…¬å¸é¢æ–™æ‚£è€…è¯‰è®¼ï¼Œç”šè‡³å¯èƒ½ç ´äº§ã€‚ ç¬¬2ç±»é”™è¯¯ï¼šè¯ç‰© A æ˜¯æœ‰ç”¨çš„ï¼Œä½†æˆ‘ä»¬æ²¡æœ‰æ‹’ç»åŽŸå‡è®¾ã€‚ç»“æžœï¼šè¯ç‰©æ— æ³•ä¸Šå¸‚ï¼Œå…¬å¸æŸå¤±äº†æ½œåœ¨çš„æ”¶å…¥ï¼Œç—…äººå¤±åŽ»äº†ä¸€ç§æ½œåœ¨çš„æ²»ç–—æ–¹æ¡ˆã€‚ ä¸¤ç§ç»“æžœï¼Œä½œä¸ºå…¬å¸ç®¡ç†è€…çš„ä½ ï¼Œä½ ä¼šæ›´å¸Œæœ›å‡å°‘å“ªä¸€ç§é”™è¯¯çš„æ¦‚çŽ‡å‘¢ï¼Ÿæ˜¾ç„¶æ˜¯ç¬¬1ç§ã€‚ ä¾‹å­2æˆ‘ä»¬åšç–¾ç—…ç­›æŸ¥æ—¶ï¼ŒH0 å’Œ Ha åˆ†åˆ«æ˜¯ï¼š H0ï¼šç—…äººæ²¡æœ‰ç–¾ç—…Haï¼šç—…äººæœ‰ç–¾ç—… ç›¸å…³é”™è¯¯å¦‚ä¸‹ï¼š ç¬¬1ç±»é”™è¯¯ï¼šç—…äººæ˜¯æ²¡ç—…çš„ï¼Œè¢«è¯Šæ–­ä¸ºæœ‰ç—…ã€‚ç—…äººç—›å“­æµæ¶•ï¼Œä½†åœ¨ä¹‹åŽçš„è¿›ä¸€æ­¥æ£€æŸ¥ä¸­ï¼Œç—…äººå‘çŽ°è‡ªå·±å¹¶æ²¡æœ‰ç”Ÿç—…ï¼Œè™šæƒŠä¸€åœºï¼Œè¿›è€Œè”æƒ³åˆ°ç”Ÿå‘½çš„å¯è´µï¼ŒäºŽæ˜¯å˜æˆä¸€ä¸ªå¥½çˆ¶äº²å¥½ä¸ˆå¤«ã€‚ ç¬¬2ç±»é”™è¯¯ï¼šç—…äººæ˜¯æœ‰ç—…çš„ï¼Œä½†åŽŸå‡è®¾æ²¡æœ‰è¢«æ‹’ç»ï¼Œç—…äººä¸çŸ¥é“è‡ªå·±ç”Ÿç—…äº†ï¼ŒäºŽæ˜¯é€é¥å¿«æ´»ï¼Œé”™è¿‡äº†æ²»ç–—æ—¶æœºï¼Œç„¶åŽç—‡çŠ¶å˜ä¸¥é‡æ—¶ï¼Œæ‰è¿›ä¸€æ­¥æ£€æŸ¥ï¼Œå‘çŽ°å¾—äº†ç—…ã€‚ åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œä½ ä¼šæ›´å¸Œæœ›å‡å°‘å“ªä¸€ç±»é”™è¯¯çš„æ¦‚çŽ‡å‘¢ï¼Ÿæ˜¾ç„¶æ˜¯ç¬¬2ç§ã€‚åœ¨ HIV æ£€æµ‹ä¸­ï¼Œfalse negative ç¡®å®žæ¯” false positve æ›´å°‘è§ã€‚ å®žè·µåœ¨å®žé™…ç ”ç©¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é™ä½Žä¸¤ç±»é”™è¯¯çš„æ¦‚çŽ‡ï¼š ç¬¬1ç±»é”™è¯¯ï¼šé€šè¿‡é€‰æ‹©æ›´ä½Žçš„ significant level ç¬¬2ç±»é”™è¯¯ï¼šé€šè¿‡æ‰©å¤§æ ·æœ¬é‡æˆ–é€‰æ‹©å•ä¾§æ£€éªŒ æ ·æœ¬é‡è¶³å¤Ÿå¤§çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ€»æ˜¯èƒ½æŠŠä¸¤ç±»é”™è¯¯çš„æ¦‚çŽ‡é™åˆ°è¶³å¤Ÿä½Žã€‚ä½†\båœ¨å®žé™…åº”ç”¨ä¸­ï¼Œæ›´å¤§çš„æ ·æœ¬æ„å‘³ç€æˆæœ¬ï¼šæ—¶é—´æˆæœ¬å’Œé‡‘é’±æˆæœ¬ã€‚ ä»¥ A/B æµ‹è¯•ä¸ºä¾‹ï¼Œåªè¦æ ·æœ¬é‡è¶³å¤Ÿå¤§ï¼Œä¸€å®šå‘çŽ°æ›´å¥½çš„æ–¹æ¡ˆã€‚ä½†äº§å“æœ‰è‡ªå·±çš„è¿­ä»£è®¡åˆ’ï¼Œæ¯ä¸ªäº§å“æœ‰ä¸€ç³»åˆ—çš„ A/B æµ‹è¯•éœ€è¦åšï¼Œä¸å¯èƒ½ç­‰æ¯ä¸€ä¸ªæµ‹è¯•å‡ºçŽ°ç»“æžœã€‚è¿™ä¸ªæ—¶å€™å°±å¿…é¡»ä¸ºäº†æ•ˆçŽ‡ç‰ºç‰²å‡†ç¡®æ€§ã€‚ æœ‰çš„é¢†åŸŸï¼Œå‡†ç¡®æ€§éžå¸¸éžå¸¸é‡è¦ï¼Œæ¯”å¦‚æ²»ç–—ç™Œç—‡çš„è¯ç‰©ç ”ç©¶ï¼Œé‚£æ˜¯äººå‘½å…³å¤©çš„äº‹æƒ…ï¼Œè€Œä¸”æ¯å¤©éƒ½åœ¨çƒ§é’±ï¼ŒçœŸçš„æ˜¯å­—é¢æ„ä¹‰ä¸Šçš„çƒ§é’±ã€‚ ç›¸æ¯”ä¹‹ä¸‹ï¼Œäº’è”ç½‘äº§å“çš„å®¹é”™çŽ‡è¿˜æ˜¯å¾ˆé«˜çš„ã€‚ä¸šç•Œèƒ½å¤ŸæŽ¥å—çš„æ ‡å‡†ä¸€èˆ¬æ˜¯ï¼š 5%çš„çŠ¯ä¸€ç±»é”™è¯¯çš„æ¦‚çŽ‡ 20%çš„çŠ¯äºŒç±»é”™è¯¯çš„æ¦‚çŽ‡ ä¸€èˆ¬çš„äº§å“æŒ‰ç…§è¿™ä¸ªæ ‡å‡†åŽ»åšç ”ç©¶ï¼Œä¸ä¼šæœ‰å¤§é—®é¢˜ã€‚ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"ç»Ÿè®¡å­¦","slug":"ç»Ÿè®¡å­¦","permalink":"https://yupototo.github.io/blog/categories/%E7%BB%9F%E8%AE%A1%E5%AD%A6/"}],"tags":[{"name":"Statistics","slug":"Statistics","permalink":"https://yupototo.github.io/blog/tags/Statistics/"}]},{"title":"ggplotç³»åˆ—ä¹‹5ï¼šæŸ±çŠ¶å›¾","slug":"ggplot_5_bar","date":"2018-07-06T12:25:12.000Z","updated":"2020-02-03T17:14:34.343Z","comments":true,"path":"2018/07/06/ggplot_5_bar/","link":"","permalink":"https://yupototo.github.io/blog/2018/07/06/ggplot_5_bar/","excerpt":"æŸ±çŠ¶å›¾ï¼Œä¸ªäººè®¤ä¸ºæœ€å®žç”¨çš„å¯è§†åŒ–å›¾å½¢ã€‚è¿™é‡Œæ€»ç»“å¦‚ä½•åœ¨ ggplot2 é‡Œä½¿ç”¨æŸ±çŠ¶å›¾ã€‚ \b\b","text":"æŸ±çŠ¶å›¾ï¼Œä¸ªäººè®¤ä¸ºæœ€å®žç”¨çš„å¯è§†åŒ–å›¾å½¢ã€‚è¿™é‡Œæ€»ç»“å¦‚ä½•åœ¨ ggplot2 é‡Œä½¿ç”¨æŸ±çŠ¶å›¾ã€‚ \b\b é»˜è®¤æŸ±çŠ¶å›¾å…ˆç”Ÿæˆä¸€ä»½ç®€å•çš„æ•°æ®ï¼š 1234df &lt;- data.frame( user_num = c(3000, 5000, 7000), version = factor(c('version 1', 'version 2', 'version 3'))) æˆ‘ä»¬ç”Ÿæˆäº†æŸ app ä¸åŒç‰ˆæœ¬ä¸‹çš„ç”¨æˆ·æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦å±•ç¤ºè¿™ä¸ªä¿¡æ¯ã€‚ 12345ggplot(data=df, aes(x=version, y = user_num)) + geom_bar(stat=\"identity\", width = 0.5) + labs(title = 'å„ä¸ªç‰ˆæœ¬çš„ç”¨æˆ·æ•°é‡', x = 'ç‰ˆæœ¬', y = 'ç”¨æˆ·æ•°') æœ€é‡è¦çš„ä»£ç æ˜¯ç¬¬7è¡Œçš„geom_barï¼Œå…¶ä¸­stat=\"identity\"æŒ‡ç›´æŽ¥ç”¨ data.frame é‡Œçš„æ•°å­—ä½œä¸º y è½´çš„å€¼ã€‚width æ˜¯æŸ±å­çš„å®½åº¦ã€‚ ç»“æžœå¦‚ä¸‹ï¼š è¿›é˜¶ç‰ˆï¼šåˆ†ç»„app çš„ç”¨æˆ·æ•°æ®å¯ä»¥æŒ‰ç…§å„ä¸ªç»´åº¦åšæ‹†åˆ†ï¼Œæœ€å¸¸ç”¨çš„ä¸€ä¸ªç»´åº¦æ˜¯æ€§åˆ«ã€‚æˆ‘ä»¬æŠŠç”¨æˆ·æ•°æ‹†åˆ†ä¸ºä¸åŒæ€§åˆ«ã€‚ 12345df_2 &lt;- data.frame( user_num = c(1600, 1400, 3000, 2000, 4000, 3000), version = factor(c('version 1', 'version 1', 'version 2', 'version 2', 'version 3', 'version 3')), gender = factor(c('male', 'female', 'male', 'female', 'male', 'female'))) ç„¶åŽæˆ‘ä»¬å±•ç¤ºåˆ†ç»„æŸ±çŠ¶å›¾ã€‚ 1234567ggplot(data=df_2, aes(x=version, y = user_num, fill = gender)) + geom_bar(stat=\"identity\", width = 0.5, position = 'dodge') + scale_fill_brewer(palette=\"Set2\") + labs(title = 'å„ä¸ªç‰ˆæœ¬çš„ç”¨æˆ·æ•°é‡', x = 'ç‰ˆæœ¬', y = 'ç”¨æˆ·æ•°', fill = 'æ€§åˆ«') æˆ‘åœ¨ç¬¬ä¸€è¡Œç”¨äº†fill = genderï¼Œå®žçŽ°äº†å¯¹ä¸åŒç»„å¡«è‰²ã€‚ç„¶åŽåœ¨ç¬¬äºŒè¡Œç”¨äº†position = 'dodge'ï¼Œå®žçŽ°äº†å¯¹æŠŠä¸åŒç»„çš„æŸ±å­å¹¶æŽ’å±•ç¤ºã€‚å¦‚æžœä¸ä½¿ç”¨è¿™ä¸ªå‚æ•°ï¼ŒæŸ±å­ä¼šå åŠ åœ¨ä¸€èµ·å±•ç¤ºã€‚ä¸ºäº†æ›¿æ¢é»˜è®¤é¢œè‰²ï¼Œæˆ‘åœ¨ç¬¬ä¸‰è¡Œç”¨äº†scale_fill_brewer(palette=\"Set2\")ï¼Œè¿™é‡Œçš„ Set2æ˜¯è°ƒè‰²æ¿åç§°ã€‚ ç»“æžœå¦‚ä¸‹ï¼š åœ¨æŸ±å­ä¸Šæ˜¾ç¤ºæ•°é‡æœ‰æ—¶ä¸ºäº†æ›´æ¸…æ™°åœ°å±•ç¤ºä¿¡æ¯ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æŸ±å­ä¸Šå±•ç¤ºæ•°å­—ã€‚ è¿™æ—¶éœ€è¦ç”¨åˆ° geom_text(): 12345678ggplot(data=df_2, aes(x=version, y = user_num, fill = gender)) + geom_bar(stat=\"identity\", width = 0.8, position = 'dodge') + geom_text(aes(label = user_num), position = position_dodge(0.8), vjust = -0.2) + scale_fill_brewer(palette=\"Set2\") + labs(title = 'å„ä¸ªç‰ˆæœ¬çš„ç”¨æˆ·æ•°é‡', x = 'ç‰ˆæœ¬', y = 'ç”¨æˆ·æ•°', fill = 'æ€§åˆ«') ç¬¬3è¡Œå°±æ˜¯ geom_text() å‘½ä»¤ï¼Œæˆ‘ä»¬ä»¤æ–‡å­—å†…å®¹ç­‰äºŽuser_numã€‚ ç»“æžœå¦‚ä¸‹ï¼š æ›´å¤šæŸ±çŠ¶å›¾æŽ§åˆ¶ï¼Œå¯ä»¥å‚è€ƒ ggplot2 çš„æ–‡æ¡£ã€‚ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"æ•°æ®å¯è§†åŒ–","slug":"æ•°æ®å¯è§†åŒ–","permalink":"https://yupototo.github.io/blog/categories/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/"}],"tags":[{"name":"R","slug":"R","permalink":"https://yupototo.github.io/blog/tags/R/"}]},{"title":"JavaScriptï¼šå¦‚ä½•ç†è§£â€œå¼‚æ­¥â€å’Œâ€œåŒæ­¥â€","slug":"coding-1-async","date":"2018-07-01T10:55:04.000Z","updated":"2020-02-03T17:14:34.335Z","comments":true,"path":"2018/07/01/coding-1-async/","link":"","permalink":"https://yupototo.github.io/blog/2018/07/01/coding-1-async/","excerpt":"æ€Žä¹ˆç†è§£ asyncï¼ˆå¼‚æ­¥ï¼‰ å’Œ syncï¼ˆåŒæ­¥ï¼‰ å‘¢ï¼Ÿ","text":"æ€Žä¹ˆç†è§£ asyncï¼ˆå¼‚æ­¥ï¼‰ å’Œ syncï¼ˆåŒæ­¥ï¼‰ å‘¢ï¼Ÿ ä¸€ä¸ªæ¯”å–»è§£é‡Šï¼š syncï¼šæŒ‡ä»£ç æŒ‰ç…§é¡ºåºæ‰§è¡Œï¼Œä¸€æ®µä»£ç æ‰§è¡Œå®ŒåŽï¼Œå†åŽ»æ‰§è¡Œä¸‹ä¸€æ®µã€‚ asyncï¼šä¸€è¡Œä»£ç å‘å‡ºè°ƒç”¨æŒ‡ä»¤åŽï¼Œä¸åŽ»ç­‰å¾…è¿™æ®µä»£ç çš„æ‰§è¡Œç»“æžœï¼Œå°±ç›´æŽ¥åŽ»æ‰§è¡Œä¸‹ä¸€æ®µä»£ç ã€‚ ä¸Šé¢çš„è§£é‡Šå¯èƒ½æ¯”è¾ƒæŠ½è±¡ï¼Œæˆ‘ä»¬åšä¸€ä¸ªæ¯”å–»ï¼šæƒ³è±¡ä½ åœ¨æ˜Ÿå·´å…‹æŽ’é˜Ÿä¹°å’–å•¡ã€‚ syncï¼šè½®åˆ°ä½ ç‚¹å’–å•¡ï¼Œä½ é€‰å¥½äº†å’–å•¡ï¼Œå‘Šè¯‰å’–å•¡å¸ˆï¼Œå’–å•¡å¸ˆå¼€å§‹åšå’–å•¡ï¼Œä½ åœ¨æŸœå°å‰ç­‰å¾…ï¼Œä¸èƒ½åšä»»ä½•åˆ«çš„äº‹æƒ…ï¼Œé™é™åœ°ç­‰å’–å•¡å¸ˆæŠŠå’–å•¡åšå®Œã€‚æ‹¿åˆ°å’–å•¡åŽï¼Œä½ æ‰èƒ½åŽ»åšä¸‹ä¸€ä»¶äº‹æƒ…ï¼Œæ¯”å¦‚æ‰¾åˆ°åº§ä½å¼€å§‹å·¥ä½œã€‚ asyncï¼š\bè½®åˆ°ä½ ç‚¹å’–å•¡ï¼Œä½ é€‰å¥½äº†å’–å•¡ï¼Œå‘Šè¯‰å’–å•¡å¸ˆï¼Œç„¶åŽä½ æ‰¾äº†ä¸ªåº§ä½ï¼Œæ‰“å¼€ç”µè„‘å¼€å§‹å·¥ä½œï¼Œå’–å•¡å¸ˆåšå¥½å’–å•¡åŽï¼ŒæŠŠå’–å•¡æ‹¿ç»™ä½ ã€‚ Sync çš„é¡ºåºå¦‚ä¸‹å›¾ï¼š åœ¨ sync æ¨¡å¼ä¸‹ï¼Œæ‹¿åˆ°å’–å•¡ä¹‹å‰ï¼Œæˆ‘ä»¬ä»€ä¹ˆä¹Ÿå¹²ä¸äº†ï¼Œåªèƒ½å¹²ç­‰ç€ã€‚ Async çš„é¡ºåºå¦‚ä¸‹å›¾ï¼š åœ¨ async æ¨¡å¼ä¸‹ï¼Œå’–å•¡å¸ˆåœ¨ç…®å’–å•¡ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆåŽ»å¿™åˆ«çš„äº‹æƒ…ï¼Œå½“å’–å•¡å¸ˆåšå®Œå’–å•¡åŽï¼Œæˆ‘ä»¬ä¼šæ”¶åˆ°å’–å•¡ã€‚è¿™ç§æ¨¡å¼æ›´èŠ‚çº¦æ—¶é—´ã€‚ JavaScript çš„ä¾‹å­æˆ‘ä»¬æŠŠä¸Šé¢çš„ä¾‹å­ç”¨ JavaScript ä»£ç æ¥æ‰§è¡Œï¼š Sync12345678910111213console.log(\"ç‚¹å’–å•¡\")console.log(\"------ç­‰å¾…2åˆ†é’Ÿ-----\")console.log(\"æ‹¿åˆ°å’–å•¡\")console.log(\"æ‰¾åº§ä½\")console.log(\"æ‰“å¼€ç”µè„‘\")console.log(\"å¼€å§‹å·¥ä½œ\")//ç‚¹å’–å•¡//------ç­‰å¾…2åˆ†é’Ÿ-----//æ‹¿åˆ°å’–å•¡//æ‰¾åº§ä½//æ‰“å¼€ç”µè„‘//å¼€å§‹å·¥ä½œ å¯ä»¥çœ‹åˆ°ï¼Œä¸€åˆ‡éƒ½æŒ‰ç…§é¡ºåºè¿›è¡Œã€‚ ç„¶åŽæ˜¯ Async çš„ä»£ç Async123456789101112131415console.log(\"ç‚¹å’–å•¡\")setTimeout(() =&gt; { console.log(\"-----2åˆ†é’Ÿè¿‡åŽ»äº†-----\") console.log(\"æ‹¿åˆ°å’–å•¡\")}, 2)console.log(\"æ‰¾åº§ä½\")console.log(\"æ‰“å¼€ç”µè„‘\")console.log(\"å¼€å§‹å·¥ä½œ\")//ç‚¹å’–å•¡//æ‰¾åº§ä½//æ‰“å¼€ç”µè„‘//å¼€å§‹å·¥ä½œ//-----2åˆ†é’Ÿè¿‡åŽ»äº†-----//æ‹¿åˆ°å’–å•¡ è¿™é‡Œæœ‰æ„æ€çš„åœ°æ–¹æ˜¯ï¼Œ â€œâ€”â€”-2åˆ†é’Ÿè¿‡åŽ»äº†â€”â€”-â€ å’Œ â€œæ‹¿åˆ°å’–å•¡â€ åœ¨é¡ºåºä¸Šæ˜¯ç¬¬2å’Œç¬¬3ä½ï¼Œä½†å› ä¸ºå¼‚æ­¥ï¼Œå®ƒä»¬åœ¨æœ€åŽæ‰è¢«æ‰§è¡Œã€‚æˆ‘ä»¬åˆ©ç”¨ç©ºé—²çš„æ—¶é—´å…ˆå¤„ç†äº†ä¹‹åŽçš„å·¥ä½œã€‚ ä»€ä¹ˆåœºåˆä½¿ç”¨ async å’Œ syncå’–å•¡å¸ˆåšå’–å•¡æ˜¯ä¸€ä»¶æ¶ˆè€—æ—¶é—´çš„ä»»åŠ¡ï¼Œåœ¨ app å¼€å‘æ—¶ä¹Ÿæœ‰ç±»ä¼¼çš„ä»»åŠ¡ï¼Œæ¯”å¦‚å®¢æˆ·ç«¯ä»Žæ•°æ®åº“èŽ·å–æ•°æ®ï¼Œæˆ‘ä»¬ä¸çŸ¥é“è¦ç­‰å¾…å¤šä¹…ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨ asyncï¼Œè®©æˆ‘ä»¬çš„å®¢æˆ·ç«¯åœ¨èŽ·å–åˆ°æ•°æ®å‰å…ˆåšå…¶ä»–å·¥ä½œã€‚ ä½¿ç”¨ async çš„å…¸åž‹åœºæ™¯ï¼š è®¿é—® API æ•°æ®åº“çš„è¯»å†™ \bè°ƒç”¨æŸä¸ªç¬¬ä¸‰æ–¹ JavaScript åŒ… â€¦â€¦ ä½¿ç”¨ sync çš„å…¸åž‹åœºæ™¯ï¼šç¨‹åºæ“ä½œä¹‹é—´æœ‰æ˜Žæ˜¾çš„é¡ºåºå…³ç³»ã€‚å¦‚ç”¨æˆ·è¾“å…¥è´¦å·å¯†ç ã€æ ¡éªŒã€ç™»é™†ï¼Œè¿™æ˜¯ä¸€ä¸ªæ˜Žæ˜¾æœ‰é¡ºåºçš„æµç¨‹ã€‚ å¦ä¸€ä¸ªæ€è€ƒæ–¹å¼æ˜¯ï¼šå½“ä½ ä¸çŸ¥é“è¯¥ç”¨ async è¿˜æ˜¯ sync æ—¶ï¼Œå°±å…ˆé»˜è®¤ç”¨ sync å§ã€‚ å‚è€ƒï¼š Is JavaScript Synchronous or Asynchronous? What the Hell is a Promise? JavaScript: Execution of Synchronous and Asynchronous codes FASTapi - Concurrency and async / await Understanding Async Await document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"Coding","slug":"Coding","permalink":"https://yupototo.github.io/blog/categories/Coding/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://yupototo.github.io/blog/tags/JavaScript/"}]},{"title":"å¦‚ä½•ç†è§£â€œç½®ä¿¡åŒºé—´â€","slug":"stat_3_conf_interval","date":"2018-06-23T07:56:51.000Z","updated":"2020-02-03T17:14:34.351Z","comments":true,"path":"2018/06/23/stat_3_conf_interval/","link":"","permalink":"https://yupototo.github.io/blog/2018/06/23/stat_3_conf_interval/","excerpt":"\b Google Play Store å¯¹æä¾›äº†å•†åº—é¡µ A/B æµ‹è¯•åŠŸèƒ½ï¼Œå…¬å¸ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½å¯¹æ–°ç‰ˆå•†åº—é¡µåšäº†æµ‹è¯•ã€‚æµ‹è¯•ç»“æžœä¼šæä¾›ä¸€ä¸ªç½®ä¿¡åŒºé—´ confidence intervalï¼ŒåŒäº‹å¾ˆéš¾ç†è§£ç½®ä¿¡åŒºé—´çš„æ¦‚å¿µã€‚ è¿™ç¯‡æ–‡ç« å°è¯•ç”¨æ™®é€šäººèƒ½ç†è§£çš„æ–¹å¼è§£é‡Šç½®ä¿¡åŒºé—´ã€‚ \b","text":"\b Google Play Store å¯¹æä¾›äº†å•†åº—é¡µ A/B æµ‹è¯•åŠŸèƒ½ï¼Œå…¬å¸ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½å¯¹æ–°ç‰ˆå•†åº—é¡µåšäº†æµ‹è¯•ã€‚æµ‹è¯•ç»“æžœä¼šæä¾›ä¸€ä¸ªç½®ä¿¡åŒºé—´ confidence intervalï¼ŒåŒäº‹å¾ˆéš¾ç†è§£ç½®ä¿¡åŒºé—´çš„æ¦‚å¿µã€‚ è¿™ç¯‡æ–‡ç« å°è¯•ç”¨æ™®é€šäººèƒ½ç†è§£çš„æ–¹å¼è§£é‡Šç½®ä¿¡åŒºé—´ã€‚ \b ç†è§£â€œæ€»ä½“â€å’Œâ€œæ ·æœ¬â€å…ˆç»™å®šä¸€ä¸ªç ”ç©¶é—®é¢˜ï¼šä¸­å›½äººé‡Œå¤šå°‘äººå–œæ¬¢è¶³çƒã€‚ è¿™ä¸ªé—®é¢˜é‡Œï¼Œâ€œæ€»ä½“â€æ˜¯å…¨ä½“ä¸­å›½äººï¼Œå¤§æ¦‚14äº¿ã€‚æˆ‘ä»¬ä¸å¯èƒ½è°ƒæŸ¥æ‰€æœ‰ä¸­å›½äººï¼Œæ‰€ä»¥å¿…é¡»ç”¨æŠ½æ ·è°ƒæŸ¥çš„æ–¹æ³•ï¼ŒéšæœºæŠ½å–ä¸€å®šæ•°é‡çš„äººèŽ·å–ä»–ä»¬çš„è§‚ç‚¹ã€‚ æŠ½å–åˆ°çš„è¿™éƒ¨åˆ†äººï¼Œè¢«ç§°ä¸ºâ€œæ ·æœ¬â€ã€‚ æˆ‘ä»¬ä¼šç”¨â€œæ ·æœ¬â€æ•°æ®åŽ»ä¼°è®¡æ€»ä½“çš„æƒ…å†µã€‚ è¯¯å·®ä¸€å®šå­˜åœ¨æ ¸å¿ƒå‰æï¼šå³ä½¿æ˜¯éšæœºæŠ½æ ·ï¼Œä¹Ÿä¼šæœ‰è¯¯å·®ã€‚ ç¡¬å¸ç†è®ºä¸Šæ˜¯å¹³å‡çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ‰”10æ¬¡ç¡¬å¸ï¼Œæ­£åé¢åˆšå¥½55å¼€çš„æ¦‚çŽ‡æ˜¯å¤šå¤§å‘¢ï¼Ÿè¿™æ˜¯ä¸ªäºŒé¡¹åˆ†å¸ƒã€‚å¯ä»¥ç”¨ R è®¡ç®—ï¼š 1dbinom(5, size=10, prob=0.5) ç»“æžœï¼š24.6%ã€‚åªæœ‰ä¸åˆ°1/4çš„æ¦‚çŽ‡ï¼Œæˆ‘ä»¬èƒ½è§‚æµ‹åˆ°5æ¬¡æ­£é¢å’Œ5æ¬¡åé¢ã€‚æ‰€ä»¥ï¼ŒéšæœºæŠ½æ ·æ— æ³•é¿å…è¯¯å·®ã€‚ éšæœºè°ƒæŸ¥1000ä¸ªä¸­å›½äººï¼Œå…¶ä¸­æœ‰12%çš„äººå–œæ¬¢è¶³çƒï¼Œè¿™ä¸ª12%å¾ˆå¤§å¯èƒ½ä¸æ˜¯ä¸­å›½äººå–œæ¬¢è¶³çƒçš„çœŸå®žæ¯”çŽ‡ã€‚ é‚£ä¹ˆï¼Œæˆ‘ä»¬å¦‚ä½•æ ¹æ®è¿™1000ä¸ªäººç¡®å®šåˆ°åº•æœ‰å¤šå°‘ä¸­å›½äººå–œæ¬¢è¶³çƒå‘¢ï¼Ÿ ä¸­å¿ƒæžé™å®šç†è¿™æ—¶ç»Ÿè®¡å­¦å°±å‘æŒ¥ä½œç”¨äº†ã€‚æ ¹æ®ä¸­å¿ƒæžé™å®šç†ï¼Œåœ¨æ ·æœ¬é‡è¶³å¤Ÿå¤§ä¸”æŠ½æ ·éšæœºæ—¶ï¼Œç‚¹ä¼°è®¡å€¼ç¬¦åˆæ­£æ€åˆ†å¸ƒï¼Œä¸”æˆ‘ä»¬çŸ¥é“è¿™ä¸ªæ­£æ€åˆ†å¸ƒçš„æ ‡å‡†å·®å’Œå‡å€¼ã€‚åˆ†å¸ƒçš„å‡å€¼å°±æ˜¯æ ·æœ¬çš„ä¼°è®¡å€¼ï¼Œæ ‡å‡†å·®å¯ä»¥ç”¨ä¸€ä¸ªå…¬å¼è®¡ç®—ã€‚ ä¸Šé¢çš„è¡¨è¾¾æ¯”è¾ƒæŠ½è±¡ã€‚æ›´ç›´æŽ¥åœ°è¯´ï¼Œå¯¹1000ä¸ªäººæŠ½æ ·æ˜¯å¦å–œæ¬¢è¶³çƒçš„ç»“æžœï¼Œå¯ä»¥è®©æˆ‘ä»¬ç”»å‡ºå¦‚ä¸‹çš„æ­£æ€åˆ†å¸ƒå›¾ç‰‡ï¼š \b è¿™ä¸ªåˆ†å¸ƒçš„å‡å€¼æ˜¯0.12ï¼Œæ ‡å‡†å·®æ˜¯0.0103ï¼ˆç”¨æŸä¸ªå…¬å¼è®¡ç®—å‡ºï¼Œè¿™é‡Œä¸è®¨è®ºï¼‰ã€‚ åˆ†å¸ƒå‡½æ•°çš„ç‰¹å¾ä¸€æ—¦æˆ‘ä»¬æœ‰äº†åˆ†å¸ƒå‡½æ•°ï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¡ç®—ï¼š ç»™å®š x èŒƒå›´ï¼Œå¯¹åº”çš„æ¦‚çŽ‡æ˜¯å¤šå°‘ ç»™å®šä¸€ä¸ªæ¦‚çŽ‡ï¼Œä»¥å‡å€¼ä¸ºä¸­å¿ƒæ—¶ï¼Œx çš„ä¸Šé™å’Œä¸‹é™å„æ˜¯å¤šå°‘ ç”¨ä¸¤ä¸ªä¾‹å­è®¡ç®—å¯¹æ ‡å‡†æ­£æ€åˆ†å¸ƒï¼Œ\b\b - 1 &lt; x &lt; 1 çš„æ¦‚çŽ‡æ˜¯å¤šå°‘å‘¢ï¼Ÿ 1pnorm(1) - pnorm(-1) ç»“æžœï¼š68%ã€‚ å¯¹ä¸€ä¸ªå‡å€¼ä¸º3ï¼Œæ ‡å‡†å·®æ˜¯0.5çš„æ­£æ€åˆ†å¸ƒï¼Œ90%æ¦‚çŽ‡å¯¹åº”çš„ä¸Šä¸‹é™å„æ˜¯å¤šå°‘å‘¢ï¼Ÿ 12upper_x &lt;- qnorm(0.95, 3, sd = 0.5)lower_x &lt;- qnorm(0.05, 3, sd = 0.5) è¿™é‡Œè®¡ç®—å‡ºçš„ç»“æžœæ˜¯ï¼š3.82 å’Œ 2.71ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥åˆ†å¸ƒä»Ž x = 2.71 åˆ° x = 3.82 çš„éƒ¨åˆ†ï¼Œæ¦‚çŽ‡æ˜¯90%ã€‚ è®¡ç®—è°ƒæŸ¥æ•°æ®ç”¨è¿™æ ·çš„è®¡ç®—æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—åˆšæ‰è°ƒæŸ¥1000ä¸ªä¸­å›½äººçš„æ•°æ®ã€‚ æˆ‘ä»¬ä»Žåˆšæ‰çš„æ­£æ€åˆ†å¸ƒé‡Œæ‰¾åˆ°ä¸€ä¸ªä¸Šé™å’Œä¸€ä¸ªä¸‹é™ï¼Œè®©è¿™ä¹‹é—´çš„æ¦‚çŽ‡æ˜¯ 95%ã€‚ 123sd &lt;- sqrt(0.12 * 0.88 / 1000)upper_x &lt;- qnorm(0.975, 0.12, sd = sd)lower_x &lt;- qnorm(0.025, 0.12, sd = sd) æˆ‘ä»¬å¾—åˆ°ä¸‹é™æ˜¯ 0.1ï¼Œä¸Šé™æ˜¯ 0.14ã€‚ å¦‚ä¸‹å›¾ï¼ˆå·æ‡’ä¸ç”¨ R åšå›¾äº†ï¼‰ï¼š \b æ ¹æ®è¿™ä¸ªè®¡ç®—ï¼Œæˆ‘ä»¬æœ‰95%çš„æŠŠæ¡åšå‡ºå¦‚ä¸‹åˆ¤æ–­ï¼š10%åˆ°14%è¿™ä¸ªåŒºé—´å†…åŒ…å«ä¸­å›½äººå–œæ¬¢è¶³çƒçš„çœŸå®žæ¯”ä¾‹ã€‚ ä¸¥æ ¼åœ°è¯´ï¼Œæˆ‘ä»¬ä¸èƒ½è¿™æ ·è¡¨è¾¾ï¼šä¸­å›½äººå–œæ¬¢è¶³çƒçš„çœŸå®žæ¯”ä¾‹æœ‰95%çš„æ¦‚çŽ‡è½åœ¨10%åˆ°14%ä¹‹é—´ã€‚è¿™æ˜¯ä¸ªå¾ˆå¾®å¦™çš„åŒºåˆ«ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥è¿›ä¸€æ­¥æ·±ç©¶ã€‚ä»Žä¸šåŠ¡è§’åº¦æ¥è¯´ï¼Œè¿™ä¸ªè¡¨è¾¾ä¹Ÿæ˜¯å¯ä»¥æŽ¥å—çš„ï¼Œè€Œä¸”æŒ‰ç…§æˆ‘ä¸ªäººç»éªŒï¼ŒåŒäº‹ä¼šæ›´å®¹æ˜“ç†è§£è¿™ä¸ªè¡¨è¾¾ã€‚ å°ç»“é‚£ä¹ˆï¼Œåˆ°åº•ä»€ä¹ˆæ˜¯ç½®ä¿¡åŒºé—´å‘¢ï¼Ÿ å¦‚æžœæˆ‘ä»¬æœ‰ä¸€ä¸ª95%çš„ç½®ä¿¡åŒºé—´ï¼Œæˆ‘ä»¬å¯ä»¥è¯´ï¼Œæœ‰95%çš„æŠŠæ¡çœŸå®žå€¼è½åœ¨ç½®ä¿¡åŒºé—´å†…ã€‚ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"ç»Ÿè®¡å­¦","slug":"ç»Ÿè®¡å­¦","permalink":"https://yupototo.github.io/blog/categories/%E7%BB%9F%E8%AE%A1%E5%AD%A6/"}],"tags":[{"name":"R","slug":"R","permalink":"https://yupototo.github.io/blog/tags/R/"},{"name":"Statistics","slug":"Statistics","permalink":"https://yupototo.github.io/blog/tags/Statistics/"}]},{"title":"ggplotç³»åˆ—ä¹‹4ï¼šæŠ˜çº¿å›¾","slug":"ggplot_4_line","date":"2018-06-01T12:35:36.000Z","updated":"2020-02-03T17:14:34.343Z","comments":true,"path":"2018/06/01/ggplot_4_line/","link":"","permalink":"https://yupototo.github.io/blog/2018/06/01/ggplot_4_line/","excerpt":"æŠ˜çº¿å›¾ï¼Œç»å¸¸ç”¨æ¥å±•ç¤ºæ—¶é—´åºåˆ—æ•°æ®ã€‚ \b\b","text":"æŠ˜çº¿å›¾ï¼Œç»å¸¸ç”¨æ¥å±•ç¤ºæ—¶é—´åºåˆ—æ•°æ®ã€‚ \b\b \bå‡†å¤‡æ•°æ®è¿™é‡Œä½¿ç”¨ R è‡ªå¸¦çš„ UKLungDeaths æ•°æ®ï¼Œè®°å½•äº†è‹±å›½1974åˆ°1979å¹´æ¯ä¸ªæœˆå› ä¸ºè‚ºç—…æ­»äº¡çš„äººæ•°ã€‚ æºæ•°æ®æ˜¯ ts æ ¼å¼ï¼Œéœ€è¦çŽ°è½¬æ¢æˆ ggplot éœ€è¦çš„ data.frame æ ¼å¼ï¼Œä½¿ç”¨ tsbox åŒ…ã€‚ 12345678# ç”¨äºŽåŸºç¡€åšå›¾df &lt;- ts_df(ts_c(ldeaths))# ç”¨äºŽåˆ†ç»„åšå›¾df_2 &lt;- ts_df(ts_c(fdeaths, mdeaths))names(df_2)[1] &lt;- 'gender'df_2 &lt;- df_2 %&gt;% mutate(gender = ifelse(gender == 'fdeaths', 'female', 'male')) è¿™é‡Œå‡†å¤‡äº†ä¸¤ä¸ª data.frameã€‚ç¬¬ä¸€ä¸ª df æ˜¯æ¯æœˆå› ä¸ºè‚ºç—…æ­»äº¡çš„æ€»äººæ•°ï¼Œç¬¬äºŒä¸ª df æ˜¯åˆ†æ€§åˆ«çš„æ­»äº¡äººæ•°ã€‚ ç¬¬1ç»„æ•°æ®çš„å‰å‡ è¡Œ: time value 1974-01-01 3035 1974-02-01 2552 1974-03-01 2704 1974-04-01 2554 1974-05-01 2014 1974-06-01 1655 ç¬¬2ç»„æ•°æ®çš„å‰å‡ è¡Œï¼š time value gender 1974-01-01 901 female 1974-02-01 689 female 1974-03-01 827 female 1974-04-01 677 female 1974-05-01 522 female 1974-06-01 406 female ç¬¬2ç»„æ•°æ®å¤šäº†ä¸€ä¸ªè¡¨ç¤ºæ€§åˆ«çš„å˜é‡genderã€‚ åŸºæœ¬æŠ˜çº¿å›¾å…ˆç”»ä¸€ä¸ªæ¯æœˆæ€»æ­»äº¡äººæ•°çš„å›¾ï¼š 12345678df %&gt;% ggplot(aes(x = time, y = value)) + geom_line() + scale_x_date(date_breaks = '2 years', date_labels = \"%Y-%m\") + labs(title = '1974-1979å¹´è‹±å›½æ­»äºŽè‚ºç—…çš„äººæ•°/æ¯æœˆ', x = 'æœˆä»½', y = 'æ­»äº¡äººæ•°') geom_line æ˜¯ç”»æŠ˜çº¿å›¾çš„å‡½æ•°ã€‚ è¿™é‡Œè¿˜å‡ºçŽ°äº†ä¸€ä¸ªå¸¸ç”¨çš„æ–¹æ³•scale_x_dateï¼Œå¤„ç†æ—¶é—´æ ¼å¼æ—¶å¾ˆæ–¹ä¾¿ã€‚æˆ‘ç”¨ date_breaks = '2 years' è¡¨ç¤º x è½´çš„æ ‡ç­¾æ¯éš”ä¸¤å¹´æ˜¾ç¤ºï¼Œç„¶åŽç”¨date_labels = '%Y-%m'å°†æ˜¾ç¤ºçš„æ ¼å¼è®¾å®šä¸ºâ€xxxxå¹´-xxæœˆâ€ã€‚ åšå›¾ç»“æžœå¦‚ä¸‹ï¼š åˆ†ç»„æŠ˜çº¿å›¾æœ‰æ—¶æˆ‘ä»¬éœ€è¦å¯¹ä¸åŒçš„ç»„åˆ«ç”»æŠ˜çº¿ï¼š 123456789df_2 %&gt;% ggplot(aes(x = time, y = value, color = gender)) + geom_line() + scale_x_date(date_breaks = '2 years', date_labels = \"%Y-%m\") + labs(title = '1974-1979å¹´è‹±å›½æ­»äºŽè‚ºç—…çš„äººæ•°/æ¯æœˆ', x = 'æœˆä»½', y = 'æ­»äº¡äººæ•°', color = 'æ€§åˆ«') è¿™é‡Œçš„å…³é”®æ˜¯ç¬¬2è¡Œçš„color = genderã€‚ åšå›¾ç»“æžœå¦‚ä¸‹ï¼š æŠ˜çº¿å›¾ + ç‚¹æœ‰æ—¶æˆ‘ä»¬æƒ³è¦åŒæ—¶å±•ç¤ºæŠ˜çº¿å’Œç‚¹ï¼š 12345678910df_2 %&gt;% ggplot(aes(x = time, y = value, color = gender)) + geom_line() + geom_point() + scale_x_date(date_breaks = '2 years', date_labels = \"%Y-%m\") + labs(title = '1974-1979å¹´è‹±å›½æ­»äºŽè‚ºç—…çš„äººæ•°/æ¯æœˆ', x = 'æœˆä»½', y = 'æ­»äº¡äººæ•°', color = 'æ€§åˆ«') åŠ ä¸Š geom_point å³å¯ã€‚ åšå›¾ç»“æžœå¦‚ä¸‹ï¼š document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"æ•°æ®å¯è§†åŒ–","slug":"æ•°æ®å¯è§†åŒ–","permalink":"https://yupototo.github.io/blog/categories/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/"}],"tags":[{"name":"R","slug":"R","permalink":"https://yupototo.github.io/blog/tags/R/"}]},{"title":"ggplotç³»åˆ—ä¹‹3ï¼šæŸ¥çœ‹ä¸€ç»„è¿žç»­å˜é‡çš„åˆ†å¸ƒ","slug":"ggplot_3_continous_dist","date":"2018-05-25T09:40:26.000Z","updated":"2020-02-03T17:14:34.343Z","comments":true,"path":"2018/05/25/ggplot_3_continous_dist/","link":"","permalink":"https://yupototo.github.io/blog/2018/05/25/ggplot_3_continous_dist/","excerpt":"æˆ‘ä»¬æ‹¿åˆ°äº†ä¸€ä¸ªè°ƒæŸ¥æ•°æ®ï¼Œæ¯ä¸ªç”¨æˆ·è¾“å…¥äº†è‡ªå·±çš„å¹´é¾„ï¼Œæˆ‘ä»¬æƒ³æŸ¥çœ‹ç”¨æˆ·çš„å¹´é¾„åˆ†å¸ƒã€‚è¿™ä¸ªé—®é¢˜åœºæ™¯å…¶å®žå¯ä»¥æŠ½è±¡ä¸ºï¼šæŸ¥çœ‹ä¸€ä¸ªè¿žç»­å˜é‡çš„åˆ†å¸ƒæƒ…å†µã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç›´æ–¹å›¾ï¼ˆhistogram plotï¼‰æˆ–å¯†åº¦å›¾ï¼ˆdensity plotï¼‰ã€‚ è¿™ç¯‡æ–‡ç« å±•ç¤ºä¸¤ç§å›¾ç‰‡çš„ä»£ç ï¼Œå¹¶è®¨è®ºè¯¥é€‰æ‹©å“ªä¸€ç§å›¾ç‰‡ã€‚","text":"æˆ‘ä»¬æ‹¿åˆ°äº†ä¸€ä¸ªè°ƒæŸ¥æ•°æ®ï¼Œæ¯ä¸ªç”¨æˆ·è¾“å…¥äº†è‡ªå·±çš„å¹´é¾„ï¼Œæˆ‘ä»¬æƒ³æŸ¥çœ‹ç”¨æˆ·çš„å¹´é¾„åˆ†å¸ƒã€‚è¿™ä¸ªé—®é¢˜åœºæ™¯å…¶å®žå¯ä»¥æŠ½è±¡ä¸ºï¼šæŸ¥çœ‹ä¸€ä¸ªè¿žç»­å˜é‡çš„åˆ†å¸ƒæƒ…å†µã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç›´æ–¹å›¾ï¼ˆhistogram plotï¼‰æˆ–å¯†åº¦å›¾ï¼ˆdensity plotï¼‰ã€‚ è¿™ç¯‡æ–‡ç« å±•ç¤ºä¸¤ç§å›¾ç‰‡çš„ä»£ç ï¼Œå¹¶è®¨è®ºè¯¥é€‰æ‹©å“ªä¸€ç§å›¾ç‰‡ã€‚ æ¨¡æ‹Ÿæ•°æ®æˆ‘ä»¬å…ˆç”Ÿæˆ simulated dataï¼š å˜é‡1ï¼šæ€§åˆ«ï¼Œç”·æˆ–å¥³ å˜é‡2ï¼šé‡é‡ï¼Œç¬¦åˆæ­£å¤ªåˆ†å¸ƒ \bæ•°é‡ï¼šç”·å¥³å„ä¸¤ç™¾å„è§‚æµ‹å€¼ 12345set.seed(1234)wdata &lt;- data.frame( sex = factor(rep(c(\"å¥³\", \"ç”·\"), each=200)), weight = c(rnorm(200, 55), rnorm(200, 58)))head(wdata) histogramhistogram æŠŠä¸€ç»„è¿žç»­å˜é‡åˆ†æˆè‹¥å¹²ç»„ï¼Œå¹¶å±•ç¤ºå„ä¸ªç»„çš„é¢‘æ•°ã€‚ggplot å¯ä»¥å¯¹è¿žç»­å˜é‡è‡ªåŠ¨åˆ†ç»„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ‰‹åŠ¨è®¾å®šæ¯ä¸€ç»„çš„åŒºé—´èŒƒå›´ã€‚å…·ä½“ä½¿ç”¨å¤šå¤§çš„ç»„è·ï¼Œè¦æ ¹æ®ä¸šåŠ¡æƒ…å†µç¡®å®šã€‚ æˆ‘ä»¬å…ˆåšç¬¬ä¸€å¼ å›¾ï¼Œä¸åŒºåˆ†ç”·å¥³ã€‚ 12345ggplot(data = wdata) + geom_histogram(aes(x = weight)) + labs(title = 'ä½“é‡åˆ†å¸ƒ', x = 'é‡é‡ï¼ˆå…¬æ–¤ï¼‰', y = 'æ•°é‡') ç»“æžœå¦‚ä¸‹å›¾ï¼š å¯ä»¥çœ‹åˆ°å…¨éƒ¨äººç¾¤çš„é‡é‡åˆ†å¸ƒæœ‰ä¸¤ä¸ªä¸­å¿ƒã€‚å¦‚æžœè¿™æ˜¯ä¸€ä¸ªæ­£å¸¸çš„æ•°æ®åˆ†æžï¼Œæˆ‘ä»¬ä¼šçŒœæµ‹å¯èƒ½æœ‰å…¶ä»–å› ç´ å½±å“äº†åˆ†å¸ƒï¼Œå…¶ä¸­æ€§åˆ«æ˜¯æœ€ç¬¦åˆç›´è§‰çš„ï¼Œæ‰€ä»¥è¿™ä¸ªæ—¶å€™æˆ‘ä¼šå¯¹æ€§åˆ«åšä¸€ä¸ªåˆ†ç»„ï¼Œå†ç”»ä¸€å¼ å›¾ã€‚ï¼ˆè™½ç„¶è¿™é‡Œçš„æ•°æ®æ˜¯æˆ‘ç›´æŽ¥ simulate çš„ï¼Œæˆ‘å·²ç»æå‰çŸ¥é“ç­”æ¡ˆäº†ï¼Œä½†è¿™ä¸ªåˆ†æžæ€è·¯ä¸ä¼šæœ‰æ”¹å˜ï¼‰ã€‚ æ›´æ–°åšå›¾ä»£ç ï¼š 123456ggplot(data = wdata) + geom_histogram(aes(x = weight, fill = sex)) + labs(title = 'ä½“é‡åˆ†å¸ƒ', x = 'é‡é‡ï¼ˆå…¬æ–¤ï¼‰', y = 'æ•°é‡', fill = 'æ€§åˆ«') è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥æ¸…æ™°åœ°çœ‹åˆ°ä¸åŒæ€§åˆ«æœ‰è‡ªå·±çš„ä½“é‡åˆ†å¸ƒã€‚ density plotdensity plot æŒ‰ç…§ä¸€ä¸ªå…¬å¼æŠŠæ•°æ®è½¬æ¢æˆäº†â€œå¯†åº¦â€ï¼Œå®ƒè·Ÿ histogram çš„åŒºåˆ«å¯ä»¥æŸ¥çœ‹è¿™ä¸ªå›žç­”ã€‚ ä»£ç å¦‚ä¸‹ï¼š 123456ggplot(data = wdata) + geom_density(aes(x = weight, fill = sex)) + labs(title = 'ä½“é‡åˆ†å¸ƒ', x = 'é‡é‡ï¼ˆå…¬æ–¤ï¼‰', y = 'æ•°é‡', fill = 'æ€§åˆ«') ç»†å¿ƒçš„ä½ ä¼šå‘çŽ°ï¼Œæˆ‘ä»¬åªä¿®æ”¹äº†ä¸€è¡Œä»£ç ï¼Œå…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬æŠŠ geom_histogram å˜æˆäº† geom_densityï¼Œéžå¸¸æ–¹ä¾¿åœ°ç”Ÿæˆäº†æˆ‘ä»¬éœ€è¦çš„å›¾ç‰‡ã€‚è¿™å°±æ˜¯ ggplot åŽ‰å®³çš„åœ°æ–¹ã€‚ ç»“æžœå¦‚ä¸‹å›¾ï¼š å¯ä»¥çœ‹åˆ°ï¼Œä¸¤ä¸ªç»„åˆ«çš„æ­£æ€åˆ†å¸ƒæ›´åŠ æ˜Žæ˜¾ã€‚ ç”¨ histogram è¿˜æ˜¯ density å‘¢ï¼Ÿå¯¹æ¯”ä¸Šé¢çš„ä¸¤ä¸ªå›¾ç‰‡ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°ï¼šdensity å¯¹è¶‹åŠ¿çš„å±•ç¤ºæ›´åŠ æ˜Žæ˜¾ã€‚ æˆ‘çš„æ€è·¯å¦‚ä¸‹ï¼š åœ¨æ ·æœ¬è¶³å¤Ÿå¤šçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä¼šä¼˜å…ˆæŸ¥çœ‹ densityï¼Œç„¶åŽæŸ¥çœ‹ histogram ä½†å¦‚æžœæ ·æœ¬é‡ä¸è¶³ï¼Œç”¨ density å¯èƒ½ä¼šå¯¹æ•°æ®åšå‡ºè¿‡åº¦å¤„ç†ï¼Œè¿™ä¸ªæ—¶å€™ä¼˜å…ˆæŸ¥çœ‹ histogram å¦‚æžœæ•°æ®éœ€è¦è·Ÿå¤–éƒ¨å›¢é˜Ÿæ²Ÿé€šï¼Œä¼˜å…ˆå±•ç¤º histogramï¼Œå› ä¸ºåŒäº‹å¯èƒ½ä¸å¤ªç†è§£ density çš„æ„æ€ï¼Œè€Œè§£é‡Šèµ·æ¥çš„æ²Ÿé€šæˆæœ¬ä¹Ÿéžå¸¸é«˜ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘æ°¸è¿œé€‰æ‹©æœ€å®¹æ˜“å¸®åŠ©æ²Ÿé€šçš„æ–¹æ¡ˆã€‚æœ‰äº›æƒ³å±•ç¤ºè‡ªå·±ä¸“ä¸šæ€§çš„åˆ†æžå¸ˆï¼Œå¯èƒ½ä¼šé€‰æ‹©ä½¿ç”¨ density plotï¼Œè¿™ä¸æ˜¯ä¸ªå¯¹å›¢é˜Ÿæ•ˆçŽ‡æœ‰å¸®åŠ©çš„ä¹ æƒ¯ã€‚ åœ¨ä¸¤ä¸ªæ–¹æ¡ˆèƒ½è¾¾åˆ°ç›¸åŒæ•ˆæžœæ—¶ï¼Œæ°¸è¿œé€‰æ‹©æœ€åˆ©äºŽæ²Ÿé€šçš„æ–¹æ¡ˆï¼Œè€Œä¸æ˜¯æœ€åˆ©äºŽå±•ç¤ºè‡ªå·±â€œå®žåŠ›â€çš„æ–¹æ¡ˆã€‚ ä¸Šé¢è¿™å¥è¯æ˜¯æˆ‘è¯´çš„ï¼Œä¹Ÿæ˜¯æˆ‘æ£€éªŒä¸€ä¸ªæ•°æ®åˆ†æžå¸ˆæ˜¯å¦åˆæ ¼çš„é‡è¦æ ‡å‡†ã€‚å½“ä¸€ä¸ªæ•°æ®åˆ†æžå¸ˆä¼˜å…ˆå±•ç¤ºè‡ªæˆ‘è€Œä¸æ˜¯é«˜æ•ˆæ²Ÿé€šæ—¶ï¼Œä»–å¯èƒ½å­˜åœ¨å¦‚ä¸‹çš„é—®é¢˜ï¼š ç¼ºä¹æ²Ÿé€šèƒ½åŠ›ï¼Œç”šè‡³ä¸æ˜¯ä¸ª team player ç¼ºä¹æˆæœ¬æ„è¯†ï¼Œå¾ˆéš¾æˆä¸ºä¼ä¸šé‡Œè¶³å¤Ÿå¥½çš„ leaderï¼Œæ¯•ç«Ÿï¼Œç®¡ç†è€…æœ€é‡è¦çš„å·¥ä½œä¹‹ä¸€æ˜¯åšæŠ•å…¥äº§å‡ºåˆ†æž ä¸çœŸè¯šï¼Œ\bç”šè‡³ä¼šæœ‰ä¸è¯šå®žçš„å«Œç–‘ï¼Œè¿™å¯¹æ•°æ®å·¥ä½œæ˜¯éžå¸¸è‡´å‘½çš„ ä»¥ä¸Šå†…å®¹ï¼Œä¹Ÿæ˜¯æˆ‘å¯¹è‡ªå·±çš„è­¦é†’ã€‚ å¼•ç”³ï¼šç”¨ geom_area å®žçŽ°ç±»ä¼¼ density çš„æ•ˆæžœggplot è¿˜æœ‰ä¸€ä¸ª geom_area å‡½æ•°ï¼Œèƒ½å®žçŽ°ç±»ä¼¼ç›´æ–¹å›¾çš„åŠŸèƒ½ã€‚ æˆ‘ä»¬è¯•è¯•ç”¨ geom_area ä¿®æ”¹ä»£ç ï¼Œå¹¶å°è¯•ä½¿ç”¨å¦ä¸€ä¸ªä¸»é¢˜ã€‚ä»£ç å¦‚ä¸‹ï¼š 123456789ggplot(data = wdata) + geom_area(aes(x = weight, fill = sex), stat =\"bin\", alpha=0.6) + theme_classic() + theme(text=element_text(size=20, family=\"STFangsong\"), plot.title = element_text(hjust = 0.5)) + labs(title = 'ä½“é‡åˆ†å¸ƒ', x = 'é‡é‡ï¼ˆå…¬æ–¤ï¼‰', y = 'æ•°é‡', fill = 'æ€§åˆ«') ç»“æžœå¦‚å›¾ï¼š è¿™æ˜¯ä¸€ä¸ªçœ‹èµ·æ¥å¾ˆèˆ’æœçš„å¯è§†åŒ–æ•°æ®äº†ï¼Œç›¸ä¿¡ä¹Ÿä¼šè®©ä½ çš„æŠ¥å‘Šæ›´æœ‰è¯´æœåŠ›ã€‚ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"æ•°æ®å¯è§†åŒ–","slug":"æ•°æ®å¯è§†åŒ–","permalink":"https://yupototo.github.io/blog/categories/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/"}],"tags":[{"name":"R","slug":"R","permalink":"https://yupototo.github.io/blog/tags/R/"}]},{"title":"R è¯­è¨€é‡Œå¸¸ç”¨çš„åˆ†å¸ƒå‡½æ•°","slug":"stat_2_r_dist_function","date":"2018-05-13T16:59:44.000Z","updated":"2020-02-03T17:14:34.351Z","comments":true,"path":"2018/05/13/stat_2_r_dist_function/","link":"","permalink":"https://yupototo.github.io/blog/2018/05/13/stat_2_r_dist_function/","excerpt":"è¿™ç¯‡åšæ–‡å°ç»“ R è¯­è¨€é‡Œæ¶‰åŠæ¦‚çŽ‡åˆ†å¸ƒçš„å‡ ä¸ªå‡½æ•°ã€‚ æ¯ä¸ªæ¦‚çŽ‡åˆ†å¸ƒå‡½æ•°åœ¨ R é‡Œéƒ½æœ‰4ä¸ªå¯¹åº”çš„å‡½æ•°ï¼Œåˆ†åˆ«ä»¥1ä¸ªå­—æ¯å¼€å¤´ï¼š dï¼šè¡¨ç¤º densityï¼ŒæŒ‡æ¦‚çŽ‡å¯†åº¦å‡½æ•° probability density function (pdf) pï¼šè¡¨ç¤º probabilityï¼ŒæŒ‡ç´¯è®¡åˆ†å¸ƒå‡½æ•° cumulative density function (cdf) q: è¡¨ç¤º quantileï¼Œæ˜¯ cdf çš„é€†å‡½æ•° rï¼šè¡¨ç¤º randomï¼Œç¬¦åˆè¯¥æ¦‚çŽ‡åˆ†å¸ƒçš„éšæœºæ•° å¦‚æžœä½ åƒæˆ‘ä¸€æ ·å·²ç»ä¸è®°å¾—æ¦‚çŽ‡è®ºçš„è€å¸ˆé•¿å•¥æ ·ï¼Œä¸Šä¸ªçš„ä¸€äº›åè¯åº”è¯¥ä¼šè®©ä½ ä¸€å¤´é›¾æ°´ã€‚æ²¡å…³ç³»ï¼Œæˆ‘ä»¬æŽ¥ä¸‹æ¥å°±ç”¨ R ä»£ç ä¸€ä¸€æµ‹è¯•ã€‚ \b","text":"è¿™ç¯‡åšæ–‡å°ç»“ R è¯­è¨€é‡Œæ¶‰åŠæ¦‚çŽ‡åˆ†å¸ƒçš„å‡ ä¸ªå‡½æ•°ã€‚ æ¯ä¸ªæ¦‚çŽ‡åˆ†å¸ƒå‡½æ•°åœ¨ R é‡Œéƒ½æœ‰4ä¸ªå¯¹åº”çš„å‡½æ•°ï¼Œåˆ†åˆ«ä»¥1ä¸ªå­—æ¯å¼€å¤´ï¼š dï¼šè¡¨ç¤º densityï¼ŒæŒ‡æ¦‚çŽ‡å¯†åº¦å‡½æ•° probability density function (pdf) pï¼šè¡¨ç¤º probabilityï¼ŒæŒ‡ç´¯è®¡åˆ†å¸ƒå‡½æ•° cumulative density function (cdf) q: è¡¨ç¤º quantileï¼Œæ˜¯ cdf çš„é€†å‡½æ•° rï¼šè¡¨ç¤º randomï¼Œç¬¦åˆè¯¥æ¦‚çŽ‡åˆ†å¸ƒçš„éšæœºæ•° å¦‚æžœä½ åƒæˆ‘ä¸€æ ·å·²ç»ä¸è®°å¾—æ¦‚çŽ‡è®ºçš„è€å¸ˆé•¿å•¥æ ·ï¼Œä¸Šä¸ªçš„ä¸€äº›åè¯åº”è¯¥ä¼šè®©ä½ ä¸€å¤´é›¾æ°´ã€‚æ²¡å…³ç³»ï¼Œæˆ‘ä»¬æŽ¥ä¸‹æ¥å°±ç”¨ R ä»£ç ä¸€ä¸€æµ‹è¯•ã€‚ \b äºŒé¡¹åˆ†å¸ƒ Binomial Distributionæˆ‘ä»¬å…ˆä»¥äºŒé¡¹åˆ†å¸ƒä½œä¸ºä¾‹å­ã€‚äºŒé¡¹åˆ†å¸ƒæ˜¯ä¸€ä¸ªç¦»æ•£éšæœºå˜é‡ã€‚ äºŒé¡¹åˆ†å¸ƒæè¿°çš„é—®é¢˜æ˜¯ï¼šæ¯æ¬¡è¯•éªŒæœ‰ä¸¤ä¸ªç»“æžœï¼ŒæˆåŠŸæˆ–å¤±è´¥ï¼Œn æ¬¡è¯•éªŒåŽæˆåŠŸ k æ¬¡çš„æ¦‚çŽ‡æœ‰å¤šå°‘ï¼Ÿ R è¯­è¨€é‡Œæ˜¯ binomã€‚ dbinomdbinom(x, size, prob) å°±æ˜¯è®¡ç®—æ¦‚çŽ‡çš„å…¬å¼ï¼Œå…¶ä¸­ï¼š xï¼šæˆåŠŸæ¬¡æ•° sizeï¼šæ€»è¯•éªŒæ¬¡æ•° probï¼šå•æ¬¡è¯•éªŒçš„æˆåŠŸæ¦‚çŽ‡ æ¯”å¦‚ï¼Œæ‰”5æ¬¡ç¡¬å¸ï¼Œæ­£é¢2æ¬¡çš„æ¦‚çŽ‡å¯ä»¥è®¡ç®—ä¸ºï¼š Rä»£ç 1dbinom(2, size=5, prob=0.5) ç»“æžœï¼š0.3125 pbinompbinom(q, size, prob) æ˜¯è®¡ç®—ç´¯è®¡æ¦‚çŽ‡çš„å‡½æ•°ï¼Œå…¶ä¸­ q æ˜¯ quantileã€‚ ä¾‹å­ï¼šæ‰”5æ¬¡ç¡¬å¸ï¼Œæœ€å¤šæœ‰1æ¬¡æ­£é¢çš„æ¦‚çŽ‡æ˜¯å¯¹å°‘ï¼Ÿ(å³0æ¬¡æˆ–1æ¬¡) Rä»£ç 1pbinom(1, size=5, prob=0.5) ç­”æ¡ˆï¼š0.1875ã€‚ æˆ‘ä»¬å¯ä»¥ç”¨ dbinom(0, 5, 0.5) + dbinom(1, 5, 0.5) æ¥åšéªŒè¯ qbinomqbinom æ˜¯ pbinom çš„é€†å‡½æ•°ã€‚æˆ‘å¯ä»¥è®¡ç®—ç´¯è®¡æ¦‚çŽ‡ä¸º p çš„å¯¹åº” quntile æ˜¯å¤šå°‘ã€‚ ä½¿ç”¨åˆšæ‰çš„0.1875åŽ»è®¡ç®—ï¼š Rä»£ç 1qbinom(0.1875, size=5, prob=0.5) æˆ‘ä»¬åº”è¯¥å¾—åˆ° 1ã€‚ rbinomrbinom(n, size, prob) ç»™å‡º n ä¸ªç¬¦åˆäºŒé¡¹åˆ†å¸ƒçš„éšæœºæ•°ã€‚ æˆ‘ä»¬åˆšæ‰è®¡ç®—äº†æ‰”5æ¬¡ç¡¬å¸æ—¶ï¼ŒæˆåŠŸ2æ¬¡çš„æ¦‚çŽ‡æ˜¯ 0.3125ã€‚ çŽ°åœ¨æˆ‘ä»¬åˆ†åˆ«ç”Ÿæˆ100ã€1000å’Œ10000ä¸ªéšæœºæ•°ï¼Œçœ‹çœ‹ x = 2 çš„é¢‘çŽ‡æ˜¯ä¸æ˜¯æŽ¥è¿‘è¿™ä¸ªæ•°å­—ã€‚ Rä»£ç 1234set.seed(123)sum(rbinom(100, 5, 0.5) == 2) / 100 # 0.28sum(rbinom(1000, 5, 0.5) == 2) / 1000 # 0.294sum(rbinom(10000, 5, 0.5) == 2) / 10000 # 0.3139 å¯ä»¥çœ‹åˆ°ï¼Œéšç€éšæœºæ¬¡æ•°çš„å¢žåŠ ï¼ŒæˆåŠŸ2æ¬¡çš„é¢‘çŽ‡è¶Šæ¥è¶ŠæŽ¥è¿‘ç†è®ºå€¼ã€‚ æ­£æ€åˆ†å¸ƒæ­£æ€åˆ†å¸ƒæ˜¯ä¸€ä¸ªè¿žç»­éšæœºå˜é‡ã€‚ dnormdnorm(x) è®¡ç®— x çš„å¯¹åº”æ¦‚çŽ‡å¯†åº¦å‡½æ•°å€¼ã€‚è¿™ä¸ªå‡½æ•°ç”¨å¤„ä¸å¤§ã€‚å› ä¸ºè¿žç»­éšæœºå˜é‡åœ¨æŸä¸€ç‚¹çš„\bæ¦‚çŽ‡ä¸º 0ã€‚ è¿™ä¸ªå‡½æ•°çš„å”¯ä¸€ç”¨å¤„ï¼Œå¤§æ¦‚æ˜¯æ–¹ä¾¿å¤§å®¶ç”»å‡ºæ¦‚çŽ‡å¯†åº¦å‡½æ•°å›¾ã€‚ pnormpnorm(5) å®žé™…ä¸Šå°±æ˜¯ P(X &lt;= 5)ï¼Œè®¡ç®—äº† X å°äºŽç­‰äºŽ5çš„æ¦‚çŽ‡ã€‚ æ‰€ä»¥ï¼Œpnorm(0) çš„ç»“æžœæ˜¯0.5ï¼Œæ ‡å‡†æ­£æ€åˆ†å¸ƒçš„ä¸€åŠå˜›ã€‚ å¦‚æžœæƒ³è®¡ç®—æœŸæœ›ç­‰äºŽ1ï¼Œæ ‡å‡†å·®ç­‰äºŽ2çš„æ­£å¤ªåˆ†å¸ƒåœ¨ -3 &lt; x &lt;= 0 çš„æ¦‚çŽ‡å‘¢ï¼Ÿ Rä»£ç 1pnorm(0, 1, 2) - pnorm(-3, 1, 2) ç»“æžœï¼š0.2857874 qnormqnorm æ˜¯ pnorm çš„é€†å‡½æ•°ã€‚å› ä¸º pnorm(0)ç­‰äºŽ0.5ï¼Œæ‰€ä»¥ qnorm(0.5)è‚¯å®šç­‰äºŽ0ï¼Œä¸ä¿¡ä½ è¯•è¯• :) ã€‚ rnormrnorm ç”Ÿæˆä¸€ç»„ç¬¦åˆæ­£æ€åˆ†å¸ƒçš„éšæœºæ•°ã€‚ æˆ‘ä»¬å¯ä»¥ç”Ÿæˆ1000ä¸ªæ•°æ®ï¼Œç„¶åŽç”»å›¾çœ‹çœ‹æ•ˆæžœã€‚ Rä»£ç 12n1000 &lt;- rnorm(1000, mean = 70, sd = 5)hist(n1000, breaks = 20) ç¡®å®žå¾ˆç¬¦åˆæ­£æ€åˆ†å¸ƒã€‚ rnorm æ˜¯ä¸ªå¥½ä¼™ä¼´ï¼Œåœ¨ simulation study æ—¶ç”¨å¾—éžå¸¸å¤šã€‚ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"ç»Ÿè®¡å­¦","slug":"ç»Ÿè®¡å­¦","permalink":"https://yupototo.github.io/blog/categories/%E7%BB%9F%E8%AE%A1%E5%AD%A6/"}],"tags":[{"name":"R","slug":"R","permalink":"https://yupototo.github.io/blog/tags/R/"},{"name":"Statistics","slug":"Statistics","permalink":"https://yupototo.github.io/blog/tags/Statistics/"}]},{"title":"ggplotç³»åˆ—ä¹‹2ï¼šmosaicå›¾","slug":"ggplot_2_mosaic","date":"2018-03-03T04:46:47.000Z","updated":"2020-02-03T17:14:34.343Z","comments":true,"path":"2018/03/03/ggplot_2_mosaic/","link":"","permalink":"https://yupototo.github.io/blog/2018/03/03/ggplot_2_mosaic/","excerpt":"æœ¬ç³»åˆ—ä¸Šä¸€ç¯‡æ–‡ç« ä»‹ç»äº† ggplot çš„æ•£ç‚¹å›¾ã€‚æ•£ç‚¹å›¾å¤ªå¸¸è§äº†ï¼Œè¿™ç¯‡æ–‡ç« ä»‹ç»ä¸‹ä¸é‚£ä¹ˆå¸¸è§ï¼Œä½†ç”¨èµ·æ¥å¾ˆé…·çš„ mosaic å›¾ã€‚ mosaic å›¾åœ¨å¦‚ä¸‹åœºæ™¯ä½¿ç”¨ï¼šå±•ç¤ºä¸¤ç»„ categorical data çš„æƒ…å†µã€‚","text":"æœ¬ç³»åˆ—ä¸Šä¸€ç¯‡æ–‡ç« ä»‹ç»äº† ggplot çš„æ•£ç‚¹å›¾ã€‚æ•£ç‚¹å›¾å¤ªå¸¸è§äº†ï¼Œè¿™ç¯‡æ–‡ç« ä»‹ç»ä¸‹ä¸é‚£ä¹ˆå¸¸è§ï¼Œä½†ç”¨èµ·æ¥å¾ˆé…·çš„ mosaic å›¾ã€‚ mosaic å›¾åœ¨å¦‚ä¸‹åœºæ™¯ä½¿ç”¨ï¼šå±•ç¤ºä¸¤ç»„ categorical data çš„æƒ…å†µã€‚ ä½¿ç”¨ ggmosaic åŒ… å›å­æ€§éžå¼‚ä¹Ÿï¼Œå–„å‡äºŽç‰©ä¹Ÿã€‚ ggplot2 å¯ä»¥ç”¨æŸ±çŠ¶å›¾ï¼ˆgeom_barï¼‰çš„æ–¹æ³•ç”Ÿæˆ mosaic å›¾ï¼Œéœ€è¦å¯¹å‚æ•°åšä¸€äº›è°ƒæ•´ã€‚ ä½†èªæ˜Žçš„å¼€å‘è€…ä»¬æ—©å·²ç»åŸºäºŽ ggplot å°è£…äº†ä¸€ä¸ªåŒ…ï¼šggmosaicã€‚æˆ‘ä»¬å¯ä»¥åƒè°ƒç”¨ geom_bar ä¸€æ ·è°ƒç”¨ geom_mosaicã€‚ æˆ‘ä»¬å…ˆå®‰è£… ggmosaic åŒ…ï¼š 1install.packages('ggmosaic') è¿™é‡Œä½¿ç”¨çš„æ˜¯ ggmosaic åŒ…é‡Œçš„ fly æ•°æ®é›†ã€‚ Fly æ•°æ®é›†è°ƒæŸ¥äº†ä¹˜é£žæœºçš„ç¤¼è²Œé—®é¢˜ï¼Œæ¯”å¦‚ï¼š ä½ è®¤ä¸ºåœ¨é£žæœºä¸ŠæŠŠåº§ä½å¾€åŽå€¾æ–œç¤¼è²Œå— ä½ ä¼šå€¾æ–œåº§æ¤…å— ä½ è§‰å¾—å¸¦å°å®å®åé£žæœºç¤¼è²Œå— æ•°æ®å…±æœ‰ 1040 è¡Œï¼Œå…±27ä¸ªå˜é‡ã€‚ é—®é¢˜1ï¼šæ€åº¦å’Œè¡Œä¸ºçš„å…³ç³»æˆ‘æƒ³äº†è§£çš„é—®é¢˜æ˜¯ï¼šè§‰å¾—å€¾æ–œåº§æ¤…å¾ˆç²—é²éƒ½äººï¼Œè‡ªå·±ä¼šå€¾æ–œåº§æ¤…å—ï¼Ÿæ¢å¥è¯è¯´ï¼Œå¤§å®¶è¨€è¡Œåˆä¸€å—ï¼Ÿ æˆ‘çš„çŒœæµ‹æ˜¯ï¼šè§‰å¾—å€¾æ–œæ¤…å­ç²—é²çš„äººï¼Œè‡ªå·±åº”è¯¥ä¹Ÿä¸æ€Žä¹ˆä¼šå€¾æ–œæ¤…å­ã€‚ ä»£ç å¦‚ä¸‹ï¼š 123456ggplot(data = fly) + geom_mosaic(aes(x = product(RudeToRecline), fill=DoYouRecline)) + labs(title = 'å€¾æ–œåº§æ¤…çš„æ€åº¦ vs è¡Œä¸º', x = 'ä½ è§‰å¾—å€¾æ–œåº§æ¤…ç²—é²å—', y = 'ä½ å€¾æ–œåº§æ¤…å—', fill = 'ä½ å€¾æ–œåº§æ¤…å—') å›¾ç‰‡å¦‚ä¸‹ï¼ˆä¸ºäº† x è½´åæ ‡çš„å±•ç¤ºï¼Œå›¾ç‰‡æ‹‰é•¿äº†ï¼‰ï¼š å¯ä»¥ä»Žå›¾ä¸­çœ‹åˆ°ï¼Œè®¤ä¸ºåº§æ¤…å€¾æ–œå¾ˆç²—é²çš„äººï¼Œç¡®å®žä¹Ÿæ›´ä¸ä¼šå€¾æ–œåº§æ¤…ã€‚ç¬¦åˆçŒœæµ‹ã€‚ é—®é¢˜2ï¼šæœ‰å°å­©çš„äººæ˜¯å¦æ›´èƒ½å®¹å¿å°å­©å‘¢æ•°æ®é›†ä¸­æœ‰è¿™ä¹ˆä¸¤ä¸ªå˜é‡ï¼š ä½ æ˜¯å¦æœ‰18å²ä»¥ä¸‹çš„å°å­© ä½ è§‰å¾—å¸¦å°å®å®åé£žæœºç²—é²å— è¿™è®©æˆ‘äº§ç”Ÿäº†ä¸€ä¸ªçŒœæƒ³ï¼šæœ‰å°å­©çš„äººä¼šæ›´èƒ½å®¹å¿åˆ«äººå¸¦å°å®å®ã€‚ ä¸ºäº†éªŒè¯è¿™ä¸ªå‡è®¾ï¼Œæˆ‘ä»¬å¯¹ä¸Šé¢ä¸¤ä¸ªå˜é‡åšä¸ª mosaic å›¾ã€‚ ä»£ç å¦‚ä¸‹ï¼š 123456ggplot(data = fly) + geom_mosaic(aes(x = product(Child18), fill=RudeToBringBaby)) + labs(title = 'â€œæœ‰å°å­©\"å’Œ\"è§‰å¾—å¸¦å°å®å®ä¹˜é£žæœºç²—é²å—\"çš„å…³ç³»', x = 'ä½ æœ‰18å²ä»¥ä¸‹çš„å°å­©å—', y = 'å¸¦å°å®å®ä¹˜é£žæœºç²—é²å—', fill = 'å¸¦å°å®å®ä¹˜é£žæœºç²—é²å—') å›¾ç‰‡ç»“æžœå¦‚ä¸‹ï¼š å¯ä»¥ä»Žå›¾ç‰‡ä¸­çœ‹å‡ºï¼Œæœ‰18å²å°å­©çš„äººï¼Œæ›´å€¾å‘äºŽè®¤ä¸ºå¸¦å®å®åé£žæœºæ˜¯ä¸ç²—é²çš„ã€‚ é—®é¢˜3ï¼šå¹´çºªè¶Šå¤§æ˜¯å¦è¶Šèƒ½å¿å—å°å­©å‘¢ï¼Ÿæˆ‘æƒ³åˆ°ä¸€ä¸ªæ–°é—®é¢˜ï¼Œæ˜¯å¦å¹´çºªè¶Šå¤§çš„äººè¶Šèƒ½å¿å—å°å­©å‘¢ï¼Ÿ è¿™ä¸ªé—®é¢˜éœ€è¦ä¸¤ä¸ªå˜é‡ï¼š å¹´é¾„ï¼Œåœ¨è¿™é‡Œä¹Ÿæ˜¯ categorical data ï¼ˆä¸¥æ ¼å¾—è¯´æ˜¯ ordinal dataï¼Œè¿™é‡Œçš„å˜é‡éƒ½æ˜¯ï¼Œä½†è¿™é‡Œä¸åšåŒºåˆ†ï¼‰ ä½ è§‰å¾—å¸¦å°å®å®åé£žæœºç²—é²å— 123456ggplot(data = fly) + geom_mosaic(aes(x = product(Age), fill=RudeToBringBaby)) + labs(title = '\"å¹´é¾„\"å’Œâ€œè§‰å¾—å¸¦å°å®å®ä¹˜é£žæœºç²—é²å—â€çš„å…³ç³»', x = 'ä½ çš„å¹´é¾„', y = 'å¸¦å°å®å®ä¹˜é£žæœºç²—é²å—', fill = 'å¸¦å°å®å®ä¹˜é£žæœºç²—é²å—') å›¾ç‰‡ç»“æžœå¦‚ä¸‹ï¼š å¯ä»¥çœ‹å‡ºï¼š30å²ä»¥ä¸‹çš„äººä¼šç›¸å¯¹ä¸èƒ½æŽ¥å—å¸¦å®å®ä¹˜é£žæœºçš„è¡Œä¸ºã€‚ å°ç»“ Mosaic å›¾é€‚åˆç”¨åœ¨ä¸¤ä¸ª categorical variable çš„å±•ç¤ºä¸Š ggmosaic æ˜¯ä¸ªåŸºäºŽ ggplot çš„ packageï¼Œèƒ½æ–¹ä¾¿åœ°åˆ¶ä½œ mosaic å›¾ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"æ•°æ®å¯è§†åŒ–","slug":"æ•°æ®å¯è§†åŒ–","permalink":"https://yupototo.github.io/blog/categories/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/"}],"tags":[{"name":"R","slug":"R","permalink":"https://yupototo.github.io/blog/tags/R/"}]},{"title":"å¸¸ç”¨ç¦»æ•£æ¦‚çŽ‡åˆ†å¸ƒæ¨¡åž‹","slug":"stat_1_discrete_dist","date":"2018-02-13T11:36:12.000Z","updated":"2020-02-03T17:14:34.351Z","comments":true,"path":"2018/02/13/stat_1_discrete_dist/","link":"","permalink":"https://yupototo.github.io/blog/2018/02/13/stat_1_discrete_dist/","excerpt":"æœ€è¿‘å¸®æ¸¸æˆå¼€å‘çš„æœ‹å‹åšç®€å•çš„å»ºæ¨¡ï¼Œç®—æ•°å€¼æ¨¡åž‹çš„æ¦‚çŽ‡ï¼Œå‘çŽ°è‡ªå·±æŠŠå¸¸ç”¨ç¦»æ•£åˆ†å¸ƒå¿˜å¾—å·®ä¸å¤šäº†ã€‚åœ¨è¿™é‡Œç®€å•å¤ä¹ ä¸€ä¸‹ã€‚ \bä»¥å‰åœ¨å­¦æ ¡å­¦ä¹ æ—¶ï¼Œä¼šæœ‰äººåŽ»è®°å¿†æ¦‚çŽ‡åˆ†å¸ƒçš„å‡½æ•°ï¼Œå…¶å®žåˆ†å¸ƒçš„å…¬å¼ã€æœŸæœ›ã€æ–¹å·®éƒ½æ˜¯éšä¾¿å°±èƒ½ä»Žç½‘ç»œä¸Šæ‰¾åˆ°çš„ï¼Œå®Œå…¨ä¸éœ€è¦è®°å¿†ï¼Œ\bçœŸæ­£éœ€è¦è®°å¿†çš„æ˜¯ï¼šçŸ¥é“è¯¥åœ¨ä»€ä¹ˆåœºåˆåŽ»ä½¿ç”¨æŸä¸ªåˆ†å¸ƒã€‚ \b","text":"æœ€è¿‘å¸®æ¸¸æˆå¼€å‘çš„æœ‹å‹åšç®€å•çš„å»ºæ¨¡ï¼Œç®—æ•°å€¼æ¨¡åž‹çš„æ¦‚çŽ‡ï¼Œå‘çŽ°è‡ªå·±æŠŠå¸¸ç”¨ç¦»æ•£åˆ†å¸ƒå¿˜å¾—å·®ä¸å¤šäº†ã€‚åœ¨è¿™é‡Œç®€å•å¤ä¹ ä¸€ä¸‹ã€‚ \bä»¥å‰åœ¨å­¦æ ¡å­¦ä¹ æ—¶ï¼Œä¼šæœ‰äººåŽ»è®°å¿†æ¦‚çŽ‡åˆ†å¸ƒçš„å‡½æ•°ï¼Œå…¶å®žåˆ†å¸ƒçš„å…¬å¼ã€æœŸæœ›ã€æ–¹å·®éƒ½æ˜¯éšä¾¿å°±èƒ½ä»Žç½‘ç»œä¸Šæ‰¾åˆ°çš„ï¼Œå®Œå…¨ä¸éœ€è¦è®°å¿†ï¼Œ\bçœŸæ­£éœ€è¦è®°å¿†çš„æ˜¯ï¼šçŸ¥é“è¯¥åœ¨ä»€ä¹ˆåœºåˆåŽ»ä½¿ç”¨æŸä¸ªåˆ†å¸ƒã€‚ \b ä¼¯åŠªåˆ©åˆ†å¸ƒç¬¦åˆä¼¯åŠªåˆ©åˆ†å¸ƒ bernoulli distribution çš„éšæœºè¯•éªŒåªæœ‰ä¸¤ç§ç»“æžœï¼š1 æˆ– 0ã€‚æœ€å…¸åž‹çš„ä¼¯åŠªåˆ©åˆ†å¸ƒæ˜¯æŠ›ç¡¬å¸ï¼Œç»“æžœè¦ä¹ˆæ­£é¢è¦ä¹ˆåé¢ã€‚ è®¾æŠ›åˆ°æ­£é¢çš„æ¦‚çŽ‡æ˜¯ pï¼ŒæŠ›åˆ°æ­£é¢æ—¶çš„ç»“æžœæ˜¯ 1ï¼Œé‚£ä¹ˆ p å°±æ˜¯ä¼¯åŠªåˆ©åˆ†å¸ƒçš„æœŸæœ›ã€‚ ä¼¯åŠªåˆ©åˆ†å¸ƒæ˜¯ä¸€ä¸ªåŸºç¡€åˆ†å¸ƒï¼Œä¹‹åŽçš„å‡ ä¸ªåˆ†å¸ƒéƒ½åŸºäºŽä¼¯åŠªåˆ©è¯•éªŒæŽ¨å¯¼å‡ºã€‚ å‡ ä½•åˆ†å¸ƒå‡ ä½•åˆ†å¸ƒ geometric distribution ç”¨æ¥æè¿°è¿™ä¸ªé—®é¢˜ï¼šè®¾è®¡ä¸€ç³»åˆ—è¯•éªŒï¼Œè¯•éªŒåªæœ‰ä¸¤ç§ç»“æžœï¼Œéœ€è¦å¤šå°‘æ¬¡è¯•éªŒæ‰èƒ½è§‚å¯Ÿåˆ°ä¸€ä¸ªæˆåŠŸçš„è¯•éªŒã€‚ å‡ ä½•åˆ†å¸ƒçš„ä¾‹å­ï¼šå‡è®¾æŸç”·ç”Ÿè¿½æ±‚å¥³ç”Ÿçš„æ¦‚çŽ‡æ˜¯10%ï¼Œç”·ç”Ÿè¿½æ±‚ç¬¬5ä¸ªå¥³ç”Ÿæ—¶æ‰èŽ·å¾—æˆåŠŸçš„æ¦‚çŽ‡æ˜¯å¤šå°‘å‘¢ï¼Ÿ å…¬å¼ï¼šp(5ï¼‰ = 0.9 ^ 4 * 0.1 = 6.6% äºŒé¡¹åˆ†å¸ƒäºŒé¡¹åˆ†å¸ƒ binomial distribution åº”è¯¥æ˜¯æœ€å®žç”¨çš„åˆ†å¸ƒä¹‹ä¸€ï¼Œå®ƒæè¿°çš„é—®é¢˜æ˜¯ï¼šæ¯æ¬¡è¯•éªŒæœ‰ä¸¤ä¸ªç»“æžœï¼ŒæˆåŠŸæˆ–å¤±è´¥ï¼Œn æ¬¡è¯•éªŒåŽæˆåŠŸ k æ¬¡çš„æ¦‚çŽ‡æœ‰å¤šå°‘ï¼Ÿ æˆ‘ä»¬ç»§ç»­ç”¨ä¹‹å‰çš„åœºæ™¯ï¼šç”·ç”Ÿè¿½æ±‚å¥³ç”Ÿ5æ¬¡ï¼ŒæˆåŠŸ1æ¬¡çš„æ¦‚çŽ‡æœ‰å¤šå°‘ï¼Ÿ Rä»£ç 1dbinom(1, size=5, prob=0.1) ç­”æ¡ˆï¼š32.8%ã€‚è¿˜æ˜¯è›®é«˜çš„ã€‚ å½“ç„¶ï¼Œå¦‚æžœæˆ‘ä»¬æŠŠé—®é¢˜ä¿®æ”¹ä¸ºâ€œè‡³å°‘æˆåŠŸ1æ¬¡çš„æ¦‚çŽ‡æœ‰å¤šå°‘ï¼Ÿâ€ï¼Œå…¬å¼å˜ä¸ºï¼š Rä»£ç 11 - dbinom(0, size=5, prob=0.1) ç»“æžœï¼š41%ã€‚ å¦‚æžœæŠŠæ¬¡æ•°å¢žåŠ åˆ°15æ¬¡å‘¢ï¼Ÿ Rä»£ç 11 - dbinom(0, size=15, prob=0.1) ç»“æžœï¼š79.4%ã€‚ å‡è®¾è¿™ä¸ªç”·ç”Ÿæ¯ä¸ªæœˆè¿½æ±‚ä¸€ä¸ªæ–°ç›®æ ‡ï¼Œåœ¨20ä¸ªæœˆå†…è„±å•çš„æ¦‚çŽ‡æ˜¯79%ï¼Œè™½ç„¶è¿™ä¸ªç”·ç”Ÿæ¯æ¬¡åªæœ‰10%çš„æˆåŠŸçŽ‡ã€‚ å¦‚æžœè¿™ä½ç”·ç”Ÿå†åŠªåŠ›ä¸€äº›ï¼Œè®¤çœŸå·¥ä½œã€å¥½å¥½é”»ç‚¼ã€åŸ¹å…»å‡ ä¸ªæœ‰è¶£çš„å…´è¶£çˆ±å¥½ï¼ŒæŠŠè‡ªå·±æ¯æ¬¡æˆåŠŸçš„æ¦‚çŽ‡æé«˜åˆ°20%ï¼Œæ•´ä½“æˆåŠŸçŽ‡ä¼šæœ‰å¤šå¤§çš„å˜åŒ–å‘¢ï¼Ÿ Rä»£ç 11 - dbinom(0, size=15, prob=0.1) ç»“æžœï¼š96.4% è¿™è¯´æ˜Žäº†ä¸€ä¸ªé“ç†ï¼šåœ¨å©šæ‹å¸‚åœºä¸Šï¼Œæ²¡æœ‰å¤©ç”Ÿçš„å¤±è´¥è€…ï¼Œåªæœ‰æ‡’äººã€‚æ¦‚çŽ‡è®ºå¯¹æ¯ä¸ªå•èº«é’å¹´ï¼ˆæˆ–ä»»ä½•æƒ³åœ¨å…¶ä»–äº‹æƒ…ä¸ŠèŽ·å¾—æˆåŠŸçš„äººï¼‰çš„å»ºè®®æ˜¯ï¼š å¢žåŠ å°è¯•æ¬¡æ•° å¢žåŠ åŸºç¡€æˆåŠŸçŽ‡ å½“ç„¶ï¼Œè¿™ä¸ªä¾‹å­è¿˜æœ‰ä¸€ä¸ªéšè—çš„å‡è®¾ï¼šæ´»ä¸‹åŽ»ï¼Œè®©è‡ªå·±æœ‰èƒ½å¤ŸæŒç»­å°è¯•çš„èƒ½åŠ›ã€‚ å¯¹äºŽæŠ•èµ„è€…ï¼Œè¿™æ„å‘³ç€ä¸è¦ all inã€‚ èªæ˜Žçš„ä½ åº”è¯¥çœ‹å‡ºæ¥äº†ï¼Œâ€œè‡³å°‘æˆåŠŸä¸€æ¬¡â€çš„è®¡ç®—ä¸éœ€è¦ç”¨åˆ°äºŒé¡¹åˆ†å¸ƒï¼Œç”¨ç®€å•çš„æ¦‚çŽ‡è®ºå°±èƒ½è®¡ç®—ã€‚å¦‚æžœä½ æƒ³å½“ä¸ªèŠ±èŠ±å…¬å­ï¼Œâ€œè‡³å°‘æˆåŠŸä¸æ­¢ä¸€æ¬¡â€ï¼ŒäºŒé¡¹åˆ†å¸ƒä¼šæ˜¯ä½ çš„åŠ¨åŠ›æ¥æºã€‚ è´ŸäºŒé¡¹åˆ†å¸ƒè´ŸäºŒé¡¹åˆ†å¸ƒ negative binomial distribution æè¿°çš„æ˜¯ï¼šåœ¨ç¬¬ x æ¬¡å¤±è´¥åŽèŽ·å¾—ç¬¬ k æ¬¡æˆåŠŸçš„æ¦‚çŽ‡ã€‚ ä¸€ä¸ªæ–°ä¾‹å­ï¼Œç¯®çƒè¿åŠ¨å‘˜å°æ˜Žè¢«æ•™ç»ƒè¦æ±‚åšç½šçƒè®­ç»ƒï¼Œç½šè¿›3ä¸ªçƒåŽå°±èƒ½å›žå®¶ã€‚å°æ˜Žçš„ç½šçƒå‘½ä¸­çŽ‡æ˜¯30%ï¼Œè¯·é—®å°æ˜Žåœ¨ç¬¬3-8æ¬¡ç½šçƒæ—¶åˆšå¥½å®Œæˆä»»åŠ¡çš„æ¦‚çŽ‡æœ‰å¤šé«˜å‘¢ï¼Ÿè¿™ä¸ªé—®é¢˜å¯ä»¥ç¿»è¯‘æˆï¼šå°æ˜Žåœ¨å¤±è´¥0-5æ¬¡åŽå®Œæˆä»»åŠ¡çš„æ¦‚çŽ‡æœ‰å¤šé«˜ã€‚ Rä»£ç 1dnbinom(0:5, 3, 0.5) ç»“æžœï¼š ç½šçƒæ¬¡æ•° ä»»åŠ¡å®Œæˆæ¦‚çŽ‡ 3 12.5% 4 18.75% 5 18.75% 6 15.6% 7 11.7% 8 8.2% å°æ˜Žæœ€æœ‰å¯èƒ½åœ¨ç¬¬4åˆ°ç¬¬5æ¬¡å®Œæˆä»»åŠ¡ï¼Œæ‡‚è¡Œçš„äººå°±å¯ä»¥åœ¨è¿™é‡Œå¼€ä¸ªç›˜å£ï¼Œè®©å¤§å®¶ä¸‹æ³¨å•¦ã€‚ æ³Šæ¾åˆ†å¸ƒå½“æˆ‘ä»¬çŸ¥é“æŸä¸ªç›¸äº’ç‹¬ç«‹äº‹ä»¶åœ¨ä¸€æ®µæ—¶é—´å†…çš„å‘ç”Ÿé¢‘çŽ‡æ—¶ï¼Œæ³Šæ¾åˆ†å¸ƒ poisson distribution å¯ä»¥ç”¨æ¥æè¿°è¿™æ®µæ—¶é—´å†…è¯¥äº‹ä»¶å‘ç”Ÿæ¬¡æ•°çš„æ¦‚çŽ‡åˆ†å¸ƒã€‚ ä¾‹å­ï¼šå·²çŸ¥å¹³å‡æ¯åˆ†é’Ÿæœ‰12é‡è½¦ç»è¿‡ä¸€åº§æ¡¥ï¼Œè¯·é—®ä¸€åˆ†é’Ÿå†…æœ‰è‡³å°‘17é‡è½¦ç»è¿‡è¿™åº§æ¡¥çš„æ¦‚çŽ‡æ˜¯å¤šå°‘ï¼Ÿ Rä»£ç 1ppois(16, lambda=12, lower=FALSE) ç­”æ¡ˆï¼š10.1% document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"ç»Ÿè®¡å­¦","slug":"ç»Ÿè®¡å­¦","permalink":"https://yupototo.github.io/blog/categories/%E7%BB%9F%E8%AE%A1%E5%AD%A6/"}],"tags":[{"name":"R","slug":"R","permalink":"https://yupototo.github.io/blog/tags/R/"},{"name":"Statistics","slug":"Statistics","permalink":"https://yupototo.github.io/blog/tags/Statistics/"}]},{"title":"ggplotç³»åˆ—ä¹‹1ï¼šæ•£ç‚¹å›¾","slug":"ggplot_1_scatter_plot","date":"2018-01-05T13:52:50.000Z","updated":"2020-02-03T17:14:34.339Z","comments":true,"path":"2018/01/05/ggplot_1_scatter_plot/","link":"","permalink":"https://yupototo.github.io/blog/2018/01/05/ggplot_1_scatter_plot/","excerpt":"ggplot2 æ˜¯ R è¯­è¨€å¤§ç¥ž Hadly Wickham å¼€å‘çš„æ•°æ®å¯è§†åŒ–å·¥å…·ã€‚Wickham ä¸ºæ•°æ®å¯è§†åŒ–æŠ½è±¡å‡ºäº†ä¸€å¥—â€œè¯­æ³•â€ï¼ŒæŽŒæ¡è¿™å¥—è¯­æ³•åŽå°±å¯ä»¥ç³»ç»Ÿæ€§åœ°ç”Ÿæˆå¯è§†åŒ–æ•°æ®ã€‚ \bè¿™ä¸ªç³»åˆ—æ–‡ç« ä¼šä»‹ç»å¦‚ä½•ä½¿ç”¨ ggplot2 åšå›¾ã€‚ æœ¬ç¯‡ä»‹ç»æœ€å¸¸è§çš„æ•£ç‚¹å›¾ã€‚","text":"ggplot2 æ˜¯ R è¯­è¨€å¤§ç¥ž Hadly Wickham å¼€å‘çš„æ•°æ®å¯è§†åŒ–å·¥å…·ã€‚Wickham ä¸ºæ•°æ®å¯è§†åŒ–æŠ½è±¡å‡ºäº†ä¸€å¥—â€œè¯­æ³•â€ï¼ŒæŽŒæ¡è¿™å¥—è¯­æ³•åŽå°±å¯ä»¥ç³»ç»Ÿæ€§åœ°ç”Ÿæˆå¯è§†åŒ–æ•°æ®ã€‚ \bè¿™ä¸ªç³»åˆ—æ–‡ç« ä¼šä»‹ç»å¦‚ä½•ä½¿ç”¨ ggplot2 åšå›¾ã€‚ æœ¬ç¯‡ä»‹ç»æœ€å¸¸è§çš„æ•£ç‚¹å›¾ã€‚ å‡†å¤‡æ•°æ®æ¯æ¬¡æˆ‘æ‹¿åˆ°æ•°æ®çš„ç¬¬ä¸€ä»¶äº‹æƒ…ï¼Œå°±æ˜¯çœ‹çœ‹ä¸åŒå˜é‡çš„æ•£ç‚¹å›¾é•¿å•¥æ ·ï¼Œçœ‹åˆ°æ•£ç‚¹å›¾ä¹‹åŽï¼Œå°±èƒ½å¯¹å˜é‡ä¹‹é—´çš„å…³ç³»åšä¸€å®šçŒœæµ‹äº†ã€‚ æˆ‘ä»¬å…ˆå‡†å¤‡ä¸€ä»½ç”¨æ¥ç”»å›¾çš„æ•°æ®ã€‚ 12345set.seed(955)obs_num &lt;- 40dat &lt;- data.frame(cond = rep(c(\"A\", \"B\"), each = obs_num / 2), x = 1:obs_num + rnorm(obs_num, sd = 3), y = 1:obs_num + rnorm(obs_num, sd = 3)) æˆ‘ä»¬çš„æ¨¡æ‹Ÿæ•°æ®æœ‰3ä¸ªå˜é‡ï¼Œx å’Œ y æ˜¯æ•°å­—ï¼Œcond æ˜¯ä¸€ä¸ª categorical å˜é‡ã€‚ æœ€ç®€å•çš„æ•£ç‚¹å›¾ä¸‹é¢ç”»ä¸€ä¸ªæœ€ç®€å•çš„æ•£ç‚¹å›¾ã€‚ 123ggplot(dat, aes(x = x, y = y)) + geom_point() + labs(title = 'è¿™æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„æ•£ç‚¹å›¾') ç»“æžœå¦‚ä¸‹å›¾ï¼š æ·»åŠ æ‹Ÿåˆæ›²çº¿æœ‰æ—¶æˆ‘ä»¬æƒ³æ›´æ¸…æ™°åœ°çœ‹åˆ°æ•°æ®è¶‹åŠ¿ï¼Œggplot å¯ä»¥å¸®æˆ‘ä»¬å¿«é€Ÿæ·»åŠ ä¸€æ¡æ‹Ÿåˆæ›²çº¿ã€‚ 1234ggplot(dat, aes(x = x, y = y)) + geom_point() + geom_smooth() + labs(title = 'å¸¦æ‹Ÿåˆæ›²çº¿çš„æ•£ç‚¹å›¾') ç»“æžœå¦‚ä¸‹å›¾ï¼š ç»™ä¸åŒç»„çš„ç‚¹ä¸Šè‰²å¦‚æžœæ•°æ®ä¸­æœ‰ä¸åŒçš„åˆ†ç»„ï¼Œæˆ‘ä»¬ä¼šæƒ³åœ¨æ•£ç‚¹å›¾ä¸­çœ‹åˆ°ä¸åŒç»„çš„æƒ…å†µã€‚ 1234ggplot(dat, aes(x = x, y = y, color = cond)) + geom_point() + labs(title = 'éœ€è¦ç”¨é¢œè‰²åˆ†ç»„çš„æ•£ç‚¹å›¾', color = 'åˆ†ç»„') ç»“æžœå¦‚ä¸‹å›¾ï¼š ä½¿ç”¨ facetså¦‚æžœç»„åˆ«å¤ªå¤šï¼Œä¸Šè‰²å¯èƒ½ä¼šè®©äººçœ¼èŠ±ç¼­ä¹±ï¼Œè¿™æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ facetsã€‚ 1234ggplot(dat, aes(x = x, y = y)) + geom_point() + facet_wrap(~ cond) + labs(title = 'ä½¿ç”¨ facets çš„æ•£ç‚¹å›¾') ç»“æžœå¦‚ä¸‹å›¾ï¼š å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠé¢œè‰²å’Œ cond ç»“åˆèµ·æ¥ï¼Œç”Ÿæˆæœ¬æ–‡æœ€å¼€å§‹é‚£å¼ å›¾ç‰‡ã€‚ä»£ç å¦‚ä¸‹ï¼š 123ggplot(dat, aes(x = x, y = y, color = cond)) + geom_point() + facet_wrap(~ cond) document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","categories":[{"name":"æ•°æ®å¯è§†åŒ–","slug":"æ•°æ®å¯è§†åŒ–","permalink":"https://yupototo.github.io/blog/categories/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/"}],"tags":[{"name":"R","slug":"R","permalink":"https://yupototo.github.io/blog/tags/R/"}]}]}