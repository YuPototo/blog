---
title: 1类错误和2类错误
date: 2020-01-15 19:45:10
---

{% asset_img plot_0.jpg "题图" %}

统计学里有个非常“迷人”的概念：一类错误和二类错误。这个概念的迷人之初在于，当我们理解它之后，我们不只会对假设检验有更好的了解，这个概念还能帮助我们更好地做出决策。

<!-- more -->

## 背景

在定义这两类错误前，我们需要先复习假设检验。

在检验检验里，我们定义了 null hypothesis 原假设。原假设是我们希望通过数据去“证伪”的假设。原假设常被表述为 H0。

一个典型的 H0 是：本市的人均收入大于8000元。

有了原假设，就有 alternative hypothesis 备择假设。备择假设可以理解为原假设的对立面。备择假设常被表述为 Ha。

上面的 H0 对应的 Ha 是：本市的人均收入小于8000元。

我们对本市市民做了一次问卷调查，搜集了10000份问卷，根据数据调查结果，我们会有两种结论：
- 拒绝 H0，即接受 Ha
- 无法拒绝 H0

## 为啥不能说“接受”原假设

我们做研究的顺序是：
1. 确定 H0 和 Ha
1. 确定好要使用的假设检验方法
1. 先选好一个显著性水平 significance level，比如 alhpa = 0.05
1. 搜集数据，并计算 p 值
1. 如果 p 值 < alpha，我们说**拒绝原假设**，否则，我们说**无法拒绝原假设**

仔细看上面的流程，我们就会发现，是否拒绝原假设，很有可能受到我们选择的 significant level 有关。如果 p 值等于 0.06，而我们的 significant level 选了 0.1，这个时候我们会“无法拒绝原假设”。

当我们做假设检验时，我们其实是在研究这个问题：**给定原假设为真，我们有多大的可能观察到自己所搜集的数据，如果这个可能性很小，我们就拒绝原假设**。当我们 p 值 > alpha 时，本质上等价于：**我们所搜集到的数据并没有极端到能说明原假设是错的**。

以这个 H0 为例：本市的人均收入大于8000元。 

我们发现调查1万人的平均收入是7990元，这个数值跟8000元有10元的差距，但这个差距很有可能是随机性导致的，所以我们只能说：我们拒绝不了“人均收入大于8000元”的假设，绝不能说“我们认为人均收入大于8000元”。

想象对话如下：

A：原假设是“人均收入大于8000元”，我们的调查数据无法拒绝原假设

B：所以我是否可以说，“人均收入大于8000元”呢？

A：并不能。实际上，我们的统计数据里平均收入是小于8000的，但小的程度不够，我们没法排除随机性的影响。

B：那么，结论是什么呢？

A：结论是：我们没有足够的证据做出结论。

## 第1类错误和第2类错误。

理论部分搞清楚后，我们开始介绍第1类错误和第2类错误。

第1类错误：原假设为真，但我们拒绝了原假设。这类错误叫**去真**，英文文献里说 false positive。
第2类错误：原假设为假，但我们没有拒绝原假设。这类错误叫**存伪**，英文文献里叫 false negative。

如下图：
{% asset_img error.png "假设检验的错误" %}

犯第1类错误的概率，就是之前出现的 significance level。如果我们确定了 alpha = 0.05，那么在100次假设检验中，就会有5次出现第1类错误。

犯第2类错误的概率，被称为 beta，另一个常用统计学概念 power（统计功效）就等于 1 - beta。犯第2类错误的概率越低，建设检验的 power 就越高。

在这两类错误中，我们更关心哪一类呢？有的书籍会告诉我们第1类错误更重要，它们会用法庭审判的例子，说审判一个无罪的人有罪（第1类错误）是更大的风险，这其实只是个比喻，不是个好例子。下面我们看两个例子。

## 例子1

我们用统计学使用的最严格的场景做例子：药物效果的判断。新药上市前，要经过一系列严格的医学试验。

H0：药物 A 对治疗某疾病没有帮助
Ha：药物 A 对治疗某疾病有帮助

相关错误和结果如下：

第1类错误：药物 A 是没用的，但我们拒绝了原假设，给出了药物 A 是有用的的判断。药物上市，患者购买后没有帮助，患者因为使用 A 药物可能没有使用其他有效的药物，最后可能有负面结果（甚至死亡），进一步研究发现药物 A 是无效的，公司面料患者诉讼，甚至可能破产。

第2类错误：药物 A 是有用的，但我们没有拒绝原假设。结果：药物无法上市，公司损失了潜在的收入，病人失去了一种潜在的治疗方案。

两种结果，作为公司管理者的你，你会更希望减少哪一种错误的概率呢？显然是第1种。

## 例子2

我们做疾病筛查时，H0 和 Ha 分别是：

H0：病人没有疾病
Ha：病人有疾病

相关错误如下：

第1类错误：病人是没病的，被诊断为有病。病人痛哭流涕，但在之后的进一步检查中，病人发现自己并没有生病，虚惊一场，进而联想到生命的可贵，于是变成一个好父亲好丈夫 :smirk:。

第2类错误：病人是有病的，但原假设没有被拒绝，病人不知道自己生病了，于是逍遥快活，错过了治疗时机，然后症状变严重时，才进一步检查，发现得了病。

在这个例子里，你会更希望减少哪一类错误的概率呢？显然是第2种。在 HIV 检测中，false negative 确实比 false positve 更少见。

## 实践

在实际研究中，我们可以降低两类错误的概率：
1. 第1类错误，通过选择更低的 significant level
2. 第2类错误：通过扩大样本量

在互联网产品中，样本量很少是问题，这个时候第1类错误就变得更重要了。
