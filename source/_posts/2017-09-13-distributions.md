---
title: 常用离散概率分布模型
date: 2017-09-13 19:36:12
---

最近帮游戏开发的朋友做简单的建模，算数值模型的概率，发现自己把常用离散分布忘得差不多了。在这里简单复习一下。

以前在学校学习时，会有人去记忆概率分布的函数，其实分布的公式、期望、方差都是随便就能从网络上找到的，完全不需要记忆，真正需要记忆的是：知道该在什么场合去使用某个分布。

<!-- more -->

## 伯努利分布 

符合伯努利分布  bernoulli distribution 的随机试验只有两种结果：1 或 0。最典型的伯努利分布是抛硬币，结果要么正面要么反面。

设抛到正面的概率是 p，抛到正面时的结果是 1，那么 p 就是伯努利分布的期望。

伯努利分布是一个基础分布，之后的几个分布都基于伯努利试验推导出。

## 几何分布

几何分布 geometric distribution 用来描述这个问题：设计一系列试验，试验只有两种结果，需要多少次试验才能观察到一个成功的试验。

几何分布的例子：假设某男生追求女生的概率是10%，男生追求第5个女生时才获得成功的概率是多少呢？

公式：p(5） = 0.9 ^ 4 * 0.1 = 6.6%

## 二项分布 

二项分布 binomial distribution 应该是最实用的分布之一，它描述的问题是：每次试验有两个结果，成功或失败，n 次试验后成功 k 次的概率有多少？

我们继续用之前的场景：男生追求女生5次，成功1次的概率有多少？

{% codeblock R代码 lang:r %}
dbinom(1, size=5, prob=0.1) 
{% endcodeblock %}

答案：32.8%。还是蛮高的。

当然，如果我们把问题修改为“至少成功1次的概率有多少？”，公式变为：

{% codeblock R代码 lang:r %}
1 - dbinom(0, size=5, prob=0.1) 
{% endcodeblock %}

结果：41%。

如果把次数增加到15次呢？

{% codeblock R代码 lang:r %}
1 - dbinom(0, size=15, prob=0.1) 
{% endcodeblock %}

结果：79.4%。

假设这个男生每个月追求一个新目标，在20个月内脱单的概率是79%，虽然这个男生每次只有10%的成功率。

如果这位男生再努力一些，认真工作、好好锻炼、培养几个有趣的兴趣爱好，把自己每次成功的概率提高到20%，整体成功率会有多大的变化呢？

{% codeblock R代码 lang:r %}
1 - dbinom(0, size=15, prob=0.1) 
{% endcodeblock %}

结果：96.4%

这说明了一个道理：**在婚恋市场上，没有天生的失败者，只有懒人**。概率论对每个单身青年（或任何想在其他事情上获得成功的人）的建议是：
- 增加尝试次数
- 增加基础成功率

当然，这个例子还有一个隐藏的假设：活下去，让自己有能够持续尝试的能力。

对于投资者，这意味着不要 all in。

聪明的你应该看出来了，“至少成功一次”的计算不需要用到二项分布，用简单的概率论就能计算。如果你想当个花花公子，“至少成功不止一次”，二项分布会是你的动力来源。

## 负二项分布

负二项分布  negative binomial distribution 描述的是：在第 x 次失败后获得第 k 次成功的概率。

一个新例子，篮球运动员小明被教练要求做罚球训练，罚进3个球后就能回家。小明的罚球命中率是30%，请问小明在第3-8次罚球时刚好完成任务的概率有多高呢？这个问题可以翻译成：小明在失败0-5次后完成任务的概率有多高。

{% codeblock R代码 lang:r %}
dnbinom(0:5, 3, 0.5)
{% endcodeblock %}

结果：

| 罚球次数 | 任务完成概率 | 
|:-----:|:--------:|
|   3   |    12.5%    | 
|   4   |   18.75%    | 
|   5   |   18.75%   |
|   6   |   15.6%    |
|   7   |   11.7%   |
|   8   |   8.2%   |

小明最有可能在第4到第5次完成任务，懂行的人就可以在这里开个盘口，让大家下注啦。

## 泊松分布 

当我们知道某个相互独立事件在一段时间内的发生频率时，泊松分布 poisson distribution 可以用来描述这段时间内该事件发生次数的概率分布。

例子：已知平均每分钟有12量车经过一座桥，请问一分钟内有至少17量车经过这座桥的概率是多少？

{% codeblock R代码 lang:r %}
ppois(16, lambda=12, lower=FALSE) 
{% endcodeblock %}

答案：10.1%
