---
title: 小心均值
date: 2020-01-20 20:56:00
categories:
  - 数据科学
---

{% asset_img power-law.png  "power law distribution" %}

在 Hacker News 看到一篇文章 [Beware the mean](https://stephen.sh/posts/beware-the-mean)。这篇文章的主题是：均值不是完美的指标，甚至极端一点地说，在分布符合 power-law 的情况下，均值是糟糕的指标。

我在游戏公司做数据分析时就对这个问题有强烈的感触，但当时没能想到更好的指标。[Beware the mean](https://stephen.sh/posts/beware-the-mean) 提出了一些值得探讨的思路。


<!-- more -->

## 为什么均值不够好

判断一个游戏的好坏时，经常使用 LTV 作为指标。

LTV 的英文是 life time value，含义是“用户生命周期”收入。严格地说，它应该是一个分布。

如果有1000个用户，经过30天后，我们可以计算这1000个用户的付费，得到1000个30天LTV。然后我们可以画一个直方图，查看LTV的分布情况。但我当年所在的3个游戏公司都不会这样做。

最粗暴的算法是：1000个用户在30天的总收入/1000。对数学足够敏感的人会很快意识到，这个数字是上面描述的分布的均值，这个均值，一般被称为**30日LTV**。

游戏公司用这个指标判断游戏的营收能力。这是完全不够的。

这1000个人可以当作一个随机抽样，少数离群值会严重影响计算出的均值大小。

比如，1000个人如果刚好有个土豪，均值显然会很高，而如果没有土豪进入（考虑到土豪的数量至少，这是大概率事件），游戏的营收能力会被低估。

换句话说，如果只使用均值，大概率会错判游戏的营收能力，进而让人做出错误的商业决策。

我对这个问题有亲身体会。我曾经在一家中型游戏公司工作，这家公司同时运营很多款游戏，每个游戏都有1到2个运营在调节运营活动。他们调整运营活动的决策依据大部分是 ARPPU（每付费用户的收入），这也是一个均值。

理论上说，因为土豪的概率很低，所以应该能看到每个游戏服之间存在巨大的 ARPPU 波动。运营人员经常修改游戏活动，一旦修改游戏活动后 ARPPU 增加，他们就会认为活动是有用的，否则，他们就会认为活动没用。当然，活动没用的情况是最多的，毕竟 power-law 分布下土豪的概率低嘛。

因为上面这个基于均值的思路，运营人员观察到了大量的数据波动，并把这些波动理解为是自己行为的后果，于是总结规律，希望能复制成功方案。结果因为数据受到随机因素影响，下次出现不了同样的成功，运营人员又得去思考新的方案，于是循环往复，浪费大量时间精力。

## 替代方案

[Beware the mean](https://stephen.sh/posts/beware-the-mean) 提到的替代方案是：选择分位数上的指标作为衡量标准。

比如，可以根据业务情况定指标如下：

- 80% 分位数上的用户的付费需要超过用户获取成本
- 90% 分位数上的用户付费需要超过 x 元
- 99% 分位数上的用户付费要超过 y 元
- 最大值要超过 z 元

按照这个标准去设定 KPI，有两个好处：

1. 可以帮助我们从分布角度去理解并“设计”用户收入的构成
2. 避免极端异常值的影响

它不一定能完全替代传统的“均值”指标，毕竟，均值是最简单易懂的，在组织层面使用均值作为指标能最小化沟通成本。

但对于员工知识水平比较高的团队，这是一个值得尝试的思路。这个方法一旦验证有效，会是一个很难被模仿的竞争优势。为什么很难被模仿呢？因为想让游戏公司的同事理解分位数并不容易，更别说应用在日常工作中了。
